var Gv=Object.defineProperty;var Vv=(t,e,i)=>e in t?Gv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var zn=(t,e,i)=>Vv(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var C6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function jv(){if(o2)return Bc;o2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:o,key:c,ref:a!==void 0?a:null,props:l}}return Bc.Fragment=e,Bc.jsx=i,Bc.jsxs=i,Bc}var a2;function Yv(){return a2||(a2=1,Ih.exports=jv()),Ih.exports}var _=Yv(),Dh={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function Jv(){if(s2)return on;s2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function S(Y){return Y===null||typeof Y!="object"?null:(Y=E&&Y[E]||Y["@@iterator"],typeof Y=="function"?Y:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function L(Y,k,G){this.props=Y,this.context=k,this.refs=B,this.updater=G||U}L.prototype.isReactComponent={},L.prototype.setState=function(Y,k){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,k,"setState")},L.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=L.prototype;function D(Y,k,G){this.props=Y,this.context=k,this.refs=B,this.updater=G||U}var J=D.prototype=new R;J.constructor=D,N(J,L.prototype),J.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var ue={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function K(Y,k,G){var z=G.ref;return{$$typeof:t,type:Y,key:k,ref:z!==void 0?z:null,props:G}}function X(Y,k){return K(Y.type,k,Y.props)}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function V(Y){var k={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(G){return k[G]})}var oe=/\/+/g;function ae(Y,k){return typeof Y=="object"&&Y!==null&&Y.key!=null?V(""+Y.key):k.toString(36)}function Te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(pe,pe):(Y.status="pending",Y.then(function(k){Y.status==="pending"&&(Y.status="fulfilled",Y.value=k)},function(k){Y.status==="pending"&&(Y.status="rejected",Y.reason=k)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Z(Y,k,G,z,Q){var ie=typeof Y;(ie==="undefined"||ie==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(ie){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case t:case e:ge=!0;break;case y:return ge=Y._init,Z(ge(Y._payload),k,G,z,Q)}}if(ge)return Q=Q(Y),ge=z===""?"."+ae(Y,0):z,le(Q)?(G="",ge!=null&&(G=ge.replace(oe,"$&/")+"/"),Z(Q,k,G,"",function(we){return we})):Q!=null&&(F(Q)&&(Q=X(Q,G+(Q.key==null||Y&&Y.key===Q.key?"":(""+Q.key).replace(oe,"$&/")+"/")+ge)),k.push(Q)),1;ge=0;var Ae=z===""?".":z+":";if(le(Y))for(var Ne=0;Ne<Y.length;Ne++)z=Y[Ne],ie=Ae+ae(z,Ne),ge+=Z(z,k,G,ie,Q);else if(Ne=S(Y),typeof Ne=="function")for(Y=Ne.call(Y),Ne=0;!(z=Y.next()).done;)z=z.value,ie=Ae+ae(z,Ne++),ge+=Z(z,k,G,ie,Q);else if(ie==="object"){if(typeof Y.then=="function")return Z(Te(Y),k,G,z,Q);throw k=String(Y),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ge}function de(Y,k,G){if(Y==null)return Y;var z=[],Q=0;return Z(Y,z,"","",function(ie){return k.call(G,ie,Q++)}),z}function re(Y){if(Y._status===-1){var k=Y._result;k=k(),k.then(function(G){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=G)},function(G){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=G)}),Y._status===-1&&(Y._status=0,Y._result=k)}if(Y._status===1)return Y._result.default;throw Y._result}var ke=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},qe={map:de,forEach:function(Y,k,G){de(Y,function(){k.apply(this,arguments)},G)},count:function(Y){var k=0;return de(Y,function(){k++}),k},toArray:function(Y){return de(Y,function(k){return k})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return on.Activity=w,on.Children=qe,on.Component=L,on.Fragment=i,on.Profiler=a,on.PureComponent=D,on.StrictMode=o,on.Suspense=h,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,on.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return ue.H.useMemoCache(Y)}},on.cache=function(Y){return function(){return Y.apply(null,arguments)}},on.cacheSignal=function(){return null},on.cloneElement=function(Y,k,G){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var z=N({},Y.props),Q=Y.key;if(k!=null)for(ie in k.key!==void 0&&(Q=""+k.key),k)!se.call(k,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&k.ref===void 0||(z[ie]=k[ie]);var ie=arguments.length-2;if(ie===1)z.children=G;else if(1<ie){for(var ge=Array(ie),Ae=0;Ae<ie;Ae++)ge[Ae]=arguments[Ae+2];z.children=ge}return K(Y.type,Q,z)},on.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},on.createElement=function(Y,k,G){var z,Q={},ie=null;if(k!=null)for(z in k.key!==void 0&&(ie=""+k.key),k)se.call(k,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Q[z]=k[z]);var ge=arguments.length-2;if(ge===1)Q.children=G;else if(1<ge){for(var Ae=Array(ge),Ne=0;Ne<ge;Ne++)Ae[Ne]=arguments[Ne+2];Q.children=Ae}if(Y&&Y.defaultProps)for(z in ge=Y.defaultProps,ge)Q[z]===void 0&&(Q[z]=ge[z]);return K(Y,ie,Q)},on.createRef=function(){return{current:null}},on.forwardRef=function(Y){return{$$typeof:f,render:Y}},on.isValidElement=F,on.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:re}},on.memo=function(Y,k){return{$$typeof:d,type:Y,compare:k===void 0?null:k}},on.startTransition=function(Y){var k=ue.T,G={};ue.T=G;try{var z=Y(),Q=ue.S;Q!==null&&Q(G,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(pe,ke)}catch(ie){ke(ie)}finally{k!==null&&G.types!==null&&(k.types=G.types),ue.T=k}},on.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},on.use=function(Y){return ue.H.use(Y)},on.useActionState=function(Y,k,G){return ue.H.useActionState(Y,k,G)},on.useCallback=function(Y,k){return ue.H.useCallback(Y,k)},on.useContext=function(Y){return ue.H.useContext(Y)},on.useDebugValue=function(){},on.useDeferredValue=function(Y,k){return ue.H.useDeferredValue(Y,k)},on.useEffect=function(Y,k){return ue.H.useEffect(Y,k)},on.useEffectEvent=function(Y){return ue.H.useEffectEvent(Y)},on.useId=function(){return ue.H.useId()},on.useImperativeHandle=function(Y,k,G){return ue.H.useImperativeHandle(Y,k,G)},on.useInsertionEffect=function(Y,k){return ue.H.useInsertionEffect(Y,k)},on.useLayoutEffect=function(Y,k){return ue.H.useLayoutEffect(Y,k)},on.useMemo=function(Y,k){return ue.H.useMemo(Y,k)},on.useOptimistic=function(Y,k){return ue.H.useOptimistic(Y,k)},on.useReducer=function(Y,k,G){return ue.H.useReducer(Y,k,G)},on.useRef=function(Y){return ue.H.useRef(Y)},on.useState=function(Y){return ue.H.useState(Y)},on.useSyncExternalStore=function(Y,k,G){return ue.H.useSyncExternalStore(Y,k,G)},on.useTransition=function(){return ue.H.useTransition()},on.version="19.2.0",on}var l2;function kp(){return l2||(l2=1,Dh.exports=Jv()),Dh.exports}var gt=kp();const fy=cy(gt);var Ph={exports:{}},qc={},Uh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2;function Wv(){return u2||(u2=1,(function(t){function e(Z,de){var re=Z.length;Z.push(de);e:for(;0<re;){var ke=re-1>>>1,qe=Z[ke];if(0<a(qe,de))Z[ke]=de,Z[re]=qe,re=ke;else break e}}function i(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var de=Z[0],re=Z.pop();if(re!==de){Z[0]=re;e:for(var ke=0,qe=Z.length,Y=qe>>>1;ke<Y;){var k=2*(ke+1)-1,G=Z[k],z=k+1,Q=Z[z];if(0>a(G,re))z<qe&&0>a(Q,G)?(Z[ke]=Q,Z[z]=re,ke=z):(Z[ke]=G,Z[k]=re,ke=k);else if(z<qe&&0>a(Q,re))Z[ke]=Q,Z[z]=re,ke=z;else break e}}return de}function a(Z,de){var re=Z.sortIndex-de.sortIndex;return re!==0?re:Z.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],d=[],y=1,w=null,E=3,S=!1,U=!1,N=!1,B=!1,L=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function J(Z){for(var de=i(d);de!==null;){if(de.callback===null)o(d);else if(de.startTime<=Z)o(d),de.sortIndex=de.expirationTime,e(h,de);else break;de=i(d)}}function le(Z){if(N=!1,J(Z),!U)if(i(h)!==null)U=!0,pe||(pe=!0,V());else{var de=i(d);de!==null&&Te(le,de.startTime-Z)}}var pe=!1,ue=-1,se=5,K=-1;function X(){return B?!0:!(t.unstable_now()-K<se)}function F(){if(B=!1,pe){var Z=t.unstable_now();K=Z;var de=!0;try{e:{U=!1,N&&(N=!1,R(ue),ue=-1),S=!0;var re=E;try{t:{for(J(Z),w=i(h);w!==null&&!(w.expirationTime>Z&&X());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,E=w.priorityLevel;var qe=ke(w.expirationTime<=Z);if(Z=t.unstable_now(),typeof qe=="function"){w.callback=qe,J(Z),de=!0;break t}w===i(h)&&o(h),J(Z)}else o(h);w=i(h)}if(w!==null)de=!0;else{var Y=i(d);Y!==null&&Te(le,Y.startTime-Z),de=!1}}break e}finally{w=null,E=re,S=!1}de=void 0}}finally{de?V():pe=!1}}}var V;if(typeof D=="function")V=function(){D(F)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=F,V=function(){ae.postMessage(null)}}else V=function(){L(F,0)};function Te(Z,de){ue=L(function(){Z(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var re=E;E=de;try{return Z()}finally{E=re}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=E;E=Z;try{return de()}finally{E=re}},t.unstable_scheduleCallback=function(Z,de,re){var ke=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ke+re:ke):re=ke,Z){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=re+qe,Z={id:y++,callback:de,priorityLevel:Z,startTime:re,expirationTime:qe,sortIndex:-1},re>ke?(Z.sortIndex=re,e(d,Z),i(h)===null&&Z===i(d)&&(N?(R(ue),ue=-1):N=!0,Te(le,re-ke))):(Z.sortIndex=qe,e(h,Z),U||S||(U=!0,pe||(pe=!0,V()))),Z},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Z){var de=E;return function(){var re=E;E=de;try{return Z.apply(this,arguments)}finally{E=re}}}})(Fh)),Fh}var c2;function Kv(){return c2||(c2=1,Uh.exports=Wv()),Uh.exports}var Bh={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function $v(){if(f2)return Ar;f2=1;var t=kp();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:h,containerInfo:d,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ar.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(h,d,null,y)},Ar.flushSync=function(h){var d=c.T,y=o.p;try{if(c.T=null,o.p=2,h)return h()}finally{c.T=d,o.p=y,o.d.f()}},Ar.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(h,d))},Ar.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},Ar.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,w=f(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?o.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:S}):y==="script"&&o.d.X(h,{crossOrigin:w,integrity:E,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ar.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);o.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(h)},Ar.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,w=f(y,d.crossOrigin);o.d.L(h,y,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ar.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=f(d.as,d.crossOrigin);o.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(h)},Ar.requestFormReset=function(h){o.d.r(h)},Ar.unstable_batchedUpdates=function(h,d){return h(d)},Ar.useFormState=function(h,d,y){return c.H.useFormState(h,d,y)},Ar.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ar.version="19.2.0",Ar}var d2;function Xv(){if(d2)return Bh.exports;d2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bh.exports=$v(),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function Zv(){if(h2)return qc;h2=1;var t=Kv(),e=kp(),i=Xv();function o(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(o(188))}function d(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(o(188));return r!==n?null:n}for(var s=n,u=r;;){var v=s.return;if(v===null)break;var b=v.alternate;if(b===null){if(u=v.return,u!==null){s=u;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===s)return h(v),n;if(b===u)return h(v),r;b=b.sibling}throw Error(o(188))}if(s.return!==u.return)s=v,u=b;else{for(var M=!1,H=v.child;H;){if(H===s){M=!0,s=v,u=b;break}if(H===u){M=!0,u=v,s=b;break}H=H.sibling}if(!M){for(H=b.child;H;){if(H===s){M=!0,s=b,u=v;break}if(H===u){M=!0,u=b,s=v;break}H=H.sibling}if(!M)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===oe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case L:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case D:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case J:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ue:return r=n.displayName||null,r!==null?r:ae(n.type)||"Memo";case se:r=n._payload,n=n._init;try{return ae(n(r))}catch{}}return null}var Te=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ke=[],qe=-1;function Y(n){return{current:n}}function k(n){0>qe||(n.current=ke[qe],ke[qe]=null,qe--)}function G(n,r){qe++,ke[qe]=n.current,n.current=r}var z=Y(null),Q=Y(null),ie=Y(null),ge=Y(null);function Ae(n,r){switch(G(ie,r),G(Q,n),G(z,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?N1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=N1(r),n=M1(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}k(z),G(z,n)}function Ne(){k(z),k(Q),k(ie)}function we(n){n.memoizedState!==null&&G(ge,n);var r=z.current,s=M1(r,n.type);r!==s&&(G(Q,n),G(z,s))}function me(n){Q.current===n&&(k(z),k(Q)),ge.current===n&&(k(ge),Dc._currentValue=re)}var Xe,et;function ot(n){if(Xe===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Xe=r&&r[1]||"",et=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+n+et}var W=!1;function at(n,r){if(!n||W)return"";W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Oe){var Ue=Oe}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(Oe){Ue=Oe}n.call(tt.prototype)}}else{try{throw Error()}catch(Oe){Ue=Oe}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Oe){if(Oe&&Ue&&typeof Oe.stack=="string")return[Oe.stack,Ue.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),M=b[0],H=b[1];if(M&&H){var ce=M.split(`
`),De=H.split(`
`);for(v=u=0;u<ce.length&&!ce[u].includes("DetermineComponentFrameRoot");)u++;for(;v<De.length&&!De[v].includes("DetermineComponentFrameRoot");)v++;if(u===ce.length||v===De.length)for(u=ce.length-1,v=De.length-1;1<=u&&0<=v&&ce[u]!==De[v];)v--;for(;1<=u&&0<=v;u--,v--)if(ce[u]!==De[v]){if(u!==1||v!==1)do if(u--,v--,0>v||ce[u]!==De[v]){var We=`
`+ce[u].replace(" at new "," at ");return n.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",n.displayName)),We}while(1<=u&&0<=v);break}}}finally{W=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?ot(s):""}function wt(n,r){switch(n.tag){case 26:case 27:case 5:return ot(n.type);case 16:return ot("Lazy");case 13:return n.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(n.type,!1);case 11:return at(n.type.render,!1);case 1:return at(n.type,!0);case 31:return ot("Activity");default:return""}}function mt(n){try{var r="",s=null;do r+=wt(n,s),s=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ze=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,ft=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,ut=t.unstable_requestPaint,jt=t.unstable_now,sn=t.unstable_getCurrentPriorityLevel,yt=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,lt=t.unstable_LowPriority,vt=t.unstable_IdlePriority,dt=t.log,Yt=t.unstable_setDisableYieldValue,bt=null,Ct=null;function Tt(n){if(typeof dt=="function"&&Yt(n),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(bt,n)}catch{}}var qt=Math.clz32?Math.clz32:fe,rt=Math.log,Ht=Math.LN2;function fe(n){return n>>>=0,n===0?32:31-(rt(n)/Ht|0)|0}var xe=256,Fe=262144,ve=4194304;function _e(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ze(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var v=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var H=u&134217727;return H!==0?(u=H&~b,u!==0?v=_e(u):(M&=H,M!==0?v=_e(M):s||(s=H&~n,s!==0&&(v=_e(s))))):(H=u&~b,H!==0?v=_e(H):M!==0?v=_e(M):s||(s=u&~n,s!==0&&(v=_e(s)))),v===0?0:r!==0&&r!==v&&(r&b)===0&&(b=v&-v,s=r&-r,b>=s||b===32&&(s&4194048)!==0)?r:v}function Je(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Et(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var n=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),n}function He(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Be(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ye(n,r,s,u,v,b){var M=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var H=n.entanglements,ce=n.expirationTimes,De=n.hiddenUpdates;for(s=M&~s;0<s;){var We=31-qt(s),tt=1<<We;H[We]=0,ce[We]=-1;var Ue=De[We];if(Ue!==null)for(De[We]=null,We=0;We<Ue.length;We++){var Oe=Ue[We];Oe!==null&&(Oe.lane&=-536870913)}s&=~tt}u!==0&&pt(n,u,0),b!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~r))}function pt(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-qt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function Ot(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-qt(s),v=1<<u;v&r|n[u]&r&&(n[u]|=r),s&=~v}}function tn(n,r){var s=r&-r;return s=(s&42)!==0?1:Ut(s),(s&(n.suspendedLanes|r))!==0?0:s}function Ut(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ft(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bn(){var n=de.p;return n!==0?n:(n=window.event,n===void 0?32:Z1(n.type))}function ki(n,r){var s=de.p;try{return de.p=n,r()}finally{de.p=s}}var gn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+gn,en="__reactProps$"+gn,ti="__reactContainer$"+gn,Nn="__reactEvents$"+gn,Kn="__reactListeners$"+gn,br="__reactHandles$"+gn,Gi="__reactResources$"+gn,ur="__reactMarker$"+gn;function kr(n){delete n[Xt],delete n[en],delete n[Nn],delete n[Kn],delete n[br]}function cr(n){var r=n[Xt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[ti]||s[Xt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=U1(n);n!==null;){if(s=n[Xt])return s;n=U1(n)}return r}n=s,s=n.parentNode}return null}function Qi(n){if(n=n[Xt]||n[ti]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function er(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(o(33))}function fr(n){var r=n[Gi];return r||(r=n[Gi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mi(n){n[ur]=!0}var al=new Set,Lr={};function ro(n,r){Bo(n,r),Bo(n+"Capture",r)}function Bo(n,r){for(Lr[n]=r,n=0;n<r.length;n++)al.add(r[n])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ul={};function Jl(n){return ze.call(ul,n)?!0:ze.call(ll,n)?!1:sl.test(n)?ul[n]=!0:(ll[n]=!0,!1)}function Rr(n,r,s){if(Jl(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function qo(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function oo(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bo(n,r,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return v.call(this)},set:function(M){s=""+M,b.call(this,M)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(M){s=""+M},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function va(n){if(!n._valueTracker){var r=cl(n)?"checked":"value";n._valueTracker=bo(n,r,""+n[r])}}function fl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=cl(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Li=/[\n"\\]/g;function wi(n){return n.replace(Li,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bs(n,r,s,u,v,b,M,H){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),r!=null?M==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Mn(r)):n.value!==""+Mn(r)&&(n.value=""+Mn(r)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),r!=null?dl(n,M,Mn(r)):s!=null?dl(n,M,Mn(s)):u!=null&&n.removeAttribute("value"),v==null&&b!=null&&(n.defaultChecked=!!b),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?n.name=""+Mn(H):n.removeAttribute("name")}function Wl(n,r,s,u,v,b,M,H){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),r!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){va(n);return}s=s!=null?""+Mn(s):"",r=r!=null?""+Mn(r):s,H||r===n.value||(n.value=r),n.defaultValue=r}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=H?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),va(n)}function dl(n,r,s){r==="number"&&dr(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function hr(n,r,s,u){if(n=n.options,r){r={};for(var v=0;v<s.length;v++)r["$"+s[v]]=!0;for(s=0;s<n.length;s++)v=r.hasOwnProperty("$"+n[s].value),n[s].selected!==v&&(n[s].selected=v),v&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Mn(s),r=null,v=0;v<n.length;v++){if(n[v].value===s){n[v].selected=!0,u&&(n[v].defaultSelected=!0);return}r!==null||n[v].disabled||(r=n[v])}r!==null&&(r.selected=!0)}}function hl(n,r,s){if(r!=null&&(r=""+Mn(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Mn(s):""}function pl(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(o(92));if(Te(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Mn(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),va(n)}function ao(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||Oa.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function $l(n,r,s){if(r!=null&&typeof r!="object")throw Error(o(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var v in r)u=r[v],r.hasOwnProperty(v)&&s[v]!==u&&Kl(n,v,u)}else for(var b in r)r.hasOwnProperty(b)&&Kl(n,b,r[b])}function ml(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wr(n){return Xl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function so(){}var Oo=null;function za(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xa=null,Jt=null;function Zl(n){var r=Qi(n);if(r&&(n=r.stateNode)){var s=n[en]||null;e:switch(n=r.stateNode,r.type){case"input":if(bs(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wi(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var v=u[en]||null;if(!v)throw Error(o(90));bs(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&fl(u)}break e;case"textarea":hl(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&hr(n,!!s.multiple,r,!1)}}}var yl=!1;function Ql(n,r,s){if(yl)return n(r,s);yl=!0;try{var u=n(r);return u}finally{if(yl=!1,(xa!==null||Jt!==null)&&(wf(),xa&&(r=xa,n=Jt,Jt=xa=null,Zl(r),n)))for(r=0;r<n.length;r++)Zl(n[r])}}function Ir(n,r){var s=n.stateNode;if(s===null)return null;var u=s[en]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,r,typeof s));return s}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(Vi)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{vl=!1}var Dr=null,Ga=null,wo=null;function eu(){if(wo)return wo;var n,r=Ga,s=r.length,u,v="value"in Dr?Dr.value:Dr.textContent,b=v.length;for(n=0;n<s&&r[n]===v[n];n++);var M=s-n;for(u=1;u<=M&&r[s-u]===v[b-u];u++);return wo=v.slice(n,1<u?1-u:void 0)}function Or(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ws(){return!0}function Ss(){return!1}function Bi(n){function r(s,u,v,b,M){this._reactName=s,this._targetInst=v,this.type=u,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var H in n)n.hasOwnProperty(H)&&(s=n[H],this[H]=s?s(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ws:Ss,this.isPropagationStopped=Ss,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),r}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Bi(So),zo=w({},So,{view:0,detail:0}),_s=Bi(zo),Va,Ho,Go,ja=w({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$t,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Go&&(Go&&n.type==="mousemove"?(Va=n.screenX-Go.screenX,Ho=n.screenY-Go.screenY):Ho=Va=0,Go=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Ho}}),xl=Bi(ja),Vo=w({},ja,{dataTransfer:0}),jo=Bi(Vo),tu=w({},zo,{relatedTarget:0}),Yo=Bi(tu),nu=w({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Bi(nu),I=w({},So,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ne=Bi(I),he=w({},So,{data:0}),Ee=Bi(he),Ke={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dt(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=kt[n])?!!r[n]:!1}function $t(){return Dt}var nn=w({},zo,{key:function(n){if(n.key){var r=Ke[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Or(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?it[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$t,charCode:function(n){return n.type==="keypress"?Or(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Or(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wn=Bi(nn),ni=w({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gi=Bi(ni),Gn=w({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$t}),Ri=Bi(Gn),Si=w({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),ji=Bi(Si),Jo=w({},ja,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=Bi(Jo),Wo=w({},So,{newState:0,oldState:0}),bl=Bi(Wo),As=[9,13,27,32],_o=Vi&&"CompositionEvent"in window,uo=null;Vi&&"documentMode"in document&&(uo=document.documentMode);var Ya=Vi&&"TextEvent"in window&&!uo,Ko=Vi&&(!_o||uo&&8<uo&&11>=uo),qi=" ",ba=!1;function wa(n,r){switch(n){case"keyup":return As.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ao=!1;function pr(n,r){switch(n){case"compositionend":return Es(r);case"keypress":return r.which!==32?null:(ba=!0,qi);case"textInput":return n=r.data,n===qi&&ba?null:n;default:return null}}function $o(n,r){if(Ao)return n==="compositionend"||!_o&&wa(n,r)?(n=eu(),wo=Ga=Dr=null,Ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ko&&r.locale!=="ko"?null:r.data;default:return null}}var Cs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Cs[n.type]:r==="textarea"}function Pr(n,r,s,u){xa?Jt?Jt.push(u):Jt=[u]:xa=u,r=Nf(r,"onChange"),0<r.length&&(s=new zr("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var co=null,Xo=null;function Sl(n){S1(n,0)}function fo(n){var r=er(n);if(fl(r))return n}function Sa(n,r){if(n==="change")return r}var Sr=!1;if(Vi){var mr;if(Vi){var Eo="oninput"in document;if(!Eo){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),Eo=typeof Co.oninput=="function"}mr=Eo}else mr=!1;Sr=mr&&(!document.documentMode||9<document.documentMode)}function Zo(){co&&(co.detachEvent("onpropertychange",Ts),Xo=co=null)}function Ts(n){if(n.propertyName==="value"&&fo(Xo)){var r=[];Pr(r,Xo,n,za(n)),Ql(Sl,r)}}function Ns(n,r,s){n==="focusin"?(Zo(),co=r,Xo=s,co.attachEvent("onpropertychange",Ts)):n==="focusout"&&Zo()}function yi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fo(Xo)}function iu(n,r){if(n==="click")return fo(r)}function To(n,r){if(n==="input"||n==="change")return fo(r)}function No(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Yi=typeof Object.is=="function"?Object.is:No;function Qo(n,r){if(Yi(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var v=s[u];if(!ze.call(r,v)||!Yi(n[v],r[v]))return!1}return!0}function Ms(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ks(n,r){var s=Ms(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ms(s)}}function ea(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ea(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ta(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=dr(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=dr(n.document)}return r}function Mo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Ja=Vi&&"documentMode"in document&&11>=document.documentMode,Ur=null,na=null,tr=null,Hr=!1;function kn(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hr||Ur==null||Ur!==dr(u)||(u=Ur,"selectionStart"in u&&Mo(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),tr&&Qo(tr,u)||(tr=u,u=Nf(na,"onSelect"),0<u.length&&(r=new zr("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Ur)))}function Sn(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Vn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},vi={},ko={};Vi&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function ho(n){if(vi[n])return vi[n];if(!Vn[n])return n;var r=Vn[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in ko)return vi[n]=r[s];return n}var Wa=ho("animationend"),_l=ho("animationiteration"),ic=ho("animationstart"),$c=ho("transitionrun"),Xc=ho("transitionstart"),Zc=ho("transitioncancel"),rc=ho("transitionend"),oc=new Map,Ka="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ka.push("scrollEnd");function Gr(n,r){oc.set(n,r),ro(r,[n])}var Al=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fr=[],$a=0,ru=0;function El(){for(var n=$a,r=ru=$a=0;r<n;){var s=Fr[r];Fr[r++]=null;var u=Fr[r];Fr[r++]=null;var v=Fr[r];Fr[r++]=null;var b=Fr[r];if(Fr[r++]=null,u!==null&&v!==null){var M=u.pending;M===null?v.next=v:(v.next=M.next,M.next=v),u.pending=v}b!==0&&Tl(s,v,b)}}function Cl(n,r,s,u){Fr[$a++]=n,Fr[$a++]=r,Fr[$a++]=s,Fr[$a++]=u,ru|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ou(n,r,s,u){return Cl(n,r,s,u),nr(n)}function ia(n,r){return Cl(n,null,null,r),nr(n)}function Tl(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var v=!1,b=n.return;b!==null;)b.childLanes|=s,u=b.alternate,u!==null&&(u.childLanes|=s),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(v=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,v&&r!==null&&(v=31-qt(s),n=b.hiddenUpdates,u=n[v],u===null?n[v]=[r]:u.push(r),r.lane=s|536870912),b):null}function nr(n){if(50<Tc)throw Tc=0,ih=null,Error(o(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ji={};function au(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(n,r,s,u){return new au(n,r,s,u)}function su(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vr(n,r){var s=n.alternate;return s===null?(s=ir(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Nl(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ls(n,r,s,u,v,b){var M=0;if(u=n,typeof n=="function")su(n)&&(M=1);else if(typeof n=="string")M=Lv(n,s,z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case K:return n=ir(31,s,r,v),n.elementType=K,n.lanes=b,n;case N:return _a(s.children,v,b,r);case B:M=8,v|=24;break;case L:return n=ir(12,s,r,v|2),n.elementType=L,n.lanes=b,n;case le:return n=ir(13,s,r,v),n.elementType=le,n.lanes=b,n;case pe:return n=ir(19,s,r,v),n.elementType=pe,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:M=10;break e;case R:M=9;break e;case J:M=11;break e;case ue:M=14;break e;case se:M=16,u=null;break e}M=29,s=Error(o(130,n===null?"null":typeof n,"")),u=null}return r=ir(M,s,r,v),r.elementType=n,r.type=u,r.lanes=b,r}function _a(n,r,s,u){return n=ir(7,n,u,r),n.lanes=s,n}function Ml(n,r,s){return n=ir(6,n,null,r),n.lanes=s,n}function lu(n){var r=ir(18,null,null,0);return r.stateNode=n,r}function Rs(n,r,s){return r=ir(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var uu=new WeakMap;function jr(n,r){if(typeof n=="object"&&n!==null){var s=uu.get(n);return s!==void 0?s:(r={value:n,source:r,stack:mt(r)},uu.set(n,r),r)}return{value:n,source:r,stack:mt(r)}}var Is=[],Xa=0,cu=null,kl=0,Yr=[],Jr=0,Aa=null,Wr=1,Kr="";function Br(n,r){Is[Xa++]=kl,Is[Xa++]=cu,cu=n,kl=r}function Qc(n,r,s){Yr[Jr++]=Wr,Yr[Jr++]=Kr,Yr[Jr++]=Aa,Aa=n;var u=Wr;n=Kr;var v=32-qt(u)-1;u&=~(1<<v),s+=1;var b=32-qt(r)+v;if(30<b){var M=v-v%5;b=(u&(1<<M)-1).toString(32),u>>=M,v-=M,Wr=1<<32-qt(r)+v|s<<v|u,Kr=b+n}else Wr=1<<b|s<<v|u,Kr=n}function ac(n){n.return!==null&&(Br(n,1),Qc(n,1,0))}function fu(n){for(;n===cu;)cu=Is[--Xa],Is[Xa]=null,kl=Is[--Xa],Is[Xa]=null;for(;n===Aa;)Aa=Yr[--Jr],Yr[Jr]=null,Kr=Yr[--Jr],Yr[Jr]=null,Wr=Yr[--Jr],Yr[Jr]=null}function ef(n,r){Yr[Jr++]=Wr,Yr[Jr++]=Kr,Yr[Jr++]=Aa,Wr=r.id,Kr=r.overflow,Aa=n}var Wi=null,$n=null,hn=!1,gr=null,ui=!1,po=Error(o(519));function Ea(n){var r=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(jr(r,n)),po}function sc(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[Xt]=n,r[en]=u,s){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(s=0;s<Mc.length;s++)mn(Mc[s],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":mn("invalid",r),Wl(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":mn("invalid",r);break;case"textarea":mn("invalid",r),pl(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||C1(r.textContent,s)?(u.popover!=null&&(mn("beforetoggle",r),mn("toggle",r)),u.onScroll!=null&&mn("scroll",r),u.onScrollEnd!=null&&mn("scrollend",r),u.onClick!=null&&(r.onclick=so),r=!0):r=!1,r||Ea(n,!0)}function ra(n){for(Wi=n.return;Wi;)switch(Wi.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Wi=Wi.return}}function Ki(n){if(n!==Wi)return!1;if(!hn)return ra(n),hn=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||vh(n.type,n.memoizedProps)),s=!s),s&&$n&&Ea(n),ra(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$n=P1(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$n=P1(n)}else r===27?(r=$n,Ws(n.type)?(n=_h,_h=null,$n=n):$n=r):$n=Wi?Do(n.stateNode.nextSibling):null;return!0}function Za(){$n=Wi=null,hn=!1}function lc(){var n=gr;return n!==null&&(to===null?to=n:to.push.apply(to,n),gr=null),n}function Ds(n){gr===null?gr=[n]:gr.push(n)}var du=Y(null),Ca=null,Lo=null;function Ta(n,r,s){G(du,r._currentValue),r._currentValue=s}function $r(n){n._currentValue=du.current,k(du)}function Ps(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function Qa(n,r,s,u){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var b=v.dependencies;if(b!==null){var M=v.child;b=b.firstContext;e:for(;b!==null;){var H=b;b=v;for(var ce=0;ce<r.length;ce++)if(H.context===r[ce]){b.lanes|=s,H=b.alternate,H!==null&&(H.lanes|=s),Ps(b.return,s,n),u||(M=null);break e}b=H.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(o(341));M.lanes|=s,b=M.alternate,b!==null&&(b.lanes|=s),Ps(M,s,n),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===n){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function Na(n,r,s,u){n=null;for(var v=r,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(o(387));if(M=M.memoizedProps,M!==null){var H=v.type;Yi(v.pendingProps.value,M.value)||(n!==null?n.push(H):n=[H])}}else if(v===ge.current){if(M=v.alternate,M===null)throw Error(o(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Dc):n=[Dc])}v=v.return}n!==null&&Qa(r,n,s,u),r.flags|=262144}function hu(n){for(n=n.firstContext;n!==null;){if(!Yi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ma(n){Ca=n,Lo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $i(n){return tf(Ca,n)}function pu(n,r){return Ca===null&&Ma(n),tf(n,r)}function tf(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Lo===null){if(n===null)throw Error(o(308));Lo=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Lo=Lo.next=r;return s}var Sd=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},_d=t.unstable_scheduleCallback,Ad=t.unstable_NormalPriority,xi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new Sd,data:new Map,refCount:0}}function Ll(n){n.refCount--,n.refCount===0&&_d(Ad,function(){n.controller.abort()})}var Rl=null,mu=0,m=0,x=null;function C(n,r){if(Rl===null){var s=Rl=[];mu=0,m=uh(),x={status:"pending",value:void 0,then:function(u){s.push(u)}}}return mu++,r.then(T,T),r}function T(){if(--mu===0&&Rl!==null){x!==null&&(x.status="fulfilled");var n=Rl;Rl=null,m=0,x=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function P(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(v){s.push(v)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var v=0;v<s.length;v++)(0,s[v])(r)},function(v){for(u.status="rejected",u.reason=v,v=0;v<s.length;v++)(0,s[v])(void 0)}),u}var q=Z.S;Z.S=function(n,r){$0=jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&C(n,r),q!==null&&q(n,r)};var O=Y(null);function j(){var n=O.current;return n!==null?n:Zn.pooledCache}function $(n,r){r===null?G(O,O.current):G(O,r.pool)}function te(){var n=j();return n===null?null:{parent:xi._currentValue,pool:n}}var ye=Error(o(460)),Re=Error(o(474)),ee=Error(o(542)),Se={then:function(){}};function Me(n){return n=n.status,n==="fulfilled"||n==="rejected"}function je(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(so,so),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,st(n),n;default:if(typeof r.status=="string")r.then(so,so);else{if(n=Zn,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=u}},function(u){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,st(n),n}throw Ve=r,ye}}function Le(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ve=s,ye):s}}var Ve=null;function $e(){if(Ve===null)throw Error(o(459));var n=Ve;return Ve=null,n}function st(n){if(n===ye||n===ee)throw Error(o(483))}var nt=null,Rt=0;function _t(n){var r=Rt;return Rt+=1,nt===null&&(nt=[]),je(nt,n,r)}function Zt(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Nt(n,r){throw r.$$typeof===E?Error(o(525)):(n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function dn(n){function r(Ce,be){if(n){var Ie=Ce.deletions;Ie===null?(Ce.deletions=[be],Ce.flags|=16):Ie.push(be)}}function s(Ce,be){if(!n)return null;for(;be!==null;)r(Ce,be),be=be.sibling;return null}function u(Ce){for(var be=new Map;Ce!==null;)Ce.key!==null?be.set(Ce.key,Ce):be.set(Ce.index,Ce),Ce=Ce.sibling;return be}function v(Ce,be){return Ce=Vr(Ce,be),Ce.index=0,Ce.sibling=null,Ce}function b(Ce,be,Ie){return Ce.index=Ie,n?(Ie=Ce.alternate,Ie!==null?(Ie=Ie.index,Ie<be?(Ce.flags|=67108866,be):Ie):(Ce.flags|=67108866,be)):(Ce.flags|=1048576,be)}function M(Ce){return n&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function H(Ce,be,Ie,Qe){return be===null||be.tag!==6?(be=Ml(Ie,Ce.mode,Qe),be.return=Ce,be):(be=v(be,Ie),be.return=Ce,be)}function ce(Ce,be,Ie,Qe){var Vt=Ie.type;return Vt===N?We(Ce,be,Ie.props.children,Qe,Ie.key):be!==null&&(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===se&&Le(Vt)===be.type)?(be=v(be,Ie.props),Zt(be,Ie),be.return=Ce,be):(be=Ls(Ie.type,Ie.key,Ie.props,null,Ce.mode,Qe),Zt(be,Ie),be.return=Ce,be)}function De(Ce,be,Ie,Qe){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ie.containerInfo||be.stateNode.implementation!==Ie.implementation?(be=Rs(Ie,Ce.mode,Qe),be.return=Ce,be):(be=v(be,Ie.children||[]),be.return=Ce,be)}function We(Ce,be,Ie,Qe,Vt){return be===null||be.tag!==7?(be=_a(Ie,Ce.mode,Qe,Vt),be.return=Ce,be):(be=v(be,Ie),be.return=Ce,be)}function tt(Ce,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Ml(""+be,Ce.mode,Ie),be.return=Ce,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case S:return Ie=Ls(be.type,be.key,be.props,null,Ce.mode,Ie),Zt(Ie,be),Ie.return=Ce,Ie;case U:return be=Rs(be,Ce.mode,Ie),be.return=Ce,be;case se:return be=Le(be),tt(Ce,be,Ie)}if(Te(be)||V(be))return be=_a(be,Ce.mode,Ie,null),be.return=Ce,be;if(typeof be.then=="function")return tt(Ce,_t(be),Ie);if(be.$$typeof===D)return tt(Ce,pu(Ce,be),Ie);Nt(Ce,be)}return null}function Ue(Ce,be,Ie,Qe){var Vt=be!==null?be.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Vt!==null?null:H(Ce,be,""+Ie,Qe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case S:return Ie.key===Vt?ce(Ce,be,Ie,Qe):null;case U:return Ie.key===Vt?De(Ce,be,Ie,Qe):null;case se:return Ie=Le(Ie),Ue(Ce,be,Ie,Qe)}if(Te(Ie)||V(Ie))return Vt!==null?null:We(Ce,be,Ie,Qe,null);if(typeof Ie.then=="function")return Ue(Ce,be,_t(Ie),Qe);if(Ie.$$typeof===D)return Ue(Ce,be,pu(Ce,Ie),Qe);Nt(Ce,Ie)}return null}function Oe(Ce,be,Ie,Qe,Vt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Ce=Ce.get(Ie)||null,H(be,Ce,""+Qe,Vt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case S:return Ce=Ce.get(Qe.key===null?Ie:Qe.key)||null,ce(be,Ce,Qe,Vt);case U:return Ce=Ce.get(Qe.key===null?Ie:Qe.key)||null,De(be,Ce,Qe,Vt);case se:return Qe=Le(Qe),Oe(Ce,be,Ie,Qe,Vt)}if(Te(Qe)||V(Qe))return Ce=Ce.get(Ie)||null,We(be,Ce,Qe,Vt,null);if(typeof Qe.then=="function")return Oe(Ce,be,Ie,_t(Qe),Vt);if(Qe.$$typeof===D)return Oe(Ce,be,Ie,pu(be,Qe),Vt);Nt(be,Qe)}return null}function Lt(Ce,be,Ie,Qe){for(var Vt=null,Rn=null,Pt=be,un=be=0,vn=null;Pt!==null&&un<Ie.length;un++){Pt.index>un?(vn=Pt,Pt=null):vn=Pt.sibling;var In=Ue(Ce,Pt,Ie[un],Qe);if(In===null){Pt===null&&(Pt=vn);break}n&&Pt&&In.alternate===null&&r(Ce,Pt),be=b(In,be,un),Rn===null?Vt=In:Rn.sibling=In,Rn=In,Pt=vn}if(un===Ie.length)return s(Ce,Pt),hn&&Br(Ce,un),Vt;if(Pt===null){for(;un<Ie.length;un++)Pt=tt(Ce,Ie[un],Qe),Pt!==null&&(be=b(Pt,be,un),Rn===null?Vt=Pt:Rn.sibling=Pt,Rn=Pt);return hn&&Br(Ce,un),Vt}for(Pt=u(Pt);un<Ie.length;un++)vn=Oe(Pt,Ce,un,Ie[un],Qe),vn!==null&&(n&&vn.alternate!==null&&Pt.delete(vn.key===null?un:vn.key),be=b(vn,be,un),Rn===null?Vt=vn:Rn.sibling=vn,Rn=vn);return n&&Pt.forEach(function(Qs){return r(Ce,Qs)}),hn&&Br(Ce,un),Vt}function Kt(Ce,be,Ie,Qe){if(Ie==null)throw Error(o(151));for(var Vt=null,Rn=null,Pt=be,un=be=0,vn=null,In=Ie.next();Pt!==null&&!In.done;un++,In=Ie.next()){Pt.index>un?(vn=Pt,Pt=null):vn=Pt.sibling;var Qs=Ue(Ce,Pt,In.value,Qe);if(Qs===null){Pt===null&&(Pt=vn);break}n&&Pt&&Qs.alternate===null&&r(Ce,Pt),be=b(Qs,be,un),Rn===null?Vt=Qs:Rn.sibling=Qs,Rn=Qs,Pt=vn}if(In.done)return s(Ce,Pt),hn&&Br(Ce,un),Vt;if(Pt===null){for(;!In.done;un++,In=Ie.next())In=tt(Ce,In.value,Qe),In!==null&&(be=b(In,be,un),Rn===null?Vt=In:Rn.sibling=In,Rn=In);return hn&&Br(Ce,un),Vt}for(Pt=u(Pt);!In.done;un++,In=Ie.next())In=Oe(Pt,Ce,un,In.value,Qe),In!==null&&(n&&In.alternate!==null&&Pt.delete(In.key===null?un:In.key),be=b(In,be,un),Rn===null?Vt=In:Rn.sibling=In,Rn=In);return n&&Pt.forEach(function(Hv){return r(Ce,Hv)}),hn&&Br(Ce,un),Vt}function Wn(Ce,be,Ie,Qe){if(typeof Ie=="object"&&Ie!==null&&Ie.type===N&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case S:e:{for(var Vt=Ie.key;be!==null;){if(be.key===Vt){if(Vt=Ie.type,Vt===N){if(be.tag===7){s(Ce,be.sibling),Qe=v(be,Ie.props.children),Qe.return=Ce,Ce=Qe;break e}}else if(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===se&&Le(Vt)===be.type){s(Ce,be.sibling),Qe=v(be,Ie.props),Zt(Qe,Ie),Qe.return=Ce,Ce=Qe;break e}s(Ce,be);break}else r(Ce,be);be=be.sibling}Ie.type===N?(Qe=_a(Ie.props.children,Ce.mode,Qe,Ie.key),Qe.return=Ce,Ce=Qe):(Qe=Ls(Ie.type,Ie.key,Ie.props,null,Ce.mode,Qe),Zt(Qe,Ie),Qe.return=Ce,Ce=Qe)}return M(Ce);case U:e:{for(Vt=Ie.key;be!==null;){if(be.key===Vt)if(be.tag===4&&be.stateNode.containerInfo===Ie.containerInfo&&be.stateNode.implementation===Ie.implementation){s(Ce,be.sibling),Qe=v(be,Ie.children||[]),Qe.return=Ce,Ce=Qe;break e}else{s(Ce,be);break}else r(Ce,be);be=be.sibling}Qe=Rs(Ie,Ce.mode,Qe),Qe.return=Ce,Ce=Qe}return M(Ce);case se:return Ie=Le(Ie),Wn(Ce,be,Ie,Qe)}if(Te(Ie))return Lt(Ce,be,Ie,Qe);if(V(Ie)){if(Vt=V(Ie),typeof Vt!="function")throw Error(o(150));return Ie=Vt.call(Ie),Kt(Ce,be,Ie,Qe)}if(typeof Ie.then=="function")return Wn(Ce,be,_t(Ie),Qe);if(Ie.$$typeof===D)return Wn(Ce,be,pu(Ce,Ie),Qe);Nt(Ce,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,be!==null&&be.tag===6?(s(Ce,be.sibling),Qe=v(be,Ie),Qe.return=Ce,Ce=Qe):(s(Ce,be),Qe=Ml(Ie,Ce.mode,Qe),Qe.return=Ce,Ce=Qe),M(Ce)):s(Ce,be)}return function(Ce,be,Ie,Qe){try{Rt=0;var Vt=Wn(Ce,be,Ie,Qe);return nt=null,Vt}catch(Pt){if(Pt===ye||Pt===ee)throw Pt;var Rn=ir(29,Pt,null,Ce.mode);return Rn.lanes=Qe,Rn.return=Ce,Rn}finally{}}}var Xn=dn(!0),rn=dn(!1),At=!1;function ht(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ln(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Fn&2)!==0){var v=u.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),u.pending=r,r=nr(n),Tl(n,null,s),r}return Cl(n,u,r,s),nr(n)}function Pn(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Ot(n,s)}}function Ii(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var v=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var M={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?v=b=M:b=b.next=M,s=s.next}while(s!==null);b===null?v=b=r:b=b.next=r}else v=b=r;s={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var Xi=!1;function jn(){if(Xi){var n=x;if(n!==null)throw n}}function _i(n,r,s,u){Xi=!1;var v=n.updateQueue;At=!1;var b=v.firstBaseUpdate,M=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var ce=H,De=ce.next;ce.next=null,M===null?b=De:M.next=De,M=ce;var We=n.alternate;We!==null&&(We=We.updateQueue,H=We.lastBaseUpdate,H!==M&&(H===null?We.firstBaseUpdate=De:H.next=De,We.lastBaseUpdate=ce))}if(b!==null){var tt=v.baseState;M=0,We=De=ce=null,H=b;do{var Ue=H.lane&-536870913,Oe=Ue!==H.lane;if(Oe?(yn&Ue)===Ue:(u&Ue)===Ue){Ue!==0&&Ue===m&&(Xi=!0),We!==null&&(We=We.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Lt=n,Kt=H;Ue=r;var Wn=s;switch(Kt.tag){case 1:if(Lt=Kt.payload,typeof Lt=="function"){tt=Lt.call(Wn,tt,Ue);break e}tt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Kt.payload,Ue=typeof Lt=="function"?Lt.call(Wn,tt,Ue):Lt,Ue==null)break e;tt=w({},tt,Ue);break e;case 2:At=!0}}Ue=H.callback,Ue!==null&&(n.flags|=64,Oe&&(n.flags|=8192),Oe=v.callbacks,Oe===null?v.callbacks=[Ue]:Oe.push(Ue))}else Oe={lane:Ue,tag:H.tag,payload:H.payload,callback:H.callback,next:null},We===null?(De=We=Oe,ce=tt):We=We.next=Oe,M|=Ue;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;Oe=H,H=Oe.next,Oe.next=null,v.lastBaseUpdate=Oe,v.shared.pending=null}}while(!0);We===null&&(ce=tt),v.baseState=ce,v.firstBaseUpdate=De,v.lastBaseUpdate=We,b===null&&(v.shared.lanes=0),Gs|=M,n.lanes=M,n.memoizedState=tt}}function rr(n,r){if(typeof n!="function")throw Error(o(191,n));n.call(r)}function Ai(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)rr(s[n],r)}var fn=Y(null),En=Y(0);function ri(n,r){n=us,G(En,n),G(fn,r),us=n|r.baseLanes}function Ln(){G(En,us),G(fn,fn.current)}function Di(){us=En.current,k(fn),k(En)}var oi=Y(null),Cn=null;function bi(n){var r=n.alternate;G(_n,_n.current&1),G(oi,n),Cn===null&&(r===null||fn.current!==null||r.memoizedState!==null)&&(Cn=n)}function Un(n){G(_n,_n.current),G(oi,n),Cn===null&&(Cn=n)}function Ei(n){n.tag===22?(G(_n,_n.current),G(oi,n),Cn===null&&(Cn=n)):Ci()}function Ci(){G(_n,_n.current),G(oi,oi.current)}function Bn(n){k(oi),Cn===n&&(Cn=null),k(_n)}var _n=Y(0);function or(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||wh(s)||Sh(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ci=0,zt=null,Gt=null,Tn=null,_r=!1,Xr=!1,yr=!1,Ti=0,ka=0,La=null,gu=0;function Yn(){throw Error(o(321))}function uc(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!Yi(n[s],r[s]))return!1;return!0}function cc(n,r,s,u,v,b){return ci=b,zt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=n===null||n.memoizedState===null?s0:Rd,yr=!1,b=s(u,v),yr=!1,Xr&&(b=oa(r,s,u,v)),yu(n),b}function yu(n){Z.H=vc;var r=Gt!==null&&Gt.next!==null;if(ci=0,Tn=Gt=zt=null,_r=!1,ka=0,La=null,r)throw Error(o(300));n===null||zi||(n=n.dependencies,n!==null&&hu(n)&&(zi=!0))}function oa(n,r,s,u){zt=n;var v=0;do{if(Xr&&(La=null),ka=0,Xr=!1,25<=v)throw Error(o(301));if(v+=1,Tn=Gt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=l0,b=r(s,u)}while(Xr);return b}function Ed(){var n=Z.H,r=n.useState()[0];return r=typeof r.then=="function"?Ra(r):r,n=n.useState()[0],(Gt!==null?Gt.memoizedState:null)!==n&&(zt.flags|=1024),r}function fc(){var n=Ti!==0;return Ti=0,n}function dc(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function vu(n){if(_r){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}_r=!1}ci=0,Tn=Gt=zt=null,Xr=!1,ka=Ti=0,La=null}function Oi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?zt.memoizedState=Tn=n:Tn=Tn.next=n,Tn}function fi(){if(Gt===null){var n=zt.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var r=Tn===null?zt.memoizedState:Tn.next;if(r!==null)Tn=r,Gt=n;else{if(n===null)throw zt.alternate===null?Error(o(467)):Error(o(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Tn===null?zt.memoizedState=Tn=n:Tn=Tn.next=n}return Tn}function Il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(n){var r=ka;return ka+=1,La===null&&(La=[]),n=je(La,n,r),r=zt,(Tn===null?r.memoizedState:Tn.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?s0:Rd),n}function Fs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ra(n);if(n.$$typeof===D)return $i(n)}throw Error(o(438,String(n)))}function es(n){var r=null,s=zt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=zt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Il(),zt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=X;return r.index++,s}function Ro(n,r){return typeof r=="function"?r(n):r}function xu(n){var r=fi();return Bs(r,Gt,n)}function Bs(n,r,s){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var v=n.baseQueue,b=u.pending;if(b!==null){if(v!==null){var M=v.next;v.next=b.next,b.next=M}r.baseQueue=v=b,u.pending=null}if(b=n.baseState,v===null)n.memoizedState=b;else{r=v.next;var H=M=null,ce=null,De=r,We=!1;do{var tt=De.lane&-536870913;if(tt!==De.lane?(yn&tt)===tt:(ci&tt)===tt){var Ue=De.revertLane;if(Ue===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),tt===m&&(We=!0);else if((ci&Ue)===Ue){De=De.next,Ue===m&&(We=!0);continue}else tt={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ce===null?(H=ce=tt,M=b):ce=ce.next=tt,zt.lanes|=Ue,Gs|=Ue;tt=De.action,yr&&s(b,tt),b=De.hasEagerState?De.eagerState:s(b,tt)}else Ue={lane:tt,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ce===null?(H=ce=Ue,M=b):ce=ce.next=Ue,zt.lanes|=tt,Gs|=tt;De=De.next}while(De!==null&&De!==r);if(ce===null?M=b:ce.next=H,!Yi(b,n.memoizedState)&&(zi=!0,We&&(s=x,s!==null)))throw s;n.memoizedState=b,n.baseState=M,n.baseQueue=ce,u.lastRenderedState=b}return v===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bu(n){var r=fi(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var u=s.dispatch,v=s.pending,b=r.memoizedState;if(v!==null){s.pending=null;var M=v=v.next;do b=n(b,M.action),M=M.next;while(M!==v);Yi(b,r.memoizedState)||(zi=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),s.lastRenderedState=b}return[b,u]}function wu(n,r,s){var u=zt,v=fi(),b=hn;if(b){if(s===void 0)throw Error(o(407));s=s()}else s=r();var M=!Yi((Gt||v).memoizedState,s);if(M&&(v.memoizedState=s,zi=!0),v=v.queue,Cd(pc.bind(null,u,v,n),[n]),v.getSnapshot!==r||M||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,ns(9,{destroy:void 0},hc.bind(null,u,v,s,r),null),Zn===null)throw Error(o(349));b||(ci&127)!==0||aa(u,r,s)}return s}function aa(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=zt.updateQueue,r===null?(r=Il(),zt.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function hc(n,r,s,u){r.value=s,r.getSnapshot=u,nf(r)&&mc(n)}function pc(n,r,s){return s(function(){nf(r)&&mc(n)})}function nf(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!Yi(n,s)}catch{return!0}}function mc(n){var r=ia(n,2);r!==null&&no(r,n,2)}function Ia(n){var r=Oi();if(typeof n=="function"){var s=n;if(n=s(),yr){Tt(!0);try{s()}finally{Tt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},r}function rf(n,r,s,u){return n.baseState=s,Bs(n,Gt,typeof u=="function"?u:Ro)}function of(n,r,s,u,v){if(uf(n))throw Error(o(485));if(n=r.action,n!==null){var b={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};Z.T!==null?s(!0):b.isTransition=!1,u(b),s=r.pending,s===null?(b.next=r.pending=b,af(r,b)):(b.next=s.next,r.pending=s.next=b)}}function af(n,r){var s=r.action,u=r.payload,v=n.state;if(r.isTransition){var b=Z.T,M={};Z.T=M;try{var H=s(v,u),ce=Z.S;ce!==null&&ce(M,H),gc(n,r,H)}catch(De){ts(n,r,De)}finally{b!==null&&M.types!==null&&(b.types=M.types),Z.T=b}}else try{b=s(v,u),gc(n,r,b)}catch(De){ts(n,r,De)}}function gc(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){sf(n,r,u)},function(u){return ts(n,r,u)}):sf(n,r,s)}function sf(n,r,s){r.status="fulfilled",r.value=s,Su(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,af(n,s)))}function ts(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,Su(r),r=r.next;while(r!==u)}n.action=null}function Su(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Dl(n,r){return r}function Io(n,r){if(hn){var s=Zn.formState;if(s!==null){e:{var u=zt;if(hn){if($n){t:{for(var v=$n,b=ui;v.nodeType!==8;){if(!b){v=null;break t}if(v=Do(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){$n=Do(v.nextSibling),u=v.data==="F!";break e}}Ea(u)}u=!1}u&&(r=s[0])}}return s=Oi(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:r},s.queue=u,s=r0.bind(null,zt,u),u.dispatch=s,u=Ia(!1),b=Ld.bind(null,zt,!1,u.queue),u=Oi(),v={state:r,dispatch:null,action:n,pending:null},u.queue=v,s=of.bind(null,zt,v,b,s),v.dispatch=s,u.memoizedState=n,[r,s,!1]}function sa(n){var r=fi();return la(r,Gt,n)}function la(n,r,s){if(r=Bs(n,r,Dl)[0],n=xu(Ro)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ra(r)}catch(M){throw M===ye?ee:M}else u=r;r=fi();var v=r.queue,b=v.dispatch;return s!==r.memoizedState&&(zt.flags|=2048,ns(9,{destroy:void 0},_u.bind(null,v,s),null)),[u,b,n]}function _u(n,r){n.action=r}function Au(n){var r=fi(),s=Gt;if(s!==null)return la(r,s,n);fi(),r=r.memoizedState,s=fi();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function ns(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=zt.updateQueue,r===null&&(r=Il(),zt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function lf(){return fi().memoizedState}function qs(n,r,s,u){var v=Oi();zt.flags|=n,v.memoizedState=ns(1|r,{destroy:void 0},s,u===void 0?null:u)}function Os(n,r,s,u){var v=fi();u=u===void 0?null:u;var b=v.memoizedState.inst;Gt!==null&&u!==null&&uc(u,Gt.memoizedState.deps)?v.memoizedState=ns(r,b,s,u):(zt.flags|=n,v.memoizedState=ns(1|r,b,s,u))}function Vp(n,r){qs(8390656,8,n,r)}function Cd(n,r){Os(2048,8,n,r)}function U5(n){zt.flags|=4;var r=zt.updateQueue;if(r===null)r=Il(),zt.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function jp(n){var r=fi().memoizedState;return U5({ref:r,nextImpl:n}),function(){if((Fn&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}function Yp(n,r){return Os(4,2,n,r)}function Jp(n,r){return Os(4,4,n,r)}function Wp(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Kp(n,r,s){s=s!=null?s.concat([n]):null,Os(4,4,Wp.bind(null,r,n),s)}function Td(){}function $p(n,r){var s=fi();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&uc(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Xp(n,r){var s=fi();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&uc(r,u[1]))return u[0];if(u=n(),yr){Tt(!0);try{n()}finally{Tt(!1)}}return s.memoizedState=[u,r],u}function Nd(n,r,s){return s===void 0||(ci&1073741824)!==0&&(yn&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=Z0(),zt.lanes|=n,Gs|=n,s)}function Zp(n,r,s,u){return Yi(s,r)?s:fn.current!==null?(n=Nd(n,s,u),Yi(n,r)||(zi=!0),n):(ci&42)===0||(ci&1073741824)!==0&&(yn&261930)===0?(zi=!0,n.memoizedState=s):(n=Z0(),zt.lanes|=n,Gs|=n,r)}function Qp(n,r,s,u,v){var b=de.p;de.p=b!==0&&8>b?b:8;var M=Z.T,H={};Z.T=H,Ld(n,!1,r,s);try{var ce=v(),De=Z.S;if(De!==null&&De(H,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var We=P(ce,u);yc(n,r,We,yo(n))}else yc(n,r,u,yo(n))}catch(tt){yc(n,r,{then:function(){},status:"rejected",reason:tt},yo())}finally{de.p=b,M!==null&&H.types!==null&&(M.types=H.types),Z.T=M}}function F5(){}function Md(n,r,s,u){if(n.tag!==5)throw Error(o(476));var v=e0(n).queue;Qp(n,v,r,re,s===null?F5:function(){return t0(n),s(u)})}function e0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:re},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function t0(n){var r=e0(n);r.next===null&&(r=n.alternate.memoizedState),yc(n,r.next.queue,{},yo())}function kd(){return $i(Dc)}function n0(){return fi().memoizedState}function i0(){return fi().memoizedState}function B5(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=yo();n=Wt(s);var u=ln(r,n,s);u!==null&&(no(u,r,s),Pn(u,r,s)),r={cache:Us()},n.payload=r;return}r=r.return}}function q5(n,r,s){var u=yo();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uf(n)?o0(r,s):(s=ou(n,r,s,u),s!==null&&(no(s,n,u),a0(s,r,u)))}function r0(n,r,s){var u=yo();yc(n,r,s,u)}function yc(n,r,s,u){var v={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(uf(n))o0(r,v);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var M=r.lastRenderedState,H=b(M,s);if(v.hasEagerState=!0,v.eagerState=H,Yi(H,M))return Cl(n,r,v,0),Zn===null&&El(),!1}catch{}finally{}if(s=ou(n,r,v,u),s!==null)return no(s,n,u),a0(s,r,u),!0}return!1}function Ld(n,r,s,u){if(u={lane:2,revertLane:uh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uf(n)){if(r)throw Error(o(479))}else r=ou(n,s,u,2),r!==null&&no(r,n,2)}function uf(n){var r=n.alternate;return n===zt||r!==null&&r===zt}function o0(n,r){Xr=_r=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function a0(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,Ot(n,s)}}var vc={readContext:$i,use:Fs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn,useHostTransitionStatus:Yn,useFormState:Yn,useActionState:Yn,useOptimistic:Yn,useMemoCache:Yn,useCacheRefresh:Yn};vc.useEffectEvent=Yn;var s0={readContext:$i,use:Fs,useCallback:function(n,r){return Oi().memoizedState=[n,r===void 0?null:r],n},useContext:$i,useEffect:Vp,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,qs(4194308,4,Wp.bind(null,r,n),s)},useLayoutEffect:function(n,r){return qs(4194308,4,n,r)},useInsertionEffect:function(n,r){qs(4,2,n,r)},useMemo:function(n,r){var s=Oi();r=r===void 0?null:r;var u=n();if(yr){Tt(!0);try{n()}finally{Tt(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=Oi();if(s!==void 0){var v=s(r);if(yr){Tt(!0);try{s(r)}finally{Tt(!1)}}}else v=r;return u.memoizedState=u.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},u.queue=n,n=n.dispatch=q5.bind(null,zt,n),[u.memoizedState,n]},useRef:function(n){var r=Oi();return n={current:n},r.memoizedState=n},useState:function(n){n=Ia(n);var r=n.queue,s=r0.bind(null,zt,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Td,useDeferredValue:function(n,r){var s=Oi();return Nd(s,n,r)},useTransition:function(){var n=Ia(!1);return n=Qp.bind(null,zt,n.queue,!0,!1),Oi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=zt,v=Oi();if(hn){if(s===void 0)throw Error(o(407));s=s()}else{if(s=r(),Zn===null)throw Error(o(349));(yn&127)!==0||aa(u,r,s)}v.memoizedState=s;var b={value:s,getSnapshot:r};return v.queue=b,Vp(pc.bind(null,u,b,n),[n]),u.flags|=2048,ns(9,{destroy:void 0},hc.bind(null,u,b,s,r),null),s},useId:function(){var n=Oi(),r=Zn.identifierPrefix;if(hn){var s=Kr,u=Wr;s=(u&~(1<<32-qt(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Ti++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=gu++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:kd,useFormState:Io,useActionState:Io,useOptimistic:function(n){var r=Oi();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Ld.bind(null,zt,!0,s),s.dispatch=r,[n,r]},useMemoCache:es,useCacheRefresh:function(){return Oi().memoizedState=B5.bind(null,zt)},useEffectEvent:function(n){var r=Oi(),s={impl:n};return r.memoizedState=s,function(){if((Fn&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Rd={readContext:$i,use:Fs,useCallback:$p,useContext:$i,useEffect:Cd,useImperativeHandle:Kp,useInsertionEffect:Yp,useLayoutEffect:Jp,useMemo:Xp,useReducer:xu,useRef:lf,useState:function(){return xu(Ro)},useDebugValue:Td,useDeferredValue:function(n,r){var s=fi();return Zp(s,Gt.memoizedState,n,r)},useTransition:function(){var n=xu(Ro)[0],r=fi().memoizedState;return[typeof n=="boolean"?n:Ra(n),r]},useSyncExternalStore:wu,useId:n0,useHostTransitionStatus:kd,useFormState:sa,useActionState:sa,useOptimistic:function(n,r){var s=fi();return rf(s,Gt,n,r)},useMemoCache:es,useCacheRefresh:i0};Rd.useEffectEvent=jp;var l0={readContext:$i,use:Fs,useCallback:$p,useContext:$i,useEffect:Cd,useImperativeHandle:Kp,useInsertionEffect:Yp,useLayoutEffect:Jp,useMemo:Xp,useReducer:bu,useRef:lf,useState:function(){return bu(Ro)},useDebugValue:Td,useDeferredValue:function(n,r){var s=fi();return Gt===null?Nd(s,n,r):Zp(s,Gt.memoizedState,n,r)},useTransition:function(){var n=bu(Ro)[0],r=fi().memoizedState;return[typeof n=="boolean"?n:Ra(n),r]},useSyncExternalStore:wu,useId:n0,useHostTransitionStatus:kd,useFormState:Au,useActionState:Au,useOptimistic:function(n,r){var s=fi();return Gt!==null?rf(s,Gt,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:es,useCacheRefresh:i0};l0.useEffectEvent=jp;function Id(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:w({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Dd={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=yo(),v=Wt(u);v.payload=r,s!=null&&(v.callback=s),r=ln(n,v,u),r!==null&&(no(r,n,u),Pn(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=yo(),v=Wt(u);v.tag=1,v.payload=r,s!=null&&(v.callback=s),r=ln(n,v,u),r!==null&&(no(r,n,u),Pn(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=yo(),u=Wt(s);u.tag=2,r!=null&&(u.callback=r),r=ln(n,u,s),r!==null&&(no(r,n,s),Pn(r,n,s))}};function u0(n,r,s,u,v,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,M):r.prototype&&r.prototype.isPureReactComponent?!Qo(s,u)||!Qo(v,b):!0}function c0(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&Dd.enqueueReplaceState(r,r.state,null)}function Pl(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=w({},s));for(var v in n)s[v]===void 0&&(s[v]=n[v])}return s}function f0(n){Al(n)}function d0(n){console.error(n)}function h0(n){Al(n)}function cf(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function p0(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Pd(n,r,s){return s=Wt(s),s.tag=3,s.payload={element:null},s.callback=function(){cf(n,r)},s}function m0(n){return n=Wt(n),n.tag=3,n}function g0(n,r,s,u){var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var b=u.value;n.payload=function(){return v(b)},n.callback=function(){p0(r,s,u)}}var M=s.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){p0(r,s,u),typeof v!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function O5(n,r,s,u,v){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&Na(r,s,v,!0),s=oi.current,s!==null){switch(s.tag){case 31:case 13:return Cn===null?Sf():s.alternate===null&&Ni===0&&(Ni=3),s.flags&=-257,s.flags|=65536,s.lanes=v,u===Se?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),ah(n,u,v)),!1;case 22:return s.flags|=65536,u===Se?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),ah(n,u,v)),!1}throw Error(o(435,s.tag))}return ah(n,u,v),Sf(),!1}if(hn)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,u!==po&&(n=Error(o(422),{cause:u}),Ds(jr(n,s)))):(u!==po&&(r=Error(o(423),{cause:u}),Ds(jr(r,s))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,u=jr(u,s),v=Pd(n.stateNode,u,v),Ii(n,v),Ni!==4&&(Ni=2)),!1;var b=Error(o(520),{cause:u});if(b=jr(b,s),Cc===null?Cc=[b]:Cc.push(b),Ni!==4&&(Ni=2),r===null)return!0;u=jr(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=v&-v,s.lanes|=n,n=Pd(s.stateNode,u,n),Ii(s,n),!1;case 1:if(r=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vs===null||!Vs.has(b))))return s.flags|=65536,v&=-v,s.lanes|=v,v=m0(v),g0(v,n,s,u),Ii(s,v),!1}s=s.return}while(s!==null);return!1}var Ud=Error(o(461)),zi=!1;function vr(n,r,s,u){r.child=n===null?rn(r,null,s,u):Xn(r,n.child,s,u)}function y0(n,r,s,u,v){s=s.render;var b=r.ref;if("ref"in u){var M={};for(var H in u)H!=="ref"&&(M[H]=u[H])}else M=u;return Ma(r),u=cc(n,r,s,M,b,v),H=fc(),n!==null&&!zi?(dc(n,r,v),is(n,r,v)):(hn&&H&&ac(r),r.flags|=1,vr(n,r,u,v),r.child)}function v0(n,r,s,u,v){if(n===null){var b=s.type;return typeof b=="function"&&!su(b)&&b.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=b,x0(n,r,b,u,v)):(n=Ls(s.type,null,u,r,r.mode,v),n.ref=r.ref,n.return=r,r.child=n)}if(b=n.child,!Vd(n,v)){var M=b.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(M,u)&&n.ref===r.ref)return is(n,r,v)}return r.flags|=1,n=Vr(b,u),n.ref=r.ref,n.return=r,r.child=n}function x0(n,r,s,u,v){if(n!==null){var b=n.memoizedProps;if(Qo(b,u)&&n.ref===r.ref)if(zi=!1,r.pendingProps=u=b,Vd(n,v))(n.flags&131072)!==0&&(zi=!0);else return r.lanes=n.lanes,is(n,r,v)}return Fd(n,r,s,u,v)}function b0(n,r,s,u){var v=u.children,b=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|s:s,n!==null){for(u=r.child=n.child,v=0;u!==null;)v=v|u.lanes|u.childLanes,u=u.sibling;u=v&~b}else u=0,r.child=null;return w0(n,r,b,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&$(r,b!==null?b.cachePool:null),b!==null?ri(r,b):Ln(),Ei(r);else return u=r.lanes=536870912,w0(n,r,b!==null?b.baseLanes|s:s,s,u)}else b!==null?($(r,b.cachePool),ri(r,b),Ci(),r.memoizedState=null):(n!==null&&$(r,null),Ln(),Ci());return vr(n,r,v,s),r.child}function xc(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w0(n,r,s,u,v){var b=j();return b=b===null?null:{parent:xi._currentValue,pool:b},r.memoizedState={baseLanes:s,cachePool:b},n!==null&&$(r,null),Ln(),Ei(r),n!==null&&Na(n,r,u,!0),r.childLanes=v,null}function ff(n,r){return r=hf({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function S0(n,r,s){return Xn(r,n.child,null,s),n=ff(r,r.pendingProps),n.flags|=2,Bn(r),r.memoizedState=null,n}function z5(n,r,s){var u=r.pendingProps,v=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(hn){if(u.mode==="hidden")return n=ff(r,u),r.lanes=536870912,xc(null,n);if(Un(r),(n=$n)?(n=D1(n,ui),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Aa!==null?{id:Wr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},s=lu(n),s.return=r,r.child=s,Wi=r,$n=null)):n=null,n===null)throw Ea(r);return r.lanes=536870912,null}return ff(r,u)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(Un(r),v)if(r.flags&256)r.flags&=-257,r=S0(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(o(558));else if(zi||Na(n,r,s,!1),v=(s&n.childLanes)!==0,zi||v){if(u=Zn,u!==null&&(M=tn(u,s),M!==0&&M!==b.retryLane))throw b.retryLane=M,ia(n,M),no(u,n,M),Ud;Sf(),r=S0(n,r,s)}else n=b.treeContext,$n=Do(M.nextSibling),Wi=r,hn=!0,gr=null,ui=!1,n!==null&&ef(r,n),r=ff(r,u),r.flags|=4096;return r}return n=Vr(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function df(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Fd(n,r,s,u,v){return Ma(r),s=cc(n,r,s,u,void 0,v),u=fc(),n!==null&&!zi?(dc(n,r,v),is(n,r,v)):(hn&&u&&ac(r),r.flags|=1,vr(n,r,s,v),r.child)}function _0(n,r,s,u,v,b){return Ma(r),r.updateQueue=null,s=oa(r,u,s,v),yu(n),u=fc(),n!==null&&!zi?(dc(n,r,b),is(n,r,b)):(hn&&u&&ac(r),r.flags|=1,vr(n,r,s,b),r.child)}function A0(n,r,s,u,v){if(Ma(r),r.stateNode===null){var b=Ji,M=s.contextType;typeof M=="object"&&M!==null&&(b=$i(M)),b=new s(u,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=u,b.state=r.memoizedState,b.refs={},ht(r),M=s.contextType,b.context=typeof M=="object"&&M!==null?$i(M):Ji,b.state=r.memoizedState,M=s.getDerivedStateFromProps,typeof M=="function"&&(Id(r,s,M,u),b.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&Dd.enqueueReplaceState(b,b.state,null),_i(r,u,b,v),jn(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){b=r.stateNode;var H=r.memoizedProps,ce=Pl(s,H);b.props=ce;var De=b.context,We=s.contextType;M=Ji,typeof We=="object"&&We!==null&&(M=$i(We));var tt=s.getDerivedStateFromProps;We=typeof tt=="function"||typeof b.getSnapshotBeforeUpdate=="function",H=r.pendingProps!==H,We||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(H||De!==M)&&c0(r,b,u,M),At=!1;var Ue=r.memoizedState;b.state=Ue,_i(r,u,b,v),jn(),De=r.memoizedState,H||Ue!==De||At?(typeof tt=="function"&&(Id(r,s,tt,u),De=r.memoizedState),(ce=At||u0(r,s,ce,u,Ue,De,M))?(We||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=De),b.props=u,b.state=De,b.context=M,u=ce):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{b=r.stateNode,ii(n,r),M=r.memoizedProps,We=Pl(s,M),b.props=We,tt=r.pendingProps,Ue=b.context,De=s.contextType,ce=Ji,typeof De=="object"&&De!==null&&(ce=$i(De)),H=s.getDerivedStateFromProps,(De=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==tt||Ue!==ce)&&c0(r,b,u,ce),At=!1,Ue=r.memoizedState,b.state=Ue,_i(r,u,b,v),jn();var Oe=r.memoizedState;M!==tt||Ue!==Oe||At||n!==null&&n.dependencies!==null&&hu(n.dependencies)?(typeof H=="function"&&(Id(r,s,H,u),Oe=r.memoizedState),(We=At||u0(r,s,We,u,Ue,Oe,ce)||n!==null&&n.dependencies!==null&&hu(n.dependencies))?(De||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Oe,ce),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Oe,ce)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Ue===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Ue===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Oe),b.props=u,b.state=Oe,b.context=ce,u=We):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Ue===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Ue===n.memoizedState||(r.flags|=1024),u=!1)}return b=u,df(n,r),u=(r.flags&128)!==0,b||u?(b=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,n!==null&&u?(r.child=Xn(r,n.child,null,v),r.child=Xn(r,null,s,v)):vr(n,r,s,v),r.memoizedState=b.state,n=r.child):n=is(n,r,v),n}function E0(n,r,s,u){return Za(),r.flags|=256,vr(n,r,s,u),r.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(n){return{baseLanes:n,cachePool:te()}}function Od(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=go),n}function C0(n,r,s){var u=r.pendingProps,v=!1,b=(r.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(_n.current&2)!==0),M&&(v=!0,r.flags&=-129),M=(r.flags&32)!==0,r.flags&=-33,n===null){if(hn){if(v?bi(r):Ci(),(n=$n)?(n=D1(n,ui),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Aa!==null?{id:Wr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},s=lu(n),s.return=r,r.child=s,Wi=r,$n=null)):n=null,n===null)throw Ea(r);return Sh(n)?r.lanes=32:r.lanes=536870912,null}var H=u.children;return u=u.fallback,v?(Ci(),v=r.mode,H=hf({mode:"hidden",children:H},v),u=_a(u,v,s,null),H.return=r,u.return=r,H.sibling=u,r.child=H,u=r.child,u.memoizedState=qd(s),u.childLanes=Od(n,M,s),r.memoizedState=Bd,xc(null,u)):(bi(r),zd(r,H))}var ce=n.memoizedState;if(ce!==null&&(H=ce.dehydrated,H!==null)){if(b)r.flags&256?(bi(r),r.flags&=-257,r=Hd(n,r,s)):r.memoizedState!==null?(Ci(),r.child=n.child,r.flags|=128,r=null):(Ci(),H=u.fallback,v=r.mode,u=hf({mode:"visible",children:u.children},v),H=_a(H,v,s,null),H.flags|=2,u.return=r,H.return=r,u.sibling=H,r.child=u,Xn(r,n.child,null,s),u=r.child,u.memoizedState=qd(s),u.childLanes=Od(n,M,s),r.memoizedState=Bd,r=xc(null,u));else if(bi(r),Sh(H)){if(M=H.nextSibling&&H.nextSibling.dataset,M)var De=M.dgst;M=De,u=Error(o(419)),u.stack="",u.digest=M,Ds({value:u,source:null,stack:null}),r=Hd(n,r,s)}else if(zi||Na(n,r,s,!1),M=(s&n.childLanes)!==0,zi||M){if(M=Zn,M!==null&&(u=tn(M,s),u!==0&&u!==ce.retryLane))throw ce.retryLane=u,ia(n,u),no(M,n,u),Ud;wh(H)||Sf(),r=Hd(n,r,s)}else wh(H)?(r.flags|=192,r.child=n.child,r=null):(n=ce.treeContext,$n=Do(H.nextSibling),Wi=r,hn=!0,gr=null,ui=!1,n!==null&&ef(r,n),r=zd(r,u.children),r.flags|=4096);return r}return v?(Ci(),H=u.fallback,v=r.mode,ce=n.child,De=ce.sibling,u=Vr(ce,{mode:"hidden",children:u.children}),u.subtreeFlags=ce.subtreeFlags&65011712,De!==null?H=Vr(De,H):(H=_a(H,v,s,null),H.flags|=2),H.return=r,u.return=r,u.sibling=H,r.child=u,xc(null,u),u=r.child,H=n.child.memoizedState,H===null?H=qd(s):(v=H.cachePool,v!==null?(ce=xi._currentValue,v=v.parent!==ce?{parent:ce,pool:ce}:v):v=te(),H={baseLanes:H.baseLanes|s,cachePool:v}),u.memoizedState=H,u.childLanes=Od(n,M,s),r.memoizedState=Bd,xc(n.child,u)):(bi(r),s=n.child,n=s.sibling,s=Vr(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(M=r.deletions,M===null?(r.deletions=[n],r.flags|=16):M.push(n)),r.child=s,r.memoizedState=null,s)}function zd(n,r){return r=hf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function hf(n,r){return n=ir(22,n,null,r),n.lanes=0,n}function Hd(n,r,s){return Xn(r,n.child,null,s),n=zd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function T0(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Ps(n.return,r,s)}function Gd(n,r,s,u,v,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:v,treeForkCount:b}:(M.isBackwards=r,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=s,M.tailMode=v,M.treeForkCount=b)}function N0(n,r,s){var u=r.pendingProps,v=u.revealOrder,b=u.tail;u=u.children;var M=_n.current,H=(M&2)!==0;if(H?(M=M&1|2,r.flags|=128):M&=1,G(_n,M),vr(n,r,u,s),u=hn?kl:0,!H&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T0(n,s,r);else if(n.tag===19)T0(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(s=r.child,v=null;s!==null;)n=s.alternate,n!==null&&or(n)===null&&(v=s),s=s.sibling;s=v,s===null?(v=r.child,r.child=null):(v=s.sibling,s.sibling=null),Gd(r,!1,v,s,b,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,v=r.child,r.child=null;v!==null;){if(n=v.alternate,n!==null&&or(n)===null){r.child=v;break}n=v.sibling,v.sibling=s,s=v,v=n}Gd(r,!0,s,null,b,u);break;case"together":Gd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function is(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Gs|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Na(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,s=Vr(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Vr(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Vd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&hu(n)))}function H5(n,r,s){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Ta(r,xi,n.memoizedState.cache),Za();break;case 27:case 5:we(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Ta(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Un(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(bi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?C0(n,r,s):(bi(r),n=is(n,r,s),n!==null?n.sibling:null);bi(r);break;case 19:var v=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(Na(n,r,s,!1),u=(s&r.childLanes)!==0),v){if(u)return N0(n,r,s);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(_n,_n.current),u)break;return null;case 22:return r.lanes=0,b0(n,r,s,r.pendingProps);case 24:Ta(r,xi,n.memoizedState.cache)}return is(n,r,s)}function M0(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)zi=!0;else{if(!Vd(n,s)&&(r.flags&128)===0)return zi=!1,H5(n,r,s);zi=(n.flags&131072)!==0}else zi=!1,hn&&(r.flags&1048576)!==0&&Qc(r,kl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Le(r.elementType),r.type=n,typeof n=="function")su(n)?(u=Pl(n,u),r.tag=1,r=A0(null,r,n,u,s)):(r.tag=0,r=Fd(null,r,n,u,s));else{if(n!=null){var v=n.$$typeof;if(v===J){r.tag=11,r=y0(null,r,n,u,s);break e}else if(v===ue){r.tag=14,r=v0(null,r,n,u,s);break e}}throw r=ae(n)||n,Error(o(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,v=Pl(u,r.pendingProps),A0(n,r,u,v,s);case 3:e:{if(Ae(r,r.stateNode.containerInfo),n===null)throw Error(o(387));u=r.pendingProps;var b=r.memoizedState;v=b.element,ii(n,r),_i(r,u,null,s);var M=r.memoizedState;if(u=M.cache,Ta(r,xi,u),u!==b.cache&&Qa(r,[xi],s,!0),jn(),u=M.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:M.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=E0(n,r,u,s);break e}else if(u!==v){v=jr(Error(o(424)),r),Ds(v),r=E0(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($n=Do(n.firstChild),Wi=r,hn=!0,gr=null,ui=!0,s=rn(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Za(),u===v){r=is(n,r,s);break e}vr(n,r,u,s)}r=r.child}return r;case 26:return df(n,r),n===null?(s=O1(r.type,null,r.pendingProps,null))?r.memoizedState=s:hn||(s=r.type,n=r.pendingProps,u=Mf(ie.current).createElement(s),u[Xt]=r,u[en]=n,xr(u,s,n),mi(u),r.stateNode=u):r.memoizedState=O1(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return we(r),n===null&&hn&&(u=r.stateNode=F1(r.type,r.pendingProps,ie.current),Wi=r,ui=!0,v=$n,Ws(r.type)?(_h=v,$n=Do(u.firstChild)):$n=v),vr(n,r,r.pendingProps.children,s),df(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&hn&&((v=u=$n)&&(u=vv(u,r.type,r.pendingProps,ui),u!==null?(r.stateNode=u,Wi=r,$n=Do(u.firstChild),ui=!1,v=!0):v=!1),v||Ea(r)),we(r),v=r.type,b=r.pendingProps,M=n!==null?n.memoizedProps:null,u=b.children,vh(v,b)?u=null:M!==null&&vh(v,M)&&(r.flags|=32),r.memoizedState!==null&&(v=cc(n,r,Ed,null,null,s),Dc._currentValue=v),df(n,r),vr(n,r,u,s),r.child;case 6:return n===null&&hn&&((n=s=$n)&&(s=xv(s,r.pendingProps,ui),s!==null?(r.stateNode=s,Wi=r,$n=null,n=!0):n=!1),n||Ea(r)),null;case 13:return C0(n,r,s);case 4:return Ae(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Xn(r,null,u,s):vr(n,r,u,s),r.child;case 11:return y0(n,r,r.type,r.pendingProps,s);case 7:return vr(n,r,r.pendingProps,s),r.child;case 8:return vr(n,r,r.pendingProps.children,s),r.child;case 12:return vr(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Ta(r,r.type,u.value),vr(n,r,u.children,s),r.child;case 9:return v=r.type._context,u=r.pendingProps.children,Ma(r),v=$i(v),u=u(v),r.flags|=1,vr(n,r,u,s),r.child;case 14:return v0(n,r,r.type,r.pendingProps,s);case 15:return x0(n,r,r.type,r.pendingProps,s);case 19:return N0(n,r,s);case 31:return z5(n,r,s);case 22:return b0(n,r,s,r.pendingProps);case 24:return Ma(r),u=$i(xi),n===null?(v=j(),v===null&&(v=Zn,b=Us(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=s),v=b),r.memoizedState={parent:u,cache:v},ht(r),Ta(r,xi,v)):((n.lanes&s)!==0&&(ii(n,r),_i(r,null,null,s),jn()),v=n.memoizedState,b=r.memoizedState,v.parent!==u?(v={parent:u,cache:u},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),Ta(r,xi,u)):(u=b.cache,Ta(r,xi,u),u!==v.cache&&Qa(r,[xi],s,!0))),vr(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(o(156,r.tag))}function rs(n){n.flags|=4}function jd(n,r,s,u,v){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(n1())n.flags|=8192;else throw Ve=Se,Re}else n.flags&=-16777217}function k0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!j1(r))if(n1())n.flags|=8192;else throw Ve=Se,Re}function pf(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ge():536870912,n.lanes|=r,Nu|=r)}function bc(n,r){if(!hn)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ai(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var v=n.child;v!==null;)s|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)s|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function G5(n,r,s){var u=r.pendingProps;switch(fu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(r),null;case 1:return ai(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),$r(xi),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Ki(r)?rs(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lc())),ai(r),null;case 26:var v=r.type,b=r.memoizedState;return n===null?(rs(r),b!==null?(ai(r),k0(r,b)):(ai(r),jd(r,v,null,u,s))):b?b!==n.memoizedState?(rs(r),ai(r),k0(r,b)):(ai(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&rs(r),ai(r),jd(r,v,n,u,s)),null;case 27:if(me(r),s=ie.current,v=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(o(166));return ai(r),null}n=z.current,Ki(r)?sc(r):(n=F1(v,u,s),r.stateNode=n,rs(r))}return ai(r),null;case 5:if(me(r),v=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&rs(r);else{if(!u){if(r.stateNode===null)throw Error(o(166));return ai(r),null}if(b=z.current,Ki(r))sc(r);else{var M=Mf(ie.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?M.createElement(v,{is:u.is}):M.createElement(v)}}b[Xt]=r,b[en]=u;e:for(M=r.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===r)break e;for(;M.sibling===null;){if(M.return===null||M.return===r)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}r.stateNode=b;e:switch(xr(b,v,u),v){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&rs(r)}}return ai(r),jd(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(o(166));if(n=ie.current,Ki(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,v=Wi,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}n[Xt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||C1(n.nodeValue,s)),n||Ea(r,!0)}else n=Mf(n).createTextNode(u),n[Xt]=r,r.stateNode=n}return ai(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(u=Ki(r),s!==null){if(n===null){if(!u)throw Error(o(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[Xt]=r}else Za(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ai(r),n=!1}else s=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(o(558))}return ai(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Ki(r),u!==null&&u.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Xt]=r}else Za(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ai(r),v=!1}else v=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=r.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==v&&(u.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),pf(r,r.updateQueue),ai(r),null);case 4:return Ne(),n===null&&hh(r.stateNode.containerInfo),ai(r),null;case 10:return $r(r.type),ai(r),null;case 19:if(k(_n),u=r.memoizedState,u===null)return ai(r),null;if(v=(r.flags&128)!==0,b=u.rendering,b===null)if(v)bc(u,!1);else{if(Ni!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(b=or(n),b!==null){for(r.flags|=128,bc(u,!1),n=b.updateQueue,r.updateQueue=n,pf(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Nl(s,n),s=s.sibling;return G(_n,_n.current&1|2),hn&&Br(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&jt()>xf&&(r.flags|=128,v=!0,bc(u,!1),r.lanes=4194304)}else{if(!v)if(n=or(b),n!==null){if(r.flags|=128,v=!0,n=n.updateQueue,r.updateQueue=n,pf(r,n),bc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!hn)return ai(r),null}else 2*jt()-u.renderingStartTime>xf&&s!==536870912&&(r.flags|=128,v=!0,bc(u,!1),r.lanes=4194304);u.isBackwards?(b.sibling=r.child,r.child=b):(n=u.last,n!==null?n.sibling=b:r.child=b,u.last=b)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=jt(),n.sibling=null,s=_n.current,G(_n,v?s&1|2:s&1),hn&&Br(r,u.treeForkCount),n):(ai(r),null);case 22:case 23:return Bn(r),Di(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(ai(r),r.subtreeFlags&6&&(r.flags|=8192)):ai(r),s=r.updateQueue,s!==null&&pf(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&k(O),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),$r(xi),ai(r),null;case 25:return null;case 30:return null}throw Error(o(156,r.tag))}function V5(n,r){switch(fu(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return $r(xi),Ne(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return me(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(o(340));Za()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Bn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Za()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return k(_n),null;case 4:return Ne(),null;case 10:return $r(r.type),null;case 22:case 23:return Bn(r),Di(),n!==null&&k(O),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return $r(xi),null;case 25:return null;default:return null}}function L0(n,r){switch(fu(r),r.tag){case 3:$r(xi),Ne();break;case 26:case 27:case 5:me(r);break;case 4:Ne();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:k(_n);break;case 10:$r(r.type);break;case 22:case 23:Bn(r),Di(),n!==null&&k(O);break;case 24:$r(xi)}}function wc(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var v=u.next;s=v;do{if((s.tag&n)===n){u=void 0;var b=s.create,M=s.inst;u=b(),M.destroy=u}s=s.next}while(s!==v)}}catch(H){On(r,r.return,H)}}function zs(n,r,s){try{var u=r.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var b=v.next;u=b;do{if((u.tag&n)===n){var M=u.inst,H=M.destroy;if(H!==void 0){M.destroy=void 0,v=r;var ce=s,De=H;try{De()}catch(We){On(v,ce,We)}}}u=u.next}while(u!==b)}}catch(We){On(r,r.return,We)}}function R0(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Ai(r,s)}catch(u){On(n,n.return,u)}}}function I0(n,r,s){s.props=Pl(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){On(n,r,u)}}function Sc(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(v){On(n,r,v)}}function Da(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(v){On(n,r,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(v){On(n,r,v)}else s.current=null}function D0(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(v){On(n,n.return,v)}}function Yd(n,r,s){try{var u=n.stateNode;dv(u,n.type,s,r),u[en]=r}catch(v){On(n,n.return,v)}}function P0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ws(n.type)||n.tag===4}function Jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||P0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ws(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=so));else if(u!==4&&(u===27&&Ws(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Wd(n,r,s),n=n.sibling;n!==null;)Wd(n,r,s),n=n.sibling}function mf(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&Ws(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(mf(n,r,s),n=n.sibling;n!==null;)mf(n,r,s),n=n.sibling}function U0(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);xr(r,u,s),r[Xt]=n,r[en]=s}catch(b){On(n,n.return,b)}}var os=!1,Hi=!1,Kd=!1,F0=typeof WeakSet=="function"?WeakSet:Set,ar=null;function j5(n,r){if(n=n.containerInfo,gh=Uf,n=ta(n),Mo(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var v=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var M=0,H=-1,ce=-1,De=0,We=0,tt=n,Ue=null;t:for(;;){for(var Oe;tt!==s||v!==0&&tt.nodeType!==3||(H=M+v),tt!==b||u!==0&&tt.nodeType!==3||(ce=M+u),tt.nodeType===3&&(M+=tt.nodeValue.length),(Oe=tt.firstChild)!==null;)Ue=tt,tt=Oe;for(;;){if(tt===n)break t;if(Ue===s&&++De===v&&(H=M),Ue===b&&++We===u&&(ce=M),(Oe=tt.nextSibling)!==null)break;tt=Ue,Ue=tt.parentNode}tt=Oe}s=H===-1||ce===-1?null:{start:H,end:ce}}else s=null}s=s||{start:0,end:0}}else s=null;for(yh={focusedElem:n,selectionRange:s},Uf=!1,ar=r;ar!==null;)if(r=ar,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ar=n;else for(;ar!==null;){switch(r=ar,b=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)v=n[s],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,s=r,v=b.memoizedProps,b=b.memoizedState,u=s.stateNode;try{var Lt=Pl(s.type,v);n=u.getSnapshotBeforeUpdate(Lt,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(Kt){On(s,s.return,Kt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)bh(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=r.sibling,n!==null){n.return=r.return,ar=n;break}ar=r.return}}function B0(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ss(n,s),u&4&&wc(5,s);break;case 1:if(ss(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(M){On(s,s.return,M)}else{var v=Pl(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(v,r,n.__reactInternalSnapshotBeforeUpdate)}catch(M){On(s,s.return,M)}}u&64&&R0(s),u&512&&Sc(s,s.return);break;case 3:if(ss(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ai(n,r)}catch(M){On(s,s.return,M)}}break;case 27:r===null&&u&4&&U0(s);case 26:case 5:ss(n,s),r===null&&u&4&&D0(s),u&512&&Sc(s,s.return);break;case 12:ss(n,s);break;case 31:ss(n,s),u&4&&z0(n,s);break;case 13:ss(n,s),u&4&&H0(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=ev.bind(null,s),bv(n,s))));break;case 22:if(u=s.memoizedState!==null||os,!u){r=r!==null&&r.memoizedState!==null||Hi,v=os;var b=Hi;os=u,(Hi=r)&&!b?ls(n,s,(s.subtreeFlags&8772)!==0):ss(n,s),os=v,Hi=b}break;case 30:break;default:ss(n,s)}}function q0(n){var r=n.alternate;r!==null&&(n.alternate=null,q0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&kr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var di=null,Zr=!1;function as(n,r,s){for(s=s.child;s!==null;)O0(n,r,s),s=s.sibling}function O0(n,r,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(bt,s)}catch{}switch(s.tag){case 26:Hi||Da(s,r),as(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Hi||Da(s,r);var u=di,v=Zr;Ws(s.type)&&(di=s.stateNode,Zr=!1),as(n,r,s),Lc(s.stateNode),di=u,Zr=v;break;case 5:Hi||Da(s,r);case 6:if(u=di,v=Zr,di=null,as(n,r,s),di=u,Zr=v,di!==null)if(Zr)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(s.stateNode)}catch(b){On(s,r,b)}else try{di.removeChild(s.stateNode)}catch(b){On(s,r,b)}break;case 18:di!==null&&(Zr?(n=di,R1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Uu(n)):R1(di,s.stateNode));break;case 4:u=di,v=Zr,di=s.stateNode.containerInfo,Zr=!0,as(n,r,s),di=u,Zr=v;break;case 0:case 11:case 14:case 15:zs(2,s,r),Hi||zs(4,s,r),as(n,r,s);break;case 1:Hi||(Da(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&I0(s,r,u)),as(n,r,s);break;case 21:as(n,r,s);break;case 22:Hi=(u=Hi)||s.memoizedState!==null,as(n,r,s),Hi=u;break;default:as(n,r,s)}}function z0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Uu(n)}catch(s){On(r,r.return,s)}}}function H0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Uu(n)}catch(s){On(r,r.return,s)}}function Y5(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new F0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new F0),r;default:throw Error(o(435,n.tag))}}function gf(n,r){var s=Y5(n);r.forEach(function(u){if(!s.has(u)){s.add(u);var v=tv.bind(null,n,u);u.then(v,v)}})}function Qr(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var v=s[u],b=n,M=r,H=M;e:for(;H!==null;){switch(H.tag){case 27:if(Ws(H.type)){di=H.stateNode,Zr=!1;break e}break;case 5:di=H.stateNode,Zr=!1;break e;case 3:case 4:di=H.stateNode.containerInfo,Zr=!0;break e}H=H.return}if(di===null)throw Error(o(160));O0(b,M,v),di=null,Zr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)G0(r,n),r=r.sibling}var ua=null;function G0(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qr(r,n),eo(n),u&4&&(zs(3,n,n.return),wc(3,n),zs(5,n,n.return));break;case 1:Qr(r,n),eo(n),u&512&&(Hi||s===null||Da(s,s.return)),u&64&&os&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var v=ua;if(Qr(r,n),eo(n),u&512&&(Hi||s===null||Da(s,s.return)),u&4){var b=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":b=v.getElementsByTagName("title")[0],(!b||b[ur]||b[Xt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(u),v.head.insertBefore(b,v.querySelector("head > title"))),xr(b,u,s),b[Xt]=n,mi(b),u=b;break e;case"link":var M=G1("link","href",v).get(u+(s.href||""));if(M){for(var H=0;H<M.length;H++)if(b=M[H],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){M.splice(H,1);break t}}b=v.createElement(u),xr(b,u,s),v.head.appendChild(b);break;case"meta":if(M=G1("meta","content",v).get(u+(s.content||""))){for(H=0;H<M.length;H++)if(b=M[H],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){M.splice(H,1);break t}}b=v.createElement(u),xr(b,u,s),v.head.appendChild(b);break;default:throw Error(o(468,u))}b[Xt]=n,mi(b),u=b}n.stateNode=u}else V1(v,n.type,n.stateNode);else n.stateNode=H1(v,u,n.memoizedProps);else b!==u?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,u===null?V1(v,n.type,n.stateNode):H1(v,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Yd(n,n.memoizedProps,s.memoizedProps)}break;case 27:Qr(r,n),eo(n),u&512&&(Hi||s===null||Da(s,s.return)),s!==null&&u&4&&Yd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Qr(r,n),eo(n),u&512&&(Hi||s===null||Da(s,s.return)),n.flags&32){v=n.stateNode;try{ao(v,"")}catch(Lt){On(n,n.return,Lt)}}u&4&&n.stateNode!=null&&(v=n.memoizedProps,Yd(n,v,s!==null?s.memoizedProps:v)),u&1024&&(Kd=!0);break;case 6:if(Qr(r,n),eo(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Lt){On(n,n.return,Lt)}}break;case 3:if(Rf=null,v=ua,ua=kf(r.containerInfo),Qr(r,n),ua=v,eo(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Uu(r.containerInfo)}catch(Lt){On(n,n.return,Lt)}Kd&&(Kd=!1,V0(n));break;case 4:u=ua,ua=kf(n.stateNode.containerInfo),Qr(r,n),eo(n),ua=u;break;case 12:Qr(r,n),eo(n);break;case 31:Qr(r,n),eo(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 13:Qr(r,n),eo(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vf=jt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 22:v=n.memoizedState!==null;var ce=s!==null&&s.memoizedState!==null,De=os,We=Hi;if(os=De||v,Hi=We||ce,Qr(r,n),Hi=We,os=De,eo(n),u&8192)e:for(r=n.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(s===null||ce||os||Hi||Ul(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){ce=s=r;try{if(b=ce.stateNode,v)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{H=ce.stateNode;var tt=ce.memoizedProps.style,Ue=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;H.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(Lt){On(ce,ce.return,Lt)}}}else if(r.tag===6){if(s===null){ce=r;try{ce.stateNode.nodeValue=v?"":ce.memoizedProps}catch(Lt){On(ce,ce.return,Lt)}}}else if(r.tag===18){if(s===null){ce=r;try{var Oe=ce.stateNode;v?I1(Oe,!0):I1(ce.stateNode,!1)}catch(Lt){On(ce,ce.return,Lt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,gf(n,s))));break;case 19:Qr(r,n),eo(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 30:break;case 21:break;default:Qr(r,n),eo(n)}}function eo(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(P0(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var v=s.stateNode,b=Jd(n);mf(n,b,v);break;case 5:var M=s.stateNode;s.flags&32&&(ao(M,""),s.flags&=-33);var H=Jd(n);mf(n,H,M);break;case 3:case 4:var ce=s.stateNode.containerInfo,De=Jd(n);Wd(n,De,ce);break;default:throw Error(o(161))}}catch(We){On(n,n.return,We)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function V0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;V0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ss(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)B0(n,r.alternate,r),r=r.sibling}function Ul(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:zs(4,r,r.return),Ul(r);break;case 1:Da(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&I0(r,r.return,s),Ul(r);break;case 27:Lc(r.stateNode);case 26:case 5:Da(r,r.return),Ul(r);break;case 22:r.memoizedState===null&&Ul(r);break;case 30:Ul(r);break;default:Ul(r)}n=n.sibling}}function ls(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,v=n,b=r,M=b.flags;switch(b.tag){case 0:case 11:case 15:ls(v,b,s),wc(4,b);break;case 1:if(ls(v,b,s),u=b,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(De){On(u,u.return,De)}if(u=b,v=u.updateQueue,v!==null){var H=u.stateNode;try{var ce=v.shared.hiddenCallbacks;if(ce!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ce.length;v++)rr(ce[v],H)}catch(De){On(u,u.return,De)}}s&&M&64&&R0(b),Sc(b,b.return);break;case 27:U0(b);case 26:case 5:ls(v,b,s),s&&u===null&&M&4&&D0(b),Sc(b,b.return);break;case 12:ls(v,b,s);break;case 31:ls(v,b,s),s&&M&4&&z0(v,b);break;case 13:ls(v,b,s),s&&M&4&&H0(v,b);break;case 22:b.memoizedState===null&&ls(v,b,s),Sc(b,b.return);break;case 30:break;default:ls(v,b,s)}r=r.sibling}}function $d(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ll(s))}function Xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ll(n))}function ca(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)j0(n,r,s,u),r=r.sibling}function j0(n,r,s,u){var v=r.flags;switch(r.tag){case 0:case 11:case 15:ca(n,r,s,u),v&2048&&wc(9,r);break;case 1:ca(n,r,s,u);break;case 3:ca(n,r,s,u),v&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ll(n)));break;case 12:if(v&2048){ca(n,r,s,u),n=r.stateNode;try{var b=r.memoizedProps,M=b.id,H=b.onPostCommit;typeof H=="function"&&H(M,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ce){On(r,r.return,ce)}}else ca(n,r,s,u);break;case 31:ca(n,r,s,u);break;case 13:ca(n,r,s,u);break;case 23:break;case 22:b=r.stateNode,M=r.alternate,r.memoizedState!==null?b._visibility&2?ca(n,r,s,u):_c(n,r):b._visibility&2?ca(n,r,s,u):(b._visibility|=2,Eu(n,r,s,u,(r.subtreeFlags&10256)!==0||!1)),v&2048&&$d(M,r);break;case 24:ca(n,r,s,u),v&2048&&Xd(r.alternate,r);break;default:ca(n,r,s,u)}}function Eu(n,r,s,u,v){for(v=v&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=n,M=r,H=s,ce=u,De=M.flags;switch(M.tag){case 0:case 11:case 15:Eu(b,M,H,ce,v),wc(8,M);break;case 23:break;case 22:var We=M.stateNode;M.memoizedState!==null?We._visibility&2?Eu(b,M,H,ce,v):_c(b,M):(We._visibility|=2,Eu(b,M,H,ce,v)),v&&De&2048&&$d(M.alternate,M);break;case 24:Eu(b,M,H,ce,v),v&&De&2048&&Xd(M.alternate,M);break;default:Eu(b,M,H,ce,v)}r=r.sibling}}function _c(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,v=u.flags;switch(u.tag){case 22:_c(s,u),v&2048&&$d(u.alternate,u);break;case 24:_c(s,u),v&2048&&Xd(u.alternate,u);break;default:_c(s,u)}r=r.sibling}}var Ac=8192;function Cu(n,r,s){if(n.subtreeFlags&Ac)for(n=n.child;n!==null;)Y0(n,r,s),n=n.sibling}function Y0(n,r,s){switch(n.tag){case 26:Cu(n,r,s),n.flags&Ac&&n.memoizedState!==null&&Rv(s,ua,n.memoizedState,n.memoizedProps);break;case 5:Cu(n,r,s);break;case 3:case 4:var u=ua;ua=kf(n.stateNode.containerInfo),Cu(n,r,s),ua=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ac,Ac=16777216,Cu(n,r,s),Ac=u):Cu(n,r,s));break;default:Cu(n,r,s)}}function J0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ec(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];ar=u,K0(u,n)}J0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)W0(n),n=n.sibling}function W0(n){switch(n.tag){case 0:case 11:case 15:Ec(n),n.flags&2048&&zs(9,n,n.return);break;case 3:Ec(n);break;case 12:Ec(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,yf(n)):Ec(n);break;default:Ec(n)}}function yf(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];ar=u,K0(u,n)}J0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:zs(8,r,r.return),yf(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,yf(r));break;default:yf(r)}n=n.sibling}}function K0(n,r){for(;ar!==null;){var s=ar;switch(s.tag){case 0:case 11:case 15:zs(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,ar=u;else e:for(s=n;ar!==null;){u=ar;var v=u.sibling,b=u.return;if(q0(u),u===s){ar=null;break e}if(v!==null){v.return=b,ar=v;break e}ar=b}}}var J5={getCacheForType:function(n){var r=$i(xi),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return $i(xi).controller.signal}},W5=typeof WeakMap=="function"?WeakMap:Map,Fn=0,Zn=null,pn=null,yn=0,qn=0,mo=null,Hs=!1,Tu=!1,Zd=!1,us=0,Ni=0,Gs=0,Fl=0,Qd=0,go=0,Nu=0,Cc=null,to=null,eh=!1,vf=0,$0=0,xf=1/0,bf=null,Vs=null,Zi=0,js=null,Mu=null,cs=0,th=0,nh=null,X0=null,Tc=0,ih=null;function yo(){return(Fn&2)!==0&&yn!==0?yn&-yn:Z.T!==null?uh():bn()}function Z0(){if(go===0)if((yn&536870912)===0||hn){var n=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),go=n}else go=536870912;return n=oi.current,n!==null&&(n.flags|=32),go}function no(n,r,s){(n===Zn&&(qn===2||qn===9)||n.cancelPendingCommit!==null)&&(ku(n,0),Ys(n,yn,go,!1)),Be(n,s),((Fn&2)===0||n!==Zn)&&(n===Zn&&((Fn&2)===0&&(Fl|=s),Ni===4&&Ys(n,yn,go,!1)),Pa(n))}function Q0(n,r,s){if((Fn&6)!==0)throw Error(o(327));var u=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Je(n,r),v=u?X5(n,r):oh(n,r,!0),b=u;do{if(v===0){Tu&&!u&&Ys(n,r,0,!1);break}else{if(s=n.current.alternate,b&&!K5(s)){v=oh(n,r,!1),b=!1;continue}if(v===2){if(b=r,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){r=M;e:{var H=n;v=Cc;var ce=H.current.memoizedState.isDehydrated;if(ce&&(ku(H,M).flags|=256),M=oh(H,M,!1),M!==2){if(Zd&&!ce){H.errorRecoveryDisabledLanes|=b,Fl|=b,v=4;break e}b=to,to=v,b!==null&&(to===null?to=b:to.push.apply(to,b))}v=M}if(b=!1,v!==2)continue}}if(v===1){ku(n,0),Ys(n,r,0,!0);break}e:{switch(u=n,b=v,b){case 0:case 1:throw Error(o(345));case 4:if((r&4194048)!==r)break;case 6:Ys(u,r,go,!Hs);break e;case 2:to=null;break;case 3:case 5:break;default:throw Error(o(329))}if((r&62914560)===r&&(v=vf+300-jt(),10<v)){if(Ys(u,r,go,!Hs),Ze(u,0,!0)!==0)break e;cs=r,u.timeoutHandle=k1(e1.bind(null,u,s,to,bf,eh,r,go,Fl,Nu,Hs,b,"Throttled",-0,0),v);break e}e1(u,s,to,bf,eh,r,go,Fl,Nu,Hs,b,null,-0,0)}}break}while(!0);Pa(n)}function e1(n,r,s,u,v,b,M,H,ce,De,We,tt,Ue,Oe){if(n.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:so},Y0(r,b,tt);var Lt=(b&62914560)===b?vf-jt():(b&4194048)===b?$0-jt():0;if(Lt=Iv(tt,Lt),Lt!==null){cs=b,n.cancelPendingCommit=Lt(l1.bind(null,n,r,b,s,u,v,M,H,ce,We,tt,null,Ue,Oe)),Ys(n,b,M,!De);return}}l1(n,r,b,s,u,v,M,H,ce)}function K5(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var v=s[u],b=v.getSnapshot;v=v.value;try{if(!Yi(b(),v))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ys(n,r,s,u){r&=~Qd,r&=~Fl,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var v=r;0<v;){var b=31-qt(v),M=1<<b;u[b]=-1,v&=~M}s!==0&&pt(n,s,r)}function wf(){return(Fn&6)===0?(Nc(0),!1):!0}function rh(){if(pn!==null){if(qn===0)var n=pn.return;else n=pn,Lo=Ca=null,vu(n),nt=null,Rt=0,n=pn;for(;n!==null;)L0(n.alternate,n),n=n.return;pn=null}}function ku(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,mv(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),cs=0,rh(),Zn=n,pn=s=Vr(n.current,null),yn=r,qn=0,mo=null,Hs=!1,Tu=Je(n,r),Zd=!1,Nu=go=Qd=Fl=Gs=Ni=0,to=Cc=null,eh=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var v=31-qt(u),b=1<<v;r|=n[v],u&=~b}return us=r,El(),s}function t1(n,r){zt=null,Z.H=vc,r===ye||r===ee?(r=$e(),qn=3):r===Re?(r=$e(),qn=4):qn=r===Ud?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mo=r,pn===null&&(Ni=1,cf(n,jr(r,n.current)))}function n1(){var n=oi.current;return n===null?!0:(yn&4194048)===yn?Cn===null:(yn&62914560)===yn||(yn&536870912)!==0?n===Cn:!1}function i1(){var n=Z.H;return Z.H=vc,n===null?vc:n}function r1(){var n=Z.A;return Z.A=J5,n}function Sf(){Ni=4,Hs||(yn&4194048)!==yn&&oi.current!==null||(Tu=!0),(Gs&134217727)===0&&(Fl&134217727)===0||Zn===null||Ys(Zn,yn,go,!1)}function oh(n,r,s){var u=Fn;Fn|=2;var v=i1(),b=r1();(Zn!==n||yn!==r)&&(bf=null,ku(n,r)),r=!1;var M=Ni;e:do try{if(qn!==0&&pn!==null){var H=pn,ce=mo;switch(qn){case 8:rh(),M=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var De=qn;if(qn=0,mo=null,Lu(n,H,ce,De),s&&Tu){M=0;break e}break;default:De=qn,qn=0,mo=null,Lu(n,H,ce,De)}}$5(),M=Ni;break}catch(We){t1(n,We)}while(!0);return r&&n.shellSuspendCounter++,Lo=Ca=null,Fn=u,Z.H=v,Z.A=b,pn===null&&(Zn=null,yn=0,El()),M}function $5(){for(;pn!==null;)o1(pn)}function X5(n,r){var s=Fn;Fn|=2;var u=i1(),v=r1();Zn!==n||yn!==r?(bf=null,xf=jt()+500,ku(n,r)):Tu=Je(n,r);e:do try{if(qn!==0&&pn!==null){r=pn;var b=mo;t:switch(qn){case 1:qn=0,mo=null,Lu(n,r,b,1);break;case 2:case 9:if(Me(b)){qn=0,mo=null,a1(r);break}r=function(){qn!==2&&qn!==9||Zn!==n||(qn=7),Pa(n)},b.then(r,r);break e;case 3:qn=7;break e;case 4:qn=5;break e;case 7:Me(b)?(qn=0,mo=null,a1(r)):(qn=0,mo=null,Lu(n,r,b,7));break;case 5:var M=null;switch(pn.tag){case 26:M=pn.memoizedState;case 5:case 27:var H=pn;if(M?j1(M):H.stateNode.complete){qn=0,mo=null;var ce=H.sibling;if(ce!==null)pn=ce;else{var De=H.return;De!==null?(pn=De,_f(De)):pn=null}break t}}qn=0,mo=null,Lu(n,r,b,5);break;case 6:qn=0,mo=null,Lu(n,r,b,6);break;case 8:rh(),Ni=6;break e;default:throw Error(o(462))}}Z5();break}catch(We){t1(n,We)}while(!0);return Lo=Ca=null,Z.H=u,Z.A=v,Fn=s,pn!==null?0:(Zn=null,yn=0,El(),Ni)}function Z5(){for(;pn!==null&&!Mt();)o1(pn)}function o1(n){var r=M0(n.alternate,n,us);n.memoizedProps=n.pendingProps,r===null?_f(n):pn=r}function a1(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=_0(s,r,r.pendingProps,r.type,void 0,yn);break;case 11:r=_0(s,r,r.pendingProps,r.type.render,r.ref,yn);break;case 5:vu(r);default:L0(s,r),r=pn=Nl(r,us),r=M0(s,r,us)}n.memoizedProps=n.pendingProps,r===null?_f(n):pn=r}function Lu(n,r,s,u){Lo=Ca=null,vu(r),nt=null,Rt=0;var v=r.return;try{if(O5(n,v,r,s,yn)){Ni=1,cf(n,jr(s,n.current)),pn=null;return}}catch(b){if(v!==null)throw pn=v,b;Ni=1,cf(n,jr(s,n.current)),pn=null;return}r.flags&32768?(hn||u===1?n=!0:Tu||(yn&536870912)!==0?n=!1:(Hs=n=!0,(u===2||u===9||u===3||u===6)&&(u=oi.current,u!==null&&u.tag===13&&(u.flags|=16384))),s1(r,n)):_f(r)}function _f(n){var r=n;do{if((r.flags&32768)!==0){s1(r,Hs);return}n=r.return;var s=G5(r.alternate,r,us);if(s!==null){pn=s;return}if(r=r.sibling,r!==null){pn=r;return}pn=r=n}while(r!==null);Ni===0&&(Ni=5)}function s1(n,r){do{var s=V5(n.alternate,n);if(s!==null){s.flags&=32767,pn=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){pn=n;return}pn=n=s}while(n!==null);Ni=6,pn=null}function l1(n,r,s,u,v,b,M,H,ce){n.cancelPendingCommit=null;do Af();while(Zi!==0);if((Fn&6)!==0)throw Error(o(327));if(r!==null){if(r===n.current)throw Error(o(177));if(b=r.lanes|r.childLanes,b|=ru,Ye(n,s,b,M,H,ce),n===Zn&&(pn=Zn=null,yn=0),Mu=r,js=n,cs=s,th=b,nh=v,X0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nv(ct,function(){return h1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,v=de.p,de.p=2,M=Fn,Fn|=4;try{j5(n,r,s)}finally{Fn=M,de.p=v,Z.T=u}}Zi=1,u1(),c1(),f1()}}function u1(){if(Zi===1){Zi=0;var n=js,r=Mu,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var u=de.p;de.p=2;var v=Fn;Fn|=4;try{G0(r,n);var b=yh,M=ta(n.containerInfo),H=b.focusedElem,ce=b.selectionRange;if(M!==H&&H&&H.ownerDocument&&ea(H.ownerDocument.documentElement,H)){if(ce!==null&&Mo(H)){var De=ce.start,We=ce.end;if(We===void 0&&(We=De),"selectionStart"in H)H.selectionStart=De,H.selectionEnd=Math.min(We,H.value.length);else{var tt=H.ownerDocument||document,Ue=tt&&tt.defaultView||window;if(Ue.getSelection){var Oe=Ue.getSelection(),Lt=H.textContent.length,Kt=Math.min(ce.start,Lt),Wn=ce.end===void 0?Kt:Math.min(ce.end,Lt);!Oe.extend&&Kt>Wn&&(M=Wn,Wn=Kt,Kt=M);var Ce=ks(H,Kt),be=ks(H,Wn);if(Ce&&be&&(Oe.rangeCount!==1||Oe.anchorNode!==Ce.node||Oe.anchorOffset!==Ce.offset||Oe.focusNode!==be.node||Oe.focusOffset!==be.offset)){var Ie=tt.createRange();Ie.setStart(Ce.node,Ce.offset),Oe.removeAllRanges(),Kt>Wn?(Oe.addRange(Ie),Oe.extend(be.node,be.offset)):(Ie.setEnd(be.node,be.offset),Oe.addRange(Ie))}}}}for(tt=[],Oe=H;Oe=Oe.parentNode;)Oe.nodeType===1&&tt.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<tt.length;H++){var Qe=tt[H];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}Uf=!!gh,yh=gh=null}finally{Fn=v,de.p=u,Z.T=s}}n.current=r,Zi=2}}function c1(){if(Zi===2){Zi=0;var n=js,r=Mu,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var u=de.p;de.p=2;var v=Fn;Fn|=4;try{B0(n,r.alternate,r)}finally{Fn=v,de.p=u,Z.T=s}}Zi=3}}function f1(){if(Zi===4||Zi===3){Zi=0,ut();var n=js,r=Mu,s=cs,u=X0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zi=5:(Zi=0,Mu=js=null,d1(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Vs=null),Ft(s),r=r.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(bt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,v=de.p,de.p=2,Z.T=null;try{for(var b=n.onRecoverableError,M=0;M<u.length;M++){var H=u[M];b(H.value,{componentStack:H.stack})}}finally{Z.T=r,de.p=v}}(cs&3)!==0&&Af(),Pa(n),v=n.pendingLanes,(s&261930)!==0&&(v&42)!==0?n===ih?Tc++:(Tc=0,ih=n):Tc=0,Nc(0)}}function d1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ll(r)))}function Af(){return u1(),c1(),f1(),h1()}function h1(){if(Zi!==5)return!1;var n=js,r=th;th=0;var s=Ft(cs),u=Z.T,v=de.p;try{de.p=32>s?32:s,Z.T=null,s=nh,nh=null;var b=js,M=cs;if(Zi=0,Mu=js=null,cs=0,(Fn&6)!==0)throw Error(o(331));var H=Fn;if(Fn|=4,W0(b.current),j0(b,b.current,M,s),Fn=H,Nc(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(bt,b)}catch{}return!0}finally{de.p=v,Z.T=u,d1(n,r)}}function p1(n,r,s){r=jr(s,r),r=Pd(n.stateNode,r,2),n=ln(n,r,2),n!==null&&(Be(n,2),Pa(n))}function On(n,r,s){if(n.tag===3)p1(n,n,s);else for(;r!==null;){if(r.tag===3){p1(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vs===null||!Vs.has(u))){n=jr(s,n),s=m0(2),u=ln(r,s,2),u!==null&&(g0(s,u,r,n),Be(u,2),Pa(u));break}}r=r.return}}function ah(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new W5;var v=new Set;u.set(r,v)}else v=u.get(r),v===void 0&&(v=new Set,u.set(r,v));v.has(s)||(Zd=!0,v.add(s),n=Q5.bind(null,n,r,s),r.then(n,n))}function Q5(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Zn===n&&(yn&s)===s&&(Ni===4||Ni===3&&(yn&62914560)===yn&&300>jt()-vf?(Fn&2)===0&&ku(n,0):Qd|=s,Nu===yn&&(Nu=0)),Pa(n)}function m1(n,r){r===0&&(r=Ge()),n=ia(n,r),n!==null&&(Be(n,r),Pa(n))}function ev(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),m1(n,s)}function tv(n,r){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,v=n.memoizedState;v!==null&&(s=v.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(r),m1(n,s)}function nv(n,r){return St(n,r)}var Ef=null,Ru=null,sh=!1,Cf=!1,lh=!1,Js=0;function Pa(n){n!==Ru&&n.next===null&&(Ru===null?Ef=Ru=n:Ru=Ru.next=n),Cf=!0,sh||(sh=!0,rv())}function Nc(n,r){if(!lh&&Cf){lh=!0;do for(var s=!1,u=Ef;u!==null;){if(n!==0){var v=u.pendingLanes;if(v===0)var b=0;else{var M=u.suspendedLanes,H=u.pingedLanes;b=(1<<31-qt(42|n)+1)-1,b&=v&~(M&~H),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,x1(u,b))}else b=yn,b=Ze(u,u===Zn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Je(u,b)||(s=!0,x1(u,b));u=u.next}while(s);lh=!1}}function iv(){g1()}function g1(){Cf=sh=!1;var n=0;Js!==0&&pv()&&(n=Js);for(var r=jt(),s=null,u=Ef;u!==null;){var v=u.next,b=y1(u,r);b===0?(u.next=null,s===null?Ef=v:s.next=v,v===null&&(Ru=s)):(s=u,(n!==0||(b&3)!==0)&&(Cf=!0)),u=v}Zi!==0&&Zi!==5||Nc(n),Js!==0&&(Js=0)}function y1(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,v=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-qt(b),H=1<<M,ce=v[M];ce===-1?((H&s)===0||(H&u)!==0)&&(v[M]=Et(H,r)):ce<=r&&(n.expiredLanes|=H),b&=~H}if(r=Zn,s=yn,s=Ze(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(qn===2||qn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ft(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Je(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&ft(u),Ft(s)){case 2:case 8:s=Pe;break;case 32:s=ct;break;case 268435456:s=vt;break;default:s=ct}return u=v1.bind(null,n),s=St(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&ft(u),n.callbackPriority=2,n.callbackNode=null,2}function v1(n,r){if(Zi!==0&&Zi!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Af()&&n.callbackNode!==s)return null;var u=yn;return u=Ze(n,n===Zn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Q0(n,u,r),y1(n,jt()),n.callbackNode!=null&&n.callbackNode===s?v1.bind(null,n):null)}function x1(n,r){if(Af())return null;Q0(n,r,!0)}function rv(){gv(function(){(Fn&6)!==0?St(yt,iv):g1()})}function uh(){if(Js===0){var n=m;n===0&&(n=xe,xe<<=1,(xe&261888)===0&&(xe=256)),Js=n}return Js}function b1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wr(""+n)}function w1(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function ov(n,r,s,u,v){if(r==="submit"&&s&&s.stateNode===v){var b=b1((v[en]||null).action),M=u.submitter;M&&(r=(r=M[en]||null)?b1(r.formAction):M.getAttribute("formAction"),r!==null&&(b=r,M=null));var H=new zr("action","action",null,u,v);n.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Js!==0){var ce=M?w1(v,M):new FormData(v);Md(s,{pending:!0,data:ce,method:v.method,action:b},null,ce)}}else typeof b=="function"&&(H.preventDefault(),ce=M?w1(v,M):new FormData(v),Md(s,{pending:!0,data:ce,method:v.method,action:b},b,ce))},currentTarget:v}]})}}for(var ch=0;ch<Ka.length;ch++){var fh=Ka[ch],av=fh.toLowerCase(),sv=fh[0].toUpperCase()+fh.slice(1);Gr(av,"on"+sv)}Gr(Wa,"onAnimationEnd"),Gr(_l,"onAnimationIteration"),Gr(ic,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr($c,"onTransitionRun"),Gr(Xc,"onTransitionStart"),Gr(Zc,"onTransitionCancel"),Gr(rc,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function S1(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],v=u.event;u=u.listeners;e:{var b=void 0;if(r)for(var M=u.length-1;0<=M;M--){var H=u[M],ce=H.instance,De=H.currentTarget;if(H=H.listener,ce!==b&&v.isPropagationStopped())break e;b=H,v.currentTarget=De;try{b(v)}catch(We){Al(We)}v.currentTarget=null,b=ce}else for(M=0;M<u.length;M++){if(H=u[M],ce=H.instance,De=H.currentTarget,H=H.listener,ce!==b&&v.isPropagationStopped())break e;b=H,v.currentTarget=De;try{b(v)}catch(We){Al(We)}v.currentTarget=null,b=ce}}}}function mn(n,r){var s=r[Nn];s===void 0&&(s=r[Nn]=new Set);var u=n+"__bubble";s.has(u)||(_1(r,n,2,!1),s.add(u))}function dh(n,r,s){var u=0;r&&(u|=4),_1(s,n,u,r)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function hh(n){if(!n[Tf]){n[Tf]=!0,al.forEach(function(s){s!=="selectionchange"&&(lv.has(s)||dh(s,!1,n),dh(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Tf]||(r[Tf]=!0,dh("selectionchange",!1,r))}}function _1(n,r,s,u){switch(Z1(r)){case 2:var v=Uv;break;case 8:v=Fv;break;default:v=Nh}s=v.bind(null,r,s,n),v=void 0,!vl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),u?v!==void 0?n.addEventListener(r,s,{capture:!0,passive:v}):n.addEventListener(r,s,!0):v!==void 0?n.addEventListener(r,s,{passive:v}):n.addEventListener(r,s,!1)}function ph(n,r,s,u,v){var b=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var H=u.stateNode.containerInfo;if(H===v)break;if(M===4)for(M=u.return;M!==null;){var ce=M.tag;if((ce===3||ce===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;H!==null;){if(M=cr(H),M===null)return;if(ce=M.tag,ce===5||ce===6||ce===26||ce===27){u=b=M;continue e}H=H.parentNode}}u=u.return}Ql(function(){var De=b,We=za(s),tt=[];e:{var Ue=oc.get(n);if(Ue!==void 0){var Oe=zr,Lt=n;switch(n){case"keypress":if(Or(s)===0)break e;case"keydown":case"keyup":Oe=wn;break;case"focusin":Lt="focus",Oe=Yo;break;case"focusout":Lt="blur",Oe=Yo;break;case"beforeblur":case"afterblur":Oe=Yo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Ri;break;case Wa:case _l:case ic:Oe=A;break;case rc:Oe=ji;break;case"scroll":case"scrollend":Oe=_s;break;case"wheel":Oe=lo;break;case"copy":case"cut":case"paste":Oe=ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=gi;break;case"toggle":case"beforetoggle":Oe=bl}var Kt=(r&4)!==0,Wn=!Kt&&(n==="scroll"||n==="scrollend"),Ce=Kt?Ue!==null?Ue+"Capture":null:Ue;Kt=[];for(var be=De,Ie;be!==null;){var Qe=be;if(Ie=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Ie===null||Ce===null||(Qe=Ir(be,Ce),Qe!=null&&Kt.push(kc(be,Qe,Ie))),Wn)break;be=be.return}0<Kt.length&&(Ue=new Oe(Ue,Lt,null,s,We),tt.push({event:Ue,listeners:Kt}))}}if((r&7)===0){e:{if(Ue=n==="mouseover"||n==="pointerover",Oe=n==="mouseout"||n==="pointerout",Ue&&s!==Oo&&(Lt=s.relatedTarget||s.fromElement)&&(cr(Lt)||Lt[ti]))break e;if((Oe||Ue)&&(Ue=We.window===We?We:(Ue=We.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Oe?(Lt=s.relatedTarget||s.toElement,Oe=De,Lt=Lt?cr(Lt):null,Lt!==null&&(Wn=l(Lt),Kt=Lt.tag,Lt!==Wn||Kt!==5&&Kt!==27&&Kt!==6)&&(Lt=null)):(Oe=null,Lt=De),Oe!==Lt)){if(Kt=xl,Qe="onMouseLeave",Ce="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(Kt=gi,Qe="onPointerLeave",Ce="onPointerEnter",be="pointer"),Wn=Oe==null?Ue:er(Oe),Ie=Lt==null?Ue:er(Lt),Ue=new Kt(Qe,be+"leave",Oe,s,We),Ue.target=Wn,Ue.relatedTarget=Ie,Qe=null,cr(We)===De&&(Kt=new Kt(Ce,be+"enter",Lt,s,We),Kt.target=Ie,Kt.relatedTarget=Wn,Qe=Kt),Wn=Qe,Oe&&Lt)t:{for(Kt=uv,Ce=Oe,be=Lt,Ie=0,Qe=Ce;Qe;Qe=Kt(Qe))Ie++;Qe=0;for(var Vt=be;Vt;Vt=Kt(Vt))Qe++;for(;0<Ie-Qe;)Ce=Kt(Ce),Ie--;for(;0<Qe-Ie;)be=Kt(be),Qe--;for(;Ie--;){if(Ce===be||be!==null&&Ce===be.alternate){Kt=Ce;break t}Ce=Kt(Ce),be=Kt(be)}Kt=null}else Kt=null;Oe!==null&&A1(tt,Ue,Oe,Kt,!1),Lt!==null&&Wn!==null&&A1(tt,Wn,Lt,Kt,!0)}}e:{if(Ue=De?er(De):window,Oe=Ue.nodeName&&Ue.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Ue.type==="file")var Rn=Sa;else if(wl(Ue))if(Sr)Rn=To;else{Rn=yi;var Pt=Ns}else Oe=Ue.nodeName,!Oe||Oe.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?De&&ml(De.elementType)&&(Rn=Sa):Rn=iu;if(Rn&&(Rn=Rn(n,De))){Pr(tt,Rn,s,We);break e}Pt&&Pt(n,Ue,De),n==="focusout"&&De&&Ue.type==="number"&&De.memoizedProps.value!=null&&dl(Ue,"number",Ue.value)}switch(Pt=De?er(De):window,n){case"focusin":(wl(Pt)||Pt.contentEditable==="true")&&(Ur=Pt,na=De,tr=null);break;case"focusout":tr=na=Ur=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":Hr=!1,kn(tt,s,We);break;case"selectionchange":if(Ja)break;case"keydown":case"keyup":kn(tt,s,We)}var un;if(_o)e:{switch(n){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else Ao?wa(n,s)&&(vn="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(vn="onCompositionStart");vn&&(Ko&&s.locale!=="ko"&&(Ao||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Ao&&(un=eu()):(Dr=We,Ga="value"in Dr?Dr.value:Dr.textContent,Ao=!0)),Pt=Nf(De,vn),0<Pt.length&&(vn=new Ee(vn,n,null,s,We),tt.push({event:vn,listeners:Pt}),un?vn.data=un:(un=Es(s),un!==null&&(vn.data=un)))),(un=Ya?pr(n,s):$o(n,s))&&(vn=Nf(De,"onBeforeInput"),0<vn.length&&(Pt=new Ee("onBeforeInput","beforeinput",null,s,We),tt.push({event:Pt,listeners:vn}),Pt.data=un)),ov(tt,n,De,s,We)}S1(tt,r)})}function kc(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Nf(n,r){for(var s=r+"Capture",u=[];n!==null;){var v=n,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ir(n,s),v!=null&&u.unshift(kc(n,v,b)),v=Ir(n,r),v!=null&&u.push(kc(n,v,b))),n.tag===3)return u;n=n.return}return[]}function uv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function A1(n,r,s,u,v){for(var b=r._reactName,M=[];s!==null&&s!==u;){var H=s,ce=H.alternate,De=H.stateNode;if(H=H.tag,ce!==null&&ce===u)break;H!==5&&H!==26&&H!==27||De===null||(ce=De,v?(De=Ir(s,b),De!=null&&M.unshift(kc(s,De,ce))):v||(De=Ir(s,b),De!=null&&M.push(kc(s,De,ce)))),s=s.return}M.length!==0&&n.push({event:r,listeners:M})}var cv=/\r\n?/g,fv=/\u0000|\uFFFD/g;function E1(n){return(typeof n=="string"?n:""+n).replace(cv,`
`).replace(fv,"")}function C1(n,r){return r=E1(r),E1(n)===r}function Jn(n,r,s,u,v,b){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ao(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ao(n,""+u);break;case"className":qo(n,"class",u);break;case"tabIndex":qo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qo(n,s,u);break;case"style":$l(n,u,b);break;case"data":if(r!=="object"){qo(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=wr(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(r!=="input"&&Jn(n,r,"name",v.name,v,null),Jn(n,r,"formEncType",v.formEncType,v,null),Jn(n,r,"formMethod",v.formMethod,v,null),Jn(n,r,"formTarget",v.formTarget,v,null)):(Jn(n,r,"encType",v.encType,v,null),Jn(n,r,"method",v.method,v,null),Jn(n,r,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=wr(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=so);break;case"onScroll":u!=null&&mn("scroll",n);break;case"onScrollEnd":u!=null&&mn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=wr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":mn("beforetoggle",n),mn("toggle",n),Rr(n,"popover",u);break;case"xlinkActuate":oo(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":oo(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":oo(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":oo(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":oo(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":oo(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":oo(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":oo(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":oo(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gl.get(s)||s,Rr(n,s,u))}}function mh(n,r,s,u,v,b){switch(s){case"style":$l(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof u=="string"?ao(n,u):(typeof u=="number"||typeof u=="bigint")&&ao(n,""+u);break;case"onScroll":u!=null&&mn("scroll",n);break;case"onScrollEnd":u!=null&&mn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=so);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(v=s.endsWith("Capture"),r=s.slice(2,v?s.length-7:void 0),b=n[en]||null,b=b!=null?b[s]:null,typeof b=="function"&&n.removeEventListener(r,b,v),typeof u=="function")){typeof b!="function"&&b!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,v);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Rr(n,s,u)}}}function xr(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",n),mn("load",n);var u=!1,v=!1,b;for(b in s)if(s.hasOwnProperty(b)){var M=s[b];if(M!=null)switch(b){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Jn(n,r,b,M,s,null)}}v&&Jn(n,r,"srcSet",s.srcSet,s,null),u&&Jn(n,r,"src",s.src,s,null);return;case"input":mn("invalid",n);var H=b=M=v=null,ce=null,De=null;for(u in s)if(s.hasOwnProperty(u)){var We=s[u];if(We!=null)switch(u){case"name":v=We;break;case"type":M=We;break;case"checked":ce=We;break;case"defaultChecked":De=We;break;case"value":b=We;break;case"defaultValue":H=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(o(137,r));break;default:Jn(n,r,u,We,s,null)}}Wl(n,b,H,ce,De,M,v,!1);return;case"select":mn("invalid",n),u=M=b=null;for(v in s)if(s.hasOwnProperty(v)&&(H=s[v],H!=null))switch(v){case"value":b=H;break;case"defaultValue":M=H;break;case"multiple":u=H;default:Jn(n,r,v,H,s,null)}r=b,s=M,n.multiple=!!u,r!=null?hr(n,!!u,r,!1):s!=null&&hr(n,!!u,s,!0);return;case"textarea":mn("invalid",n),b=v=u=null;for(M in s)if(s.hasOwnProperty(M)&&(H=s[M],H!=null))switch(M){case"value":u=H;break;case"defaultValue":v=H;break;case"children":b=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(91));break;default:Jn(n,r,M,H,s,null)}pl(n,u,v,b);return;case"option":for(ce in s)if(s.hasOwnProperty(ce)&&(u=s[ce],u!=null))switch(ce){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jn(n,r,ce,u,s,null)}return;case"dialog":mn("beforetoggle",n),mn("toggle",n),mn("cancel",n),mn("close",n);break;case"iframe":case"object":mn("load",n);break;case"video":case"audio":for(u=0;u<Mc.length;u++)mn(Mc[u],n);break;case"image":mn("error",n),mn("load",n);break;case"details":mn("toggle",n);break;case"embed":case"source":case"link":mn("error",n),mn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in s)if(s.hasOwnProperty(De)&&(u=s[De],u!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Jn(n,r,De,u,s,null)}return;default:if(ml(r)){for(We in s)s.hasOwnProperty(We)&&(u=s[We],u!==void 0&&mh(n,r,We,u,s,void 0));return}}for(H in s)s.hasOwnProperty(H)&&(u=s[H],u!=null&&Jn(n,r,H,u,s,null))}function dv(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,M=null,H=null,ce=null,De=null,We=null;for(Oe in s){var tt=s[Oe];if(s.hasOwnProperty(Oe)&&tt!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":ce=tt;default:u.hasOwnProperty(Oe)||Jn(n,r,Oe,null,u,tt)}}for(var Ue in u){var Oe=u[Ue];if(tt=s[Ue],u.hasOwnProperty(Ue)&&(Oe!=null||tt!=null))switch(Ue){case"type":b=Oe;break;case"name":v=Oe;break;case"checked":De=Oe;break;case"defaultChecked":We=Oe;break;case"value":M=Oe;break;case"defaultValue":H=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(o(137,r));break;default:Oe!==tt&&Jn(n,r,Ue,Oe,u,tt)}}bs(n,M,H,ce,De,We,b,v);return;case"select":Oe=M=H=Ue=null;for(b in s)if(ce=s[b],s.hasOwnProperty(b)&&ce!=null)switch(b){case"value":break;case"multiple":Oe=ce;default:u.hasOwnProperty(b)||Jn(n,r,b,null,u,ce)}for(v in u)if(b=u[v],ce=s[v],u.hasOwnProperty(v)&&(b!=null||ce!=null))switch(v){case"value":Ue=b;break;case"defaultValue":H=b;break;case"multiple":M=b;default:b!==ce&&Jn(n,r,v,b,u,ce)}r=H,s=M,u=Oe,Ue!=null?hr(n,!!s,Ue,!1):!!u!=!!s&&(r!=null?hr(n,!!s,r,!0):hr(n,!!s,s?[]:"",!1));return;case"textarea":Oe=Ue=null;for(H in s)if(v=s[H],s.hasOwnProperty(H)&&v!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Jn(n,r,H,null,u,v)}for(M in u)if(v=u[M],b=s[M],u.hasOwnProperty(M)&&(v!=null||b!=null))switch(M){case"value":Ue=v;break;case"defaultValue":Oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==b&&Jn(n,r,M,v,u,b)}hl(n,Ue,Oe);return;case"option":for(var Lt in s)if(Ue=s[Lt],s.hasOwnProperty(Lt)&&Ue!=null&&!u.hasOwnProperty(Lt))switch(Lt){case"selected":n.selected=!1;break;default:Jn(n,r,Lt,null,u,Ue)}for(ce in u)if(Ue=u[ce],Oe=s[ce],u.hasOwnProperty(ce)&&Ue!==Oe&&(Ue!=null||Oe!=null))switch(ce){case"selected":n.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:Jn(n,r,ce,Ue,u,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in s)Ue=s[Kt],s.hasOwnProperty(Kt)&&Ue!=null&&!u.hasOwnProperty(Kt)&&Jn(n,r,Kt,null,u,Ue);for(De in u)if(Ue=u[De],Oe=s[De],u.hasOwnProperty(De)&&Ue!==Oe&&(Ue!=null||Oe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(o(137,r));break;default:Jn(n,r,De,Ue,u,Oe)}return;default:if(ml(r)){for(var Wn in s)Ue=s[Wn],s.hasOwnProperty(Wn)&&Ue!==void 0&&!u.hasOwnProperty(Wn)&&mh(n,r,Wn,void 0,u,Ue);for(We in u)Ue=u[We],Oe=s[We],!u.hasOwnProperty(We)||Ue===Oe||Ue===void 0&&Oe===void 0||mh(n,r,We,Ue,u,Oe);return}}for(var Ce in s)Ue=s[Ce],s.hasOwnProperty(Ce)&&Ue!=null&&!u.hasOwnProperty(Ce)&&Jn(n,r,Ce,null,u,Ue);for(tt in u)Ue=u[tt],Oe=s[tt],!u.hasOwnProperty(tt)||Ue===Oe||Ue==null&&Oe==null||Jn(n,r,tt,Ue,u,Oe)}function T1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hv(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var v=s[u],b=v.transferSize,M=v.initiatorType,H=v.duration;if(b&&H&&T1(M)){for(M=0,H=v.responseEnd,u+=1;u<s.length;u++){var ce=s[u],De=ce.startTime;if(De>H)break;var We=ce.transferSize,tt=ce.initiatorType;We&&T1(tt)&&(ce=ce.responseEnd,M+=We*(ce<H?1:(H-De)/(ce-De)))}if(--u,r+=8*(b+M)/(v.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var gh=null,yh=null;function Mf(n){return n.nodeType===9?n:n.ownerDocument}function N1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M1(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function vh(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xh=null;function pv(){var n=window.event;return n&&n.type==="popstate"?n===xh?!1:(xh=n,!0):(xh=null,!1)}var k1=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(n){return L1.resolve(null).then(n).catch(yv)}:k1;function yv(n){setTimeout(function(){throw n})}function Ws(n){return n==="head"}function R1(n,r){var s=r,u=0;do{var v=s.nextSibling;if(n.removeChild(s),v&&v.nodeType===8)if(s=v.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(v),Uu(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Lc(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Lc(s);for(var b=s.firstChild;b;){var M=b.nextSibling,H=b.nodeName;b[ur]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=M}}else s==="body"&&Lc(n.ownerDocument.body);s=v}while(s);Uu(r)}function I1(n,r){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function bh(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bh(s),kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function vv(n,r,s,u){for(;n.nodeType===1;){var v=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ur])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Do(n.nextSibling),n===null)break}return null}function xv(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Do(n.nextSibling),n===null))return null;return n}function D1(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Do(n.nextSibling),n===null))return null;return n}function wh(n){return n.data==="$?"||n.data==="$~"}function Sh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function bv(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Do(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var _h=null;function P1(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return Do(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function U1(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function F1(n,r,s){switch(r=Mf(s),n){case"html":if(n=r.documentElement,!n)throw Error(o(452));return n;case"head":if(n=r.head,!n)throw Error(o(453));return n;case"body":if(n=r.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Lc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);kr(n)}var Po=new Map,B1=new Set;function kf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fs=de.d;de.d={f:wv,r:Sv,D:_v,C:Av,L:Ev,m:Cv,X:Nv,S:Tv,M:Mv};function wv(){var n=fs.f(),r=wf();return n||r}function Sv(n){var r=Qi(n);r!==null&&r.tag===5&&r.type==="form"?t0(r):fs.r(n)}var Iu=typeof document>"u"?null:document;function q1(n,r,s){var u=Iu;if(u&&typeof r=="string"&&r){var v=wi(r);v='link[rel="'+n+'"][href="'+v+'"]',typeof s=="string"&&(v+='[crossorigin="'+s+'"]'),B1.has(v)||(B1.add(v),n={rel:n,crossOrigin:s,href:r},u.querySelector(v)===null&&(r=u.createElement("link"),xr(r,"link",n),mi(r),u.head.appendChild(r)))}}function _v(n){fs.D(n),q1("dns-prefetch",n,null)}function Av(n,r){fs.C(n,r),q1("preconnect",n,r)}function Ev(n,r,s){fs.L(n,r,s);var u=Iu;if(u&&n&&r){var v='link[rel="preload"][as="'+wi(r)+'"]';r==="image"&&s&&s.imageSrcSet?(v+='[imagesrcset="'+wi(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(v+='[imagesizes="'+wi(s.imageSizes)+'"]')):v+='[href="'+wi(n)+'"]';var b=v;switch(r){case"style":b=Du(n);break;case"script":b=Pu(n)}Po.has(b)||(n=w({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Po.set(b,n),u.querySelector(v)!==null||r==="style"&&u.querySelector(Rc(b))||r==="script"&&u.querySelector(Ic(b))||(r=u.createElement("link"),xr(r,"link",n),mi(r),u.head.appendChild(r)))}}function Cv(n,r){fs.m(n,r);var s=Iu;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(n)+'"]',b=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pu(n)}if(!Po.has(b)&&(n=w({rel:"modulepreload",href:n},r),Po.set(b,n),s.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ic(b)))return}u=s.createElement("link"),xr(u,"link",n),mi(u),s.head.appendChild(u)}}}function Tv(n,r,s){fs.S(n,r,s);var u=Iu;if(u&&n){var v=fr(u).hoistableStyles,b=Du(n);r=r||"default";var M=v.get(b);if(!M){var H={loading:0,preload:null};if(M=u.querySelector(Rc(b)))H.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Po.get(b))&&Ah(n,s);var ce=M=u.createElement("link");mi(ce),xr(ce,"link",n),ce._p=new Promise(function(De,We){ce.onload=De,ce.onerror=We}),ce.addEventListener("load",function(){H.loading|=1}),ce.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Lf(M,r,u)}M={type:"stylesheet",instance:M,count:1,state:H},v.set(b,M)}}}function Nv(n,r){fs.X(n,r);var s=Iu;if(s&&n){var u=fr(s).hoistableScripts,v=Pu(n),b=u.get(v);b||(b=s.querySelector(Ic(v)),b||(n=w({src:n,async:!0},r),(r=Po.get(v))&&Eh(n,r),b=s.createElement("script"),mi(b),xr(b,"link",n),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function Mv(n,r){fs.M(n,r);var s=Iu;if(s&&n){var u=fr(s).hoistableScripts,v=Pu(n),b=u.get(v);b||(b=s.querySelector(Ic(v)),b||(n=w({src:n,async:!0,type:"module"},r),(r=Po.get(v))&&Eh(n,r),b=s.createElement("script"),mi(b),xr(b,"link",n),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function O1(n,r,s,u){var v=(v=ie.current)?kf(v):null;if(!v)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Du(s.href),s=fr(v).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Du(s.href);var b=fr(v).hoistableStyles,M=b.get(n);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=v.querySelector(Rc(n)))&&!b._p&&(M.instance=b,M.state.loading=5),Po.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Po.set(n,s),b||kv(v,n,s,M.state))),r&&u===null)throw Error(o(528,""));return M}if(r&&u!==null)throw Error(o(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pu(s),s=fr(v).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Du(n){return'href="'+wi(n)+'"'}function Rc(n){return'link[rel="stylesheet"]['+n+"]"}function z1(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function kv(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),xr(r,"link",s),mi(r),n.head.appendChild(r))}function Pu(n){return'[src="'+wi(n)+'"]'}function Ic(n){return"script[async]"+n}function H1(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+wi(s.href)+'"]');if(u)return r.instance=u,mi(u),u;var v=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mi(u),xr(u,"style",v),Lf(u,s.precedence,n),r.instance=u;case"stylesheet":v=Du(s.href);var b=n.querySelector(Rc(v));if(b)return r.state.loading|=4,r.instance=b,mi(b),b;u=z1(s),(v=Po.get(v))&&Ah(u,v),b=(n.ownerDocument||n).createElement("link"),mi(b);var M=b;return M._p=new Promise(function(H,ce){M.onload=H,M.onerror=ce}),xr(b,"link",u),r.state.loading|=4,Lf(b,s.precedence,n),r.instance=b;case"script":return b=Pu(s.src),(v=n.querySelector(Ic(b)))?(r.instance=v,mi(v),v):(u=s,(v=Po.get(b))&&(u=w({},s),Eh(u,v)),n=n.ownerDocument||n,v=n.createElement("script"),mi(v),xr(v,"link",u),n.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(o(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Lf(u,s.precedence,n));return r.instance}function Lf(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,b=v,M=0;M<u.length;M++){var H=u[M];if(H.dataset.precedence===r)b=H;else if(b!==v)break}b?b.parentNode.insertBefore(n,b.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Ah(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Eh(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Rf=null;function G1(n,r,s){if(Rf===null){var u=new Map,v=Rf=new Map;v.set(s,u)}else v=Rf,u=v.get(s),u||(u=new Map,v.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),v=0;v<s.length;v++){var b=s[v];if(!(b[ur]||b[Xt]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(r)||"";M=n+M;var H=u.get(M);H?H.push(b):u.set(M,[b])}}return u}function V1(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function Lv(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function j1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Rv(n,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=Du(u.href),b=r.querySelector(Rc(v));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=If.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=b,mi(b);return}b=r.ownerDocument||r,u=z1(u),(v=Po.get(v))&&Ah(u,v),b=b.createElement("link"),mi(b);var M=b;M._p=new Promise(function(H,ce){M.onload=H,M.onerror=ce}),xr(b,"link",u),s.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=If.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Ch=0;function Iv(n,r){return n.stylesheets&&n.count===0&&Pf(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Pf(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+r);0<n.imgBytes&&Ch===0&&(Ch=62500*hv());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Pf(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Ch?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(v)}}:null}function If(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Df=null;function Pf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Df=new Map,r.forEach(Dv,n),Df=null,If.call(n))}function Dv(n,r){if(!(r.state.loading&4)){var s=Df.get(n);if(s)var u=s.get(null);else{s=new Map,Df.set(n,s);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var M=v[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(s.set(M.dataset.precedence,M),u=M)}u&&s.set(null,u)}v=r.instance,M=v.getAttribute("data-precedence"),b=s.get(M)||u,b===u&&s.set(null,v),s.set(M,v),this.count++,u=If.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),b?b.parentNode.insertBefore(v,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),r.state.loading|=4}}var Dc={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Pv(n,r,s,u,v,b,M,H,ce){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function Y1(n,r,s,u,v,b,M,H,ce,De,We,tt){return n=new Pv(n,r,s,M,ce,De,We,tt,H),r=1,b===!0&&(r|=24),b=ir(3,null,null,r),n.current=b,b.stateNode=n,r=Us(),r.refCount++,n.pooledCache=r,r.refCount++,b.memoizedState={element:u,isDehydrated:s,cache:r},ht(b),n}function J1(n){return n?(n=Ji,n):Ji}function W1(n,r,s,u,v,b){v=J1(v),u.context===null?u.context=v:u.pendingContext=v,u=Wt(r),u.payload={element:s},b=b===void 0?null:b,b!==null&&(u.callback=b),s=ln(n,u,r),s!==null&&(no(s,n,r),Pn(s,n,r))}function K1(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Th(n,r){K1(n,r),(n=n.alternate)&&K1(n,r)}function $1(n){if(n.tag===13||n.tag===31){var r=ia(n,67108864);r!==null&&no(r,n,67108864),Th(n,67108864)}}function X1(n){if(n.tag===13||n.tag===31){var r=yo();r=Ut(r);var s=ia(n,r);s!==null&&no(s,n,r),Th(n,r)}}var Uf=!0;function Uv(n,r,s,u){var v=Z.T;Z.T=null;var b=de.p;try{de.p=2,Nh(n,r,s,u)}finally{de.p=b,Z.T=v}}function Fv(n,r,s,u){var v=Z.T;Z.T=null;var b=de.p;try{de.p=8,Nh(n,r,s,u)}finally{de.p=b,Z.T=v}}function Nh(n,r,s,u){if(Uf){var v=Mh(u);if(v===null)ph(n,r,u,Ff,s),Q1(n,u);else if(qv(v,n,r,s,u))u.stopPropagation();else if(Q1(n,u),r&4&&-1<Bv.indexOf(n)){for(;v!==null;){var b=Qi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=_e(b.pendingLanes);if(M!==0){var H=b;for(H.pendingLanes|=2,H.entangledLanes|=2;M;){var ce=1<<31-qt(M);H.entanglements[1]|=ce,M&=~ce}Pa(b),(Fn&6)===0&&(xf=jt()+500,Nc(0))}}break;case 31:case 13:H=ia(b,2),H!==null&&no(H,b,2),wf(),Th(b,2)}if(b=Mh(u),b===null&&ph(n,r,u,Ff,s),b===v)break;v=b}v!==null&&u.stopPropagation()}else ph(n,r,u,null,s)}}function Mh(n){return n=za(n),kh(n)}var Ff=null;function kh(n){if(Ff=null,n=cr(n),n!==null){var r=l(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Ff=n,null}function Z1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case yt:return 2;case Pe:return 8;case ct:case lt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Lh=!1,Ks=null,$s=null,Xs=null,Pc=new Map,Uc=new Map,Zs=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q1(n,r){switch(n){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Pc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(r.pointerId)}}function Fc(n,r,s,u,v,b){return n===null||n.nativeEvent!==b?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:b,targetContainers:[v]},r!==null&&(r=Qi(r),r!==null&&$1(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),n)}function qv(n,r,s,u,v){switch(r){case"focusin":return Ks=Fc(Ks,n,r,s,u,v),!0;case"dragenter":return $s=Fc($s,n,r,s,u,v),!0;case"mouseover":return Xs=Fc(Xs,n,r,s,u,v),!0;case"pointerover":var b=v.pointerId;return Pc.set(b,Fc(Pc.get(b)||null,n,r,s,u,v)),!0;case"gotpointercapture":return b=v.pointerId,Uc.set(b,Fc(Uc.get(b)||null,n,r,s,u,v)),!0}return!1}function e2(n){var r=cr(n.target);if(r!==null){var s=l(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,ki(n.priority,function(){X1(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,ki(n.priority,function(){X1(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Mh(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);Oo=u,s.target.dispatchEvent(u),Oo=null}else return r=Qi(s),r!==null&&$1(r),n.blockedOn=s,!1;r.shift()}return!0}function t2(n,r,s){Bf(n)&&s.delete(r)}function Ov(){Lh=!1,Ks!==null&&Bf(Ks)&&(Ks=null),$s!==null&&Bf($s)&&($s=null),Xs!==null&&Bf(Xs)&&(Xs=null),Pc.forEach(t2),Uc.forEach(t2)}function qf(n,r){n.blockedOn===r&&(n.blockedOn=null,Lh||(Lh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ov)))}var Of=null;function n2(n){Of!==n&&(Of=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Of===n&&(Of=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],v=n[r+2];if(typeof u!="function"){if(kh(u||s)===null)continue;break}var b=Qi(s);b!==null&&(n.splice(r,3),r-=3,Md(b,{pending:!0,data:v,method:s.method,action:u},u,v))}}))}function Uu(n){function r(ce){return qf(ce,n)}Ks!==null&&qf(Ks,n),$s!==null&&qf($s,n),Xs!==null&&qf(Xs,n),Pc.forEach(r),Uc.forEach(r);for(var s=0;s<Zs.length;s++){var u=Zs[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)e2(s),s.blockedOn===null&&Zs.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var v=s[u],b=s[u+1],M=v[en]||null;if(typeof b=="function")M||n2(s);else if(M){var H=null;if(b&&b.hasAttribute("formAction")){if(v=b,M=b[en]||null)H=M.formAction;else if(kh(v)!==null)continue}else H=M.action;typeof H=="function"?s[u+1]=H:(s.splice(u,3),u-=3),n2(s)}}}function i2(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return v=M})},focusReset:"manual",scroll:"manual"})}function r(){v!==null&&(v(),v=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),v!==null&&(v(),v=null)}}}function Rh(n){this._internalRoot=n}zf.prototype.render=Rh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));var s=r.current,u=yo();W1(s,u,n,r,null,null)},zf.prototype.unmount=Rh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;W1(n.current,2,null,n,null,null),wf(),r[ti]=null}};function zf(n){this._internalRoot=n}zf.prototype.unstable_scheduleHydration=function(n){if(n){var r=bn();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Zs.length&&r!==0&&r<Zs[s].priority;s++);Zs.splice(s,0,n),s===0&&e2(n)}};var r2=e.version;if(r2!=="19.2.0")throw Error(o(527,r2,"19.2.0"));de.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=d(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var zv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{bt=Hf.inject(zv),Ct=Hf}catch{}}return qc.createRoot=function(n,r){if(!a(n))throw Error(o(299));var s=!1,u="",v=f0,b=d0,M=h0;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(M=r.onRecoverableError)),r=Y1(n,1,!1,null,null,s,u,null,v,b,M,i2),n[ti]=r.current,hh(n),new Rh(r)},qc.hydrateRoot=function(n,r,s){if(!a(n))throw Error(o(299));var u=!1,v="",b=f0,M=d0,H=h0,ce=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(H=s.onRecoverableError),s.formState!==void 0&&(ce=s.formState)),r=Y1(n,1,!0,r,s??null,u,v,ce,b,M,H,i2),r.context=J1(null),s=r.current,u=yo(),u=Ut(u),v=Wt(u),v.callback=null,ln(s,v,u),s=u,r.current.lanes=s,Be(r,s),Pa(r),n[ti]=r.current,hh(n),new zf(r)},qc.version="19.2.0",qc}var p2;function Qv(){if(p2)return Ph.exports;p2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ph.exports=Zv(),Ph.exports}var ex=Qv();const tx=cy(ex),qh=()=>`shape-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Oh=t=>typeof t=="number"&&Number.isFinite(t)&&!Number.isNaN(t),nx=t=>{const e={};return Object.entries(t).forEach(([i,o])=>{if(i==="p1"||i==="p2"||i==="offsetPoint"){const a=o;a&&Oh(a.x)&&Oh(a.y)&&(e[i]=o)}else i==="properties"||i==="content"||i==="name"||i==="subType"||i==="textOverride"||i==="data"?e[i]=o:typeof o=="number"?Oh(o)&&(["width","height","r","size"].includes(i)&&o<=1e-4?e[i]=.01:e[i]=o):e[i]=o}),e},dy=gt.createContext(void 0),ix=({children:t})=>{const[e,i]=gt.useState([[]]),[o,a]=gt.useState(0),l=e[o]||[],[c,f]=gt.useState(null),[h,d]=gt.useState("select"),[y,w]=gt.useState({color:"#FFFFFF",fill:"transparent",strokeWidth:1,lineType:"solid"}),[E,S]=gt.useState({x:0,y:0,scale:1}),[U,N]=gt.useState("mm"),[B,L]=gt.useState(new Set(["endpoints","midpoints","centers","inference"])),[R,D]=gt.useState(!0),[J,le]=gt.useState(null),[pe,ue]=gt.useState(null),se=o>0,K=o<e.length-1,X=gt.useCallback(z=>{z!==l&&(i(Q=>{const ie=Q.slice(0,o+1);return ie.push(z),ie}),a(Q=>Q+1))},[o,l]),F=gt.useCallback(z=>{w(Q=>({...Q,...z}))},[]),V=gt.useCallback(z=>{const Q={...z,id:qh()};Q.properties?Q.properties.lineType||(Q.properties.lineType="solid"):Q.properties={color:"#FFFFFF",fill:"transparent",strokeWidth:1,lineType:"solid"};const ie=[...l,Q];X(ie)},[l,X]),oe=gt.useCallback(z=>{const Q=z.map(ge=>{const Ae={...ge,id:qh()};return Ae.properties?Ae.properties.lineType||(Ae.properties.lineType="solid"):Ae.properties={color:"#FFFFFF",fill:"transparent",strokeWidth:1,lineType:"solid"},Ae}),ie=[...l,...Q];X(ie)},[l,X]),ae=gt.useCallback((z,Q)=>{const ie=nx(Q);if(Object.keys(ie).length===0&&Object.keys(Q).length>0&&!Q.properties)return;const ge=l.map(Ae=>{if(Ae.id===z){const Ne={...Ae};return Object.entries(ie).forEach(([we,me])=>{we==="properties"&&me&&typeof me=="object"?Ne.properties={...Ne.properties,...me}:we==="data"&&me&&typeof me=="object"?Ne.data={...Ne.data,...me}:me!==void 0&&(Ne[we]=me)}),Ne}return Ae});X(ge)},[l,X]),Te=gt.useCallback(z=>{const Q=l.filter(ie=>ie.id!==z);X(Q),c===z&&f(null)},[l,X,c]),Z=gt.useCallback(z=>{const Q=new Set(z),ie=l.filter(ge=>!Q.has(ge.id));X(ie),c&&Q.has(c)&&f(null)},[l,X,c]),de=gt.useCallback((z,Q)=>{const ie=new Set(z),ge=l.filter(we=>!ie.has(we.id)),Ae=Q.map(we=>{const me={...we,id:qh()};return me.properties.lineType||(me.properties.lineType="solid"),me}),Ne=[...ge,...Ae];X(Ne)},[l,X]),re=gt.useCallback(()=>{i([[]]),a(0),f(null),le(null),ue(null);const z=document.getElementById("root");if(z){const Q=z.getBoundingClientRect();S({x:Q.width/2,y:Q.height/2,scale:1})}else S({x:0,y:0,scale:1})},[]),ke=gt.useCallback(()=>{se&&(a(z=>z-1),f(null))},[se]),qe=gt.useCallback(()=>{K&&(a(z=>z+1),f(null))},[K]),Y=gt.useCallback(z=>{L(Q=>{const ie=new Set(Q);return ie.has(z)?ie.delete(z):ie.add(z),ie})},[]),k=gt.useCallback(z=>{ue(Q=>Q?{...Q,...z}:null)},[]),G=gt.useMemo(()=>({shapes:l,addShape:V,addShapes:oe,updateShape:ae,deleteShape:Te,deleteShapes:Z,replaceShapes:de,createNewDrawing:re,selectedShapeId:c,setSelectedShapeId:f,activeTool:h,setActiveTool:d,drawingProperties:y,setDrawingProperties:F,viewTransform:E,setViewTransform:S,unit:U,setUnit:N,snapModes:B,toggleSnapMode:Y,isOrthoMode:R,setIsOrthoMode:D,undo:ke,redo:qe,canUndo:se,canRedo:K,clipboard:J,setClipboard:le,templateImage:pe,setTemplateImage:ue,updateTemplateImage:k}),[l,V,oe,ae,Te,Z,de,re,c,h,y,F,E,U,B,Y,R,ke,qe,se,K,J,pe,k]);return _.jsx(dy.Provider,{value:G,children:t})},il=()=>{const t=gt.useContext(dy);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t},rx=t=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...t,children:_.jsx("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"})}),ox=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),_.jsx("path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),_.jsx("path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"}),_.jsx("path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2"})]}),ax=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("circle",{cx:"4",cy:"20",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"20",cy:"4",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"4"})]}),sx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.jsx("circle",{cx:"3",cy:"3",r:"1",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"21",cy:"21",r:"1",fill:"currentColor",stroke:"none"})]}),lx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",stroke:"none"})]}),ux=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),_.jsx("circle",{cx:"3",cy:"8",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"12",cy:"3",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"21",cy:"12",r:"1.5",fill:"currentColor",stroke:"none"})]}),cx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M4 12h16"}),_.jsx("path",{d:"M4 12l4-4"}),_.jsx("path",{d:"M4 12l4 4"}),_.jsx("path",{d:"M20 12l-4-4"}),_.jsx("path",{d:"M20 12l-4 4"}),_.jsx("line",{x1:"4",y1:"5",x2:"4",y2:"19",strokeWidth:"2"}),_.jsx("line",{x1:"20",y1:"5",x2:"20",y2:"19",strokeWidth:"2"})]}),fx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M9 14 4 9l5-5"}),_.jsx("path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"})]}),dx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"m15 14 5-5-5-5"}),_.jsx("path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13"})]}),hx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M3 6h18"}),_.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),_.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),_.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),px=t=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...t,children:_.jsx("polyline",{points:"20 6 9 17 4 12"})}),mx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),_.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),gx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),_.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]}),yx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M6 10a3 3 0 1 0-2.6 5"}),_.jsx("path",{d:"m10.5 13.5 3-4.5"}),_.jsx("path",{d:"M6 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z"}),_.jsx("path",{d:"M20.4 4 12.5 16"})]}),vx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M20 2v20",strokeDasharray:"4 2"}),_.jsx("line",{x1:"4",y1:"12",x2:"14",y2:"12"}),_.jsx("path",{d:"M14 9l3 3-3 3"})]}),xx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),_.jsx("path",{d:"M21 3v5h-5"})]}),bx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M4 4V2h16v2"}),_.jsx("path",{d:"M12 2v18"}),_.jsx("path",{d:"M8 22h8"}),_.jsx("path",{d:"M4 8h16",opacity:"0.3"})]}),wx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M5 9l-3 3 3 3"}),_.jsx("path",{d:"M9 5l3-3 3 3"}),_.jsx("path",{d:"M19 9l3 3-3 3"}),_.jsx("path",{d:"M15 19l-3 3-3-3"}),_.jsx("path",{d:"M2 12h20"}),_.jsx("path",{d:"M12 2v20"})]}),Sx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}),_.jsx("circle",{cx:"6.5",cy:"17.5",r:"3.5"})]}),_x=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),_.jsx("line",{x1:"3",y1:"16",x2:"21",y2:"16"}),_.jsx("line",{x1:"14",y1:"16",x2:"14",y2:"21"})]}),Ax=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("path",{d:"M12 6v-1",strokeWidth:"2"}),_.jsx("path",{d:"M9 10h6",strokeWidth:"1.5"}),_.jsx("path",{d:"M12 8a2 2 0 0 0-2 2v8a2 2 0 0 0 4 0v-8a2 2 0 0 0-2-2z",fill:"currentColor",fillOpacity:"0.2"}),_.jsx("path",{d:"M12 10l3-2",strokeWidth:"1.5"})]}),Ex=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),_.jsx("rect",{x:"4",y:"6",width:"6",height:"12",strokeWidth:"1.5"}),_.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M13 12l2-1 2 1.5",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 11v4",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 15l-2 3",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 15l2 2 1-1",strokeWidth:"1.5"})]}),Cx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("rect",{x:"10",y:"6",width:"4",height:"12",fill:"currentColor",stroke:"none"}),_.jsx("rect",{x:"6",y:"10",width:"12",height:"4",fill:"currentColor",stroke:"none"})]}),Tx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeWidth:"1"}),_.jsx("circle",{cx:"7",cy:"8",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M5.5 11h3v5h-3z",fill:"currentColor",stroke:"none"}),_.jsx("line",{x1:"6",y1:"16",x2:"6",y2:"19",strokeWidth:"1.5"}),_.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"19",strokeWidth:"1.5"}),_.jsx("circle",{cx:"17",cy:"8",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M17 10l-2 4h4l-2-4z",fill:"currentColor",stroke:"none"}),_.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"19",strokeWidth:"1.5"}),_.jsx("line",{x1:"18",y1:"14",x2:"18",y2:"19",strokeWidth:"1.5"})]}),Nx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("path",{d:"M8 7v10",strokeWidth:"3"}),_.jsx("path",{d:"M16 7v10",strokeWidth:"3"}),_.jsx("path",{d:"M8 12h8",strokeWidth:"3"})]}),Mx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"0",strokeWidth:"2"}),_.jsx("line",{x1:"2",y1:"4",x2:"22",y2:"20",strokeWidth:"1",opacity:"0.2"}),_.jsx("line",{x1:"22",y1:"4",x2:"2",y2:"20",strokeWidth:"1",opacity:"0.2"}),_.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"currentColor",fillOpacity:"0.3",stroke:"none"}),_.jsx("line",{x1:"18",y1:"10",x2:"21",y2:"10",strokeWidth:"2"}),_.jsx("line",{x1:"18",y1:"14",x2:"21",y2:"14",strokeWidth:"2"})]}),kx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"12",y:"2.5",width:"13.5",height:"13.5",transform:"rotate(45 12 2.5)",rx:"1",strokeWidth:"2"}),_.jsx("path",{d:"M9 16h3v-5h-2v-1h3l1 6h-5z",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M14 10v6",strokeWidth:"1.5"}),_.jsx("line",{x1:"7",y1:"16",x2:"9",y2:"16",strokeWidth:"1.5"}),_.jsx("circle",{cx:"10",cy:"17",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"15",cy:"17",r:"1.5",fill:"currentColor",stroke:"none"})]}),Lx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"1",strokeWidth:"2"}),_.jsx("rect",{x:"5",y:"5",width:"14",height:"14",strokeWidth:"1.5"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"1"}),_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"1"})]}),Rx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",strokeWidth:"2"}),_.jsx("line",{x1:"2",y1:"8",x2:"22",y2:"8",strokeWidth:"1.5"}),_.jsx("line",{x1:"2",y1:"16",x2:"22",y2:"16",strokeWidth:"1.5"}),_.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22",strokeWidth:"1.5"}),_.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22",strokeWidth:"1.5"})]}),Ix=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",strokeWidth:"2"}),_.jsx("circle",{cx:"6",cy:"12",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"18",cy:"12",r:"2",fill:"currentColor",stroke:"none"})]}),Dx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{x:"2",y:"4",width:"20",height:"16",strokeWidth:"2"}),_.jsx("line",{x1:"6",y1:"4",x2:"6",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"14",y1:"4",x2:"14",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"18",y1:"4",x2:"18",y2:"20",strokeWidth:"1.5"}),_.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"currentColor",fillOpacity:"0.2",stroke:"none"})]}),m2=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:[_.jsx("path",{d:"M12 2l2.4 7.2h7.6l-6 4.8 2.4 7.2-6-4.8-6 4.8 2.4-7.2-6-4.8h7.6z",opacity:"0.5",transform:"scale(0.5) translate(10, 10)"}),_.jsx("path",{d:"M16 4l1.2 3.6h3.8l-3 2.4 1.2 3.6-3-2.4-3 2.4 1.2-3.6-3-2.4h3.8z"}),_.jsx("path",{d:"M6 12l1.6 4.8h4.8l-3.6 3.2 1.6 4.8-3.6-3.2-3.6 3.2 1.6-4.8-3.6-3.2h4.8z"})]}),g2=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),_.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),_.jsx("polyline",{points:"7 3 7 8 15 8"})]}),Px=t=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:_.jsx("path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"})}),Ux=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),_.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]}),y2=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),_.jsx("polyline",{points:"7 10 12 15 17 10"}),_.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Fx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M18 6 6 18"}),_.jsx("path",{d:"m6 6 12 12"})]}),Bx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),_.jsx("circle",{cx:"9",cy:"9",r:"2"}),_.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),qx=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),_.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ox=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[_.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),_.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),_.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),_.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]}),zx="modulepreload",Hx=function(t){return"/CV-CAD/"+t},v2={},zh=function(e,i,o){let a=Promise.resolve();if(i&&i.length>0){let c=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(i.map(d=>{if(d=Hx(d),d in v2)return;v2[d]=!0;const y=d.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":zx,y||(E.as="script"),E.crossOrigin="",E.href=d,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((S,U)=>{E.addEventListener("load",S),E.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}var pa=Uint8Array,xo=Uint16Array,Lp=Int32Array,Rp=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ip=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x2=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hy=function(t,e){for(var i=new xo(31),o=0;o<31;++o)i[o]=e+=1<<t[o-1];for(var a=new Lp(i[30]),o=1;o<30;++o)for(var l=i[o];l<i[o+1];++l)a[l]=l-i[o]<<5|o;return{b:i,r:a}},py=hy(Rp,2),Gx=py.b,up=py.r;Gx[28]=258,up[258]=28;var Vx=hy(Ip,0),b2=Vx.r,cp=new xo(32768);for(var li=0;li<32768;++li){var el=(li&43690)>>1|(li&21845)<<1;el=(el&52428)>>2|(el&13107)<<2,el=(el&61680)>>4|(el&3855)<<4,cp[li]=((el&65280)>>8|(el&255)<<8)>>1}var Vc=(function(t,e,i){for(var o=t.length,a=0,l=new xo(e);a<o;++a)t[a]&&++l[t[a]-1];var c=new xo(e);for(a=1;a<e;++a)c[a]=c[a-1]+l[a-1]<<1;var f;if(i){f=new xo(1<<e);var h=15-e;for(a=0;a<o;++a)if(t[a])for(var d=a<<4|t[a],y=e-t[a],w=c[t[a]-1]++<<y,E=w|(1<<y)-1;w<=E;++w)f[cp[w]>>h]=d}else for(f=new xo(o),a=0;a<o;++a)t[a]&&(f[a]=cp[c[t[a]-1]++]>>15-t[a]);return f}),Hl=new pa(288);for(var li=0;li<144;++li)Hl[li]=8;for(var li=144;li<256;++li)Hl[li]=9;for(var li=256;li<280;++li)Hl[li]=7;for(var li=280;li<288;++li)Hl[li]=8;var ld=new pa(32);for(var li=0;li<32;++li)ld[li]=5;var jx=Vc(Hl,9,0),Yx=Vc(ld,5,0),my=function(t){return(t+7)/8|0},Jx=function(t,e,i){return(i==null||i>t.length)&&(i=t.length),new pa(t.subarray(e,i))},ds=function(t,e,i){i<<=e&7;var o=e/8|0;t[o]|=i,t[o+1]|=i>>8},Oc=function(t,e,i){i<<=e&7;var o=e/8|0;t[o]|=i,t[o+1]|=i>>8,t[o+2]|=i>>16},Hh=function(t,e){for(var i=[],o=0;o<t.length;++o)t[o]&&i.push({s:o,f:t[o]});var a=i.length,l=i.slice();if(!a)return{t:yy,l:0};if(a==1){var c=new pa(i[0].s+1);return c[i[0].s]=1,{t:c,l:1}}i.sort(function(le,pe){return le.f-pe.f}),i.push({s:-1,f:25001});var f=i[0],h=i[1],d=0,y=1,w=2;for(i[0]={s:-1,f:f.f+h.f,l:f,r:h};y!=a-1;)f=i[i[d].f<i[w].f?d++:w++],h=i[d!=y&&i[d].f<i[w].f?d++:w++],i[y++]={s:-1,f:f.f+h.f,l:f,r:h};for(var E=l[0].s,o=1;o<a;++o)l[o].s>E&&(E=l[o].s);var S=new xo(E+1),U=fp(i[y-1],S,0);if(U>e){var o=0,N=0,B=U-e,L=1<<B;for(l.sort(function(pe,ue){return S[ue.s]-S[pe.s]||pe.f-ue.f});o<a;++o){var R=l[o].s;if(S[R]>e)N+=L-(1<<U-S[R]),S[R]=e;else break}for(N>>=B;N>0;){var D=l[o].s;S[D]<e?N-=1<<e-S[D]++-1:++o}for(;o>=0&&N;--o){var J=l[o].s;S[J]==e&&(--S[J],++N)}U=e}return{t:new pa(S),l:U}},fp=function(t,e,i){return t.s==-1?Math.max(fp(t.l,e,i+1),fp(t.r,e,i+1)):e[t.s]=i},w2=function(t){for(var e=t.length;e&&!t[--e];);for(var i=new xo(++e),o=0,a=t[0],l=1,c=function(h){i[o++]=h},f=1;f<=e;++f)if(t[f]==a&&f!=e)++l;else{if(!a&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(a),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(a);l=1,a=t[f]}return{c:i.subarray(0,o),n:e}},zc=function(t,e){for(var i=0,o=0;o<e.length;++o)i+=t[o]*e[o];return i},gy=function(t,e,i){var o=i.length,a=my(e+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var l=0;l<o;++l)t[a+l+4]=i[l];return(a+4+o)*8},S2=function(t,e,i,o,a,l,c,f,h,d,y){ds(e,y++,i),++a[256];for(var w=Hh(a,15),E=w.t,S=w.l,U=Hh(l,15),N=U.t,B=U.l,L=w2(E),R=L.c,D=L.n,J=w2(N),le=J.c,pe=J.n,ue=new xo(19),se=0;se<R.length;++se)++ue[R[se]&31];for(var se=0;se<le.length;++se)++ue[le[se]&31];for(var K=Hh(ue,7),X=K.t,F=K.l,V=19;V>4&&!X[x2[V-1]];--V);var oe=d+5<<3,ae=zc(a,Hl)+zc(l,ld)+c,Te=zc(a,E)+zc(l,N)+c+14+3*V+zc(ue,X)+2*ue[16]+3*ue[17]+7*ue[18];if(h>=0&&oe<=ae&&oe<=Te)return gy(e,y,t.subarray(h,h+d));var Z,de,re,ke;if(ds(e,y,1+(Te<ae)),y+=2,Te<ae){Z=Vc(E,S,0),de=E,re=Vc(N,B,0),ke=N;var qe=Vc(X,F,0);ds(e,y,D-257),ds(e,y+5,pe-1),ds(e,y+10,V-4),y+=14;for(var se=0;se<V;++se)ds(e,y+3*se,X[x2[se]]);y+=3*V;for(var Y=[R,le],k=0;k<2;++k)for(var G=Y[k],se=0;se<G.length;++se){var z=G[se]&31;ds(e,y,qe[z]),y+=X[z],z>15&&(ds(e,y,G[se]>>5&127),y+=G[se]>>12)}}else Z=jx,de=Hl,re=Yx,ke=ld;for(var se=0;se<f;++se){var Q=o[se];if(Q>255){var z=Q>>18&31;Oc(e,y,Z[z+257]),y+=de[z+257],z>7&&(ds(e,y,Q>>23&31),y+=Rp[z]);var ie=Q&31;Oc(e,y,re[ie]),y+=ke[ie],ie>3&&(Oc(e,y,Q>>5&8191),y+=Ip[ie])}else Oc(e,y,Z[Q]),y+=de[Q]}return Oc(e,y,Z[256]),y+de[256]},Wx=new Lp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yy=new pa(0),Kx=function(t,e,i,o,a,l){var c=l.z||t.length,f=new pa(o+c+5*(1+Math.ceil(c/7e3))+a),h=f.subarray(o,f.length-a),d=l.l,y=(l.r||0)&7;if(e){y&&(h[0]=l.r>>3);for(var w=Wx[e-1],E=w>>13,S=w&8191,U=(1<<i)-1,N=l.p||new xo(32768),B=l.h||new xo(U+1),L=Math.ceil(i/3),R=2*L,D=function(ot){return(t[ot]^t[ot+1]<<L^t[ot+2]<<R)&U},J=new Lp(25e3),le=new xo(288),pe=new xo(32),ue=0,se=0,K=l.i||0,X=0,F=l.w||0,V=0;K+2<c;++K){var oe=D(K),ae=K&32767,Te=B[oe];if(N[ae]=Te,B[oe]=ae,F<=K){var Z=c-K;if((ue>7e3||X>24576)&&(Z>423||!d)){y=S2(t,h,0,J,le,pe,se,X,V,K-V,y),X=ue=se=0,V=K;for(var de=0;de<286;++de)le[de]=0;for(var de=0;de<30;++de)pe[de]=0}var re=2,ke=0,qe=S,Y=ae-Te&32767;if(Z>2&&oe==D(K-Y))for(var k=Math.min(E,Z)-1,G=Math.min(32767,K),z=Math.min(258,Z);Y<=G&&--qe&&ae!=Te;){if(t[K+re]==t[K+re-Y]){for(var Q=0;Q<z&&t[K+Q]==t[K+Q-Y];++Q);if(Q>re){if(re=Q,ke=Y,Q>k)break;for(var ie=Math.min(Y,Q-2),ge=0,de=0;de<ie;++de){var Ae=K-Y+de&32767,Ne=N[Ae],we=Ae-Ne&32767;we>ge&&(ge=we,Te=Ae)}}}ae=Te,Te=N[ae],Y+=ae-Te&32767}if(ke){J[X++]=268435456|up[re]<<18|b2[ke];var me=up[re]&31,Xe=b2[ke]&31;se+=Rp[me]+Ip[Xe],++le[257+me],++pe[Xe],F=K+re,++ue}else J[X++]=t[K],++le[t[K]]}}for(K=Math.max(K,F);K<c;++K)J[X++]=t[K],++le[t[K]];y=S2(t,h,d,J,le,pe,se,X,V,K-V,y),d||(l.r=y&7|h[y/8|0]<<3,y-=7,l.h=B,l.p=N,l.i=K,l.w=F)}else{for(var K=l.w||0;K<c+d;K+=65535){var et=K+65535;et>=c&&(h[y/8|0]=d,et=c),y=gy(h,y+1,t.subarray(K,et))}l.i=c}return Jx(f,0,o+my(y)+a)},vy=function(){var t=1,e=0;return{p:function(i){for(var o=t,a=e,l=i.length|0,c=0;c!=l;){for(var f=Math.min(c+2655,l);c<f;++c)a+=o+=i[c];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$x=function(t,e,i,o,a){if(!a&&(a={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),c=new pa(l.length+t.length);c.set(l),c.set(t,l.length),t=c,a.w=l.length}return Kx(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,i,o,a)},xy=function(t,e,i){for(;i;++e)t[e]=i,i>>>=8},Xx=function(t,e){var i=e.level,o=i==0?0:i<6?1:i==9?3:2;if(t[0]=120,t[1]=o<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=vy();a.p(e.dictionary),xy(t,2,a.d())}};function dp(t,e){e||(e={});var i=vy();i.p(t);var o=$x(t,e,e.dictionary?6:2,4);return Xx(o,e),xy(o,o.length-4,i.d()),o}var Zx=typeof TextDecoder<"u"&&new TextDecoder,Qx=0;try{Zx.decode(yy,{stream:!0}),Qx=1}catch{}function eb(t){if(Array.isArray(t))return t}function tb(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,l,c,f=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,e!==0)for(;!(h=(o=l.call(i)).done)&&(f.push(o.value),f.length!==e);h=!0);}catch(y){d=!0,a=y}finally{try{if(!h&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(d)throw a}}return f}}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,o=Array(e);i<e;i++)o[i]=t[i];return o}function nb(t,e){if(t){if(typeof t=="string")return _2(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_2(t,e):void 0}}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2(t,e){return eb(t)||tb(t,e)||nb(t,e)||ib()}function E2(t,e="utf8"){return new TextDecoder(e).decode(t)}const rb=new TextEncoder;function ob(t){return rb.encode(t)}const ab=1024*8,sb=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Gh={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dp{constructor(e=ab,i={}){zn(this,"buffer");zn(this,"byteLength");zn(this,"byteOffset");zn(this,"length");zn(this,"offset");zn(this,"lastWrittenByte");zn(this,"littleEndian");zn(this,"_data");zn(this,"_mark");zn(this,"_marks");let o=!1;typeof e=="number"?e=new ArrayBuffer(e):(o=!0,this.lastWrittenByte=e.byteLength);const a=i.offset?i.offset>>>0:0,l=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof Dp)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),o?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const o=(this.offset+e)*2,a=new Uint8Array(o);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,i){const o=Gh[i].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,l=this.buffer.slice(a,a+o);if(this.littleEndian===sb&&i!=="uint8"&&i!=="int8"){const f=new Uint8Array(this.buffer.slice(a,a+o));f.reverse();const h=new Gh[i](f.buffer);return this.offset+=o,h.reverse(),h}const c=new Gh[i](l);return this.offset+=o,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let i="";for(let o=0;o<e;o++)i+=this.readChar();return i}readUtf8(e=1){return E2(this.readBytes(e))}decodeText(e=1,i="utf8"){return E2(this.readBytes(e),i)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let i=0;i<e.length;i++)this._data.setUint8(this.offset++,e[i]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));return this}writeUtf8(e){return this.writeBytes(ob(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qu(t){let e=t.length;for(;--e>=0;)t[e]=0}const lb=3,ub=258,by=29,cb=256,fb=cb+1+by,wy=30,db=512,hb=new Array((fb+2)*2);Qu(hb);const pb=new Array(wy*2);Qu(pb);const mb=new Array(db);Qu(mb);const gb=new Array(ub-lb+1);Qu(gb);const yb=new Array(by);Qu(yb);const vb=new Array(wy);Qu(vb);const xb=(t,e,i,o)=>{let a=t&65535|0,l=t>>>16&65535|0,c=0;for(;i!==0;){c=i>2e3?2e3:i,i-=c;do a=a+e[o++]|0,l=l+a|0;while(--c);a%=65521,l%=65521}return a|l<<16|0};var hp=xb;const bb=()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var o=0;o<8;o++)t=t&1?3988292384^t>>>1:t>>>1;e[i]=t}return e},wb=new Uint32Array(bb()),Sb=(t,e,i,o)=>{const a=wb,l=o+i;t^=-1;for(let c=o;c<l;c++)t=t>>>8^a[(t^e[c])&255];return t^-1};var Ua=Sb,pp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _b=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ab=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const o in i)_b(i,o)&&(t[o]=i[o])}}return t},Eb=t=>{let e=0;for(let o=0,a=t.length;o<a;o++)e+=t[o].length;const i=new Uint8Array(e);for(let o=0,a=0,l=t.length;o<l;o++){let c=t[o];i.set(c,a),a+=c.length}return i},_y={assign:Ab,flattenChunks:Eb};let Ay=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ay=!1}const Jc=new Uint8Array(256);for(let t=0;t<256;t++)Jc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Jc[254]=Jc[254]=1;var Cb=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,i,o,a,l,c=t.length,f=0;for(a=0;a<c;a++)i=t.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=t.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),f+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(f),l=0,a=0;l<f;a++)i=t.charCodeAt(a),(i&64512)===55296&&a+1<c&&(o=t.charCodeAt(a+1),(o&64512)===56320&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?e[l++]=i:i<2048?(e[l++]=192|i>>>6,e[l++]=128|i&63):i<65536?(e[l++]=224|i>>>12,e[l++]=128|i>>>6&63,e[l++]=128|i&63):(e[l++]=240|i>>>18,e[l++]=128|i>>>12&63,e[l++]=128|i>>>6&63,e[l++]=128|i&63);return e};const Tb=(t,e)=>{if(e<65534&&t.subarray&&Ay)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i};var Nb=(t,e)=>{const i=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let o,a;const l=new Array(i*2);for(a=0,o=0;o<i;){let c=t[o++];if(c<128){l[a++]=c;continue}let f=Jc[c];if(f>4){l[a++]=65533,o+=f-1;continue}for(c&=f===2?31:f===3?15:7;f>1&&o<i;)c=c<<6|t[o++]&63,f--;if(f>1){l[a++]=65533;continue}c<65536?l[a++]=c:(c-=65536,l[a++]=55296|c>>10&1023,l[a++]=56320|c&1023)}return Tb(l,a)},Mb=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let i=e-1;for(;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?e:i+Jc[t[i]]>e?i:e},mp={string2buf:Cb,buf2string:Nb,utf8border:Mb};function kb(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Lb=kb;const Gf=16209,Rb=16191;var Ib=function(e,i){let o,a,l,c,f,h,d,y,w,E,S,U,N,B,L,R,D,J,le,pe,ue,se,K,X;const F=e.state;o=e.next_in,K=e.input,a=o+(e.avail_in-5),l=e.next_out,X=e.output,c=l-(i-e.avail_out),f=l+(e.avail_out-257),h=F.dmax,d=F.wsize,y=F.whave,w=F.wnext,E=F.window,S=F.hold,U=F.bits,N=F.lencode,B=F.distcode,L=(1<<F.lenbits)-1,R=(1<<F.distbits)-1;e:do{U<15&&(S+=K[o++]<<U,U+=8,S+=K[o++]<<U,U+=8),D=N[S&L];t:for(;;){if(J=D>>>24,S>>>=J,U-=J,J=D>>>16&255,J===0)X[l++]=D&65535;else if(J&16){le=D&65535,J&=15,J&&(U<J&&(S+=K[o++]<<U,U+=8),le+=S&(1<<J)-1,S>>>=J,U-=J),U<15&&(S+=K[o++]<<U,U+=8,S+=K[o++]<<U,U+=8),D=B[S&R];n:for(;;){if(J=D>>>24,S>>>=J,U-=J,J=D>>>16&255,J&16){if(pe=D&65535,J&=15,U<J&&(S+=K[o++]<<U,U+=8,U<J&&(S+=K[o++]<<U,U+=8)),pe+=S&(1<<J)-1,pe>h){e.msg="invalid distance too far back",F.mode=Gf;break e}if(S>>>=J,U-=J,J=l-c,pe>J){if(J=pe-J,J>y&&F.sane){e.msg="invalid distance too far back",F.mode=Gf;break e}if(ue=0,se=E,w===0){if(ue+=d-J,J<le){le-=J;do X[l++]=E[ue++];while(--J);ue=l-pe,se=X}}else if(w<J){if(ue+=d+w-J,J-=w,J<le){le-=J;do X[l++]=E[ue++];while(--J);if(ue=0,w<le){J=w,le-=J;do X[l++]=E[ue++];while(--J);ue=l-pe,se=X}}}else if(ue+=w-J,J<le){le-=J;do X[l++]=E[ue++];while(--J);ue=l-pe,se=X}for(;le>2;)X[l++]=se[ue++],X[l++]=se[ue++],X[l++]=se[ue++],le-=3;le&&(X[l++]=se[ue++],le>1&&(X[l++]=se[ue++]))}else{ue=l-pe;do X[l++]=X[ue++],X[l++]=X[ue++],X[l++]=X[ue++],le-=3;while(le>2);le&&(X[l++]=X[ue++],le>1&&(X[l++]=X[ue++]))}}else if((J&64)===0){D=B[(D&65535)+(S&(1<<J)-1)];continue n}else{e.msg="invalid distance code",F.mode=Gf;break e}break}}else if((J&64)===0){D=N[(D&65535)+(S&(1<<J)-1)];continue t}else if(J&32){F.mode=Rb;break e}else{e.msg="invalid literal/length code",F.mode=Gf;break e}break}}while(o<a&&l<f);le=U>>3,o-=le,U-=le<<3,S&=(1<<U)-1,e.next_in=o,e.next_out=l,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=l<f?257+(f-l):257-(l-f),F.hold=S,F.bits=U};const Fu=15,C2=852,T2=592,N2=0,Vh=1,M2=2,Db=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Pb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ub=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fb=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Bb=(t,e,i,o,a,l,c,f)=>{const h=f.bits;let d=0,y=0,w=0,E=0,S=0,U=0,N=0,B=0,L=0,R=0,D,J,le,pe,ue,se=null,K;const X=new Uint16Array(Fu+1),F=new Uint16Array(Fu+1);let V=null,oe,ae,Te;for(d=0;d<=Fu;d++)X[d]=0;for(y=0;y<o;y++)X[e[i+y]]++;for(S=h,E=Fu;E>=1&&X[E]===0;E--);if(S>E&&(S=E),E===0)return a[l++]=1<<24|64<<16|0,a[l++]=1<<24|64<<16|0,f.bits=1,0;for(w=1;w<E&&X[w]===0;w++);for(S<w&&(S=w),B=1,d=1;d<=Fu;d++)if(B<<=1,B-=X[d],B<0)return-1;if(B>0&&(t===N2||E!==1))return-1;for(F[1]=0,d=1;d<Fu;d++)F[d+1]=F[d]+X[d];for(y=0;y<o;y++)e[i+y]!==0&&(c[F[e[i+y]]++]=y);if(t===N2?(se=V=c,K=20):t===Vh?(se=Db,V=Pb,K=257):(se=Ub,V=Fb,K=0),R=0,y=0,d=w,ue=l,U=S,N=0,le=-1,L=1<<S,pe=L-1,t===Vh&&L>C2||t===M2&&L>T2)return 1;for(;;){oe=d-N,c[y]+1<K?(ae=0,Te=c[y]):c[y]>=K?(ae=V[c[y]-K],Te=se[c[y]-K]):(ae=96,Te=0),D=1<<d-N,J=1<<U,w=J;do J-=D,a[ue+(R>>N)+J]=oe<<24|ae<<16|Te|0;while(J!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,y++,--X[d]===0){if(d===E)break;d=e[i+c[y]]}if(d>S&&(R&pe)!==le){for(N===0&&(N=S),ue+=w,U=d-N,B=1<<U;U+N<E&&(B-=X[U+N],!(B<=0));)U++,B<<=1;if(L+=1<<U,t===Vh&&L>C2||t===M2&&L>T2)return 1;le=R&pe,a[le]=S<<24|U<<16|ue-l|0}}return R!==0&&(a[ue+R]=d-N<<24|64<<16|0),f.bits=S,0};var jc=Bb;const qb=0,Ey=1,Cy=2,{Z_FINISH:k2,Z_BLOCK:Ob,Z_TREES:Vf,Z_OK:Gl,Z_STREAM_END:zb,Z_NEED_DICT:Hb,Z_STREAM_ERROR:Fo,Z_DATA_ERROR:Ty,Z_MEM_ERROR:Ny,Z_BUF_ERROR:Gb,Z_DEFLATED:L2}=Sy,gd=16180,R2=16181,I2=16182,D2=16183,P2=16184,U2=16185,F2=16186,B2=16187,q2=16188,O2=16189,ud=16190,hs=16191,jh=16192,z2=16193,Yh=16194,H2=16195,G2=16196,V2=16197,j2=16198,jf=16199,Yf=16200,Y2=16201,J2=16202,W2=16203,K2=16204,$2=16205,Jh=16206,X2=16207,Z2=16208,hi=16209,My=16210,ky=16211,Vb=852,jb=592,Yb=15,Jb=Yb,Q2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Wb(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<gd||e.mode>ky?1:0},Ly=t=>{if(Vl(t))return Fo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=gd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Vb),e.distcode=e.distdyn=new Int32Array(jb),e.sane=1,e.back=-1,Gl},Ry=t=>{if(Vl(t))return Fo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ly(t)},Iy=(t,e)=>{let i;if(Vl(t))return Fo;const o=t.state;return e<0?(i=0,e=-e):(i=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fo:(o.window!==null&&o.wbits!==e&&(o.window=null),o.wrap=i,o.wbits=e,Ry(t))},Dy=(t,e)=>{if(!t)return Fo;const i=new Wb;t.state=i,i.strm=t,i.window=null,i.mode=gd;const o=Iy(t,e);return o!==Gl&&(t.state=null),o},Kb=t=>Dy(t,Jb);let em=!0,Wh,Kh;const $b=t=>{if(em){Wh=new Int32Array(512),Kh=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jc(Ey,t.lens,0,288,Wh,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jc(Cy,t.lens,0,32,Kh,0,t.work,{bits:5}),em=!1}t.lencode=Wh,t.lenbits=9,t.distcode=Kh,t.distbits=5},Py=(t,e,i,o)=>{let a;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),o>=l.wsize?(l.window.set(e.subarray(i-l.wsize,i),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>o&&(a=o),l.window.set(e.subarray(i-o,i-o+a),l.wnext),o-=a,o?(l.window.set(e.subarray(i-o,i),0),l.wnext=o,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0},Xb=(t,e)=>{let i,o,a,l,c,f,h,d,y,w,E,S,U,N,B=0,L,R,D,J,le,pe,ue,se;const K=new Uint8Array(4);let X,F;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vl(t)||!t.output||!t.input&&t.avail_in!==0)return Fo;i=t.state,i.mode===hs&&(i.mode=jh),c=t.next_out,a=t.output,h=t.avail_out,l=t.next_in,o=t.input,f=t.avail_in,d=i.hold,y=i.bits,w=f,E=h,se=Gl;e:for(;;)switch(i.mode){case gd:if(i.wrap===0){i.mode=jh;break}for(;y<16;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(i.wrap&2&&d===35615){i.wbits===0&&(i.wbits=15),i.check=0,K[0]=d&255,K[1]=d>>>8&255,i.check=Ua(i.check,K,2,0),d=0,y=0,i.mode=R2;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",i.mode=hi;break}if((d&15)!==L2){t.msg="unknown compression method",i.mode=hi;break}if(d>>>=4,y-=4,ue=(d&15)+8,i.wbits===0&&(i.wbits=ue),ue>15||ue>i.wbits){t.msg="invalid window size",i.mode=hi;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=d&512?O2:hs,d=0,y=0;break;case R2:for(;y<16;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(i.flags=d,(i.flags&255)!==L2){t.msg="unknown compression method",i.mode=hi;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=hi;break}i.head&&(i.head.text=d>>8&1),i.flags&512&&i.wrap&4&&(K[0]=d&255,K[1]=d>>>8&255,i.check=Ua(i.check,K,2,0)),d=0,y=0,i.mode=I2;case I2:for(;y<32;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.head&&(i.head.time=d),i.flags&512&&i.wrap&4&&(K[0]=d&255,K[1]=d>>>8&255,K[2]=d>>>16&255,K[3]=d>>>24&255,i.check=Ua(i.check,K,4,0)),d=0,y=0,i.mode=D2;case D2:for(;y<16;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.head&&(i.head.xflags=d&255,i.head.os=d>>8),i.flags&512&&i.wrap&4&&(K[0]=d&255,K[1]=d>>>8&255,i.check=Ua(i.check,K,2,0)),d=0,y=0,i.mode=P2;case P2:if(i.flags&1024){for(;y<16;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.length=d,i.head&&(i.head.extra_len=d),i.flags&512&&i.wrap&4&&(K[0]=d&255,K[1]=d>>>8&255,i.check=Ua(i.check,K,2,0)),d=0,y=0}else i.head&&(i.head.extra=null);i.mode=U2;case U2:if(i.flags&1024&&(S=i.length,S>f&&(S=f),S&&(i.head&&(ue=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(o.subarray(l,l+S),ue)),i.flags&512&&i.wrap&4&&(i.check=Ua(i.check,o,S,l)),f-=S,l+=S,i.length-=S),i.length))break e;i.length=0,i.mode=F2;case F2:if(i.flags&2048){if(f===0)break e;S=0;do ue=o[l+S++],i.head&&ue&&i.length<65536&&(i.head.name+=String.fromCharCode(ue));while(ue&&S<f);if(i.flags&512&&i.wrap&4&&(i.check=Ua(i.check,o,S,l)),f-=S,l+=S,ue)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B2;case B2:if(i.flags&4096){if(f===0)break e;S=0;do ue=o[l+S++],i.head&&ue&&i.length<65536&&(i.head.comment+=String.fromCharCode(ue));while(ue&&S<f);if(i.flags&512&&i.wrap&4&&(i.check=Ua(i.check,o,S,l)),f-=S,l+=S,ue)break e}else i.head&&(i.head.comment=null);i.mode=q2;case q2:if(i.flags&512){for(;y<16;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(i.wrap&4&&d!==(i.check&65535)){t.msg="header crc mismatch",i.mode=hi;break}d=0,y=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=hs;break;case O2:for(;y<32;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}t.adler=i.check=Q2(d),d=0,y=0,i.mode=ud;case ud:if(i.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=f,i.hold=d,i.bits=y,Hb;t.adler=i.check=1,i.mode=hs;case hs:if(e===Ob||e===Vf)break e;case jh:if(i.last){d>>>=y&7,y-=y&7,i.mode=Jh;break}for(;y<3;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}switch(i.last=d&1,d>>>=1,y-=1,d&3){case 0:i.mode=z2;break;case 1:if($b(i),i.mode=jf,e===Vf){d>>>=2,y-=2;break e}break;case 2:i.mode=G2;break;case 3:t.msg="invalid block type",i.mode=hi}d>>>=2,y-=2;break;case z2:for(d>>>=y&7,y-=y&7;y<32;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",i.mode=hi;break}if(i.length=d&65535,d=0,y=0,i.mode=Yh,e===Vf)break e;case Yh:i.mode=H2;case H2:if(S=i.length,S){if(S>f&&(S=f),S>h&&(S=h),S===0)break e;a.set(o.subarray(l,l+S),c),f-=S,l+=S,h-=S,c+=S,i.length-=S;break}i.mode=hs;break;case G2:for(;y<14;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(i.nlen=(d&31)+257,d>>>=5,y-=5,i.ndist=(d&31)+1,d>>>=5,y-=5,i.ncode=(d&15)+4,d>>>=4,y-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=hi;break}i.have=0,i.mode=V2;case V2:for(;i.have<i.ncode;){for(;y<3;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.lens[V[i.have++]]=d&7,d>>>=3,y-=3}for(;i.have<19;)i.lens[V[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,X={bits:i.lenbits},se=jc(qb,i.lens,0,19,i.lencode,0,i.work,X),i.lenbits=X.bits,se){t.msg="invalid code lengths set",i.mode=hi;break}i.have=0,i.mode=j2;case j2:for(;i.have<i.nlen+i.ndist;){for(;B=i.lencode[d&(1<<i.lenbits)-1],L=B>>>24,R=B>>>16&255,D=B&65535,!(L<=y);){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(D<16)d>>>=L,y-=L,i.lens[i.have++]=D;else{if(D===16){for(F=L+2;y<F;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(d>>>=L,y-=L,i.have===0){t.msg="invalid bit length repeat",i.mode=hi;break}ue=i.lens[i.have-1],S=3+(d&3),d>>>=2,y-=2}else if(D===17){for(F=L+3;y<F;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}d>>>=L,y-=L,ue=0,S=3+(d&7),d>>>=3,y-=3}else{for(F=L+7;y<F;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}d>>>=L,y-=L,ue=0,S=11+(d&127),d>>>=7,y-=7}if(i.have+S>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=hi;break}for(;S--;)i.lens[i.have++]=ue}}if(i.mode===hi)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=hi;break}if(i.lenbits=9,X={bits:i.lenbits},se=jc(Ey,i.lens,0,i.nlen,i.lencode,0,i.work,X),i.lenbits=X.bits,se){t.msg="invalid literal/lengths set",i.mode=hi;break}if(i.distbits=6,i.distcode=i.distdyn,X={bits:i.distbits},se=jc(Cy,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,X),i.distbits=X.bits,se){t.msg="invalid distances set",i.mode=hi;break}if(i.mode=jf,e===Vf)break e;case jf:i.mode=Yf;case Yf:if(f>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=f,i.hold=d,i.bits=y,Ib(t,E),c=t.next_out,a=t.output,h=t.avail_out,l=t.next_in,o=t.input,f=t.avail_in,d=i.hold,y=i.bits,i.mode===hs&&(i.back=-1);break}for(i.back=0;B=i.lencode[d&(1<<i.lenbits)-1],L=B>>>24,R=B>>>16&255,D=B&65535,!(L<=y);){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(R&&(R&240)===0){for(J=L,le=R,pe=D;B=i.lencode[pe+((d&(1<<J+le)-1)>>J)],L=B>>>24,R=B>>>16&255,D=B&65535,!(J+L<=y);){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}d>>>=J,y-=J,i.back+=J}if(d>>>=L,y-=L,i.back+=L,i.length=D,R===0){i.mode=$2;break}if(R&32){i.back=-1,i.mode=hs;break}if(R&64){t.msg="invalid literal/length code",i.mode=hi;break}i.extra=R&15,i.mode=Y2;case Y2:if(i.extra){for(F=i.extra;y<F;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=J2;case J2:for(;B=i.distcode[d&(1<<i.distbits)-1],L=B>>>24,R=B>>>16&255,D=B&65535,!(L<=y);){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if((R&240)===0){for(J=L,le=R,pe=D;B=i.distcode[pe+((d&(1<<J+le)-1)>>J)],L=B>>>24,R=B>>>16&255,D=B&65535,!(J+L<=y);){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}d>>>=J,y-=J,i.back+=J}if(d>>>=L,y-=L,i.back+=L,R&64){t.msg="invalid distance code",i.mode=hi;break}i.offset=D,i.extra=R&15,i.mode=W2;case W2:if(i.extra){for(F=i.extra;y<F;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=hi;break}i.mode=K2;case K2:if(h===0)break e;if(S=E-h,i.offset>S){if(S=i.offset-S,S>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=hi;break}S>i.wnext?(S-=i.wnext,U=i.wsize-S):U=i.wnext-S,S>i.length&&(S=i.length),N=i.window}else N=a,U=c-i.offset,S=i.length;S>h&&(S=h),h-=S,i.length-=S;do a[c++]=N[U++];while(--S);i.length===0&&(i.mode=Yf);break;case $2:if(h===0)break e;a[c++]=i.length,h--,i.mode=Yf;break;case Jh:if(i.wrap){for(;y<32;){if(f===0)break e;f--,d|=o[l++]<<y,y+=8}if(E-=h,t.total_out+=E,i.total+=E,i.wrap&4&&E&&(t.adler=i.check=i.flags?Ua(i.check,a,E,c-E):hp(i.check,a,E,c-E)),E=h,i.wrap&4&&(i.flags?d:Q2(d))!==i.check){t.msg="incorrect data check",i.mode=hi;break}d=0,y=0}i.mode=X2;case X2:if(i.wrap&&i.flags){for(;y<32;){if(f===0)break e;f--,d+=o[l++]<<y,y+=8}if(i.wrap&4&&d!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=hi;break}d=0,y=0}i.mode=Z2;case Z2:se=zb;break e;case hi:se=Ty;break e;case My:return Ny;case ky:default:return Fo}return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=f,i.hold=d,i.bits=y,(i.wsize||E!==t.avail_out&&i.mode<hi&&(i.mode<Jh||e!==k2))&&Py(t,t.output,t.next_out,E-t.avail_out),w-=t.avail_in,E-=t.avail_out,t.total_in+=w,t.total_out+=E,i.total+=E,i.wrap&4&&E&&(t.adler=i.check=i.flags?Ua(i.check,a,E,t.next_out-E):hp(i.check,a,E,t.next_out-E)),t.data_type=i.bits+(i.last?64:0)+(i.mode===hs?128:0)+(i.mode===jf||i.mode===Yh?256:0),(w===0&&E===0||e===k2)&&se===Gl&&(se=Gb),se},Zb=t=>{if(Vl(t))return Fo;let e=t.state;return e.window&&(e.window=null),t.state=null,Gl},Qb=(t,e)=>{if(Vl(t))return Fo;const i=t.state;return(i.wrap&2)===0?Fo:(i.head=e,e.done=!1,Gl)},ew=(t,e)=>{const i=e.length;let o,a,l;return Vl(t)||(o=t.state,o.wrap!==0&&o.mode!==ud)?Fo:o.mode===ud&&(a=1,a=hp(a,e,i,0),a!==o.check)?Ty:(l=Py(t,e,i,i),l?(o.mode=My,Ny):(o.havedict=1,Gl))};var tw=Ry,nw=Iy,iw=Ly,rw=Kb,ow=Dy,aw=Xb,sw=Zb,lw=Qb,uw=ew,cw="pako inflate (from Nodeca project)",ms={inflateReset:tw,inflateReset2:nw,inflateResetKeep:iw,inflateInit:rw,inflateInit2:ow,inflate:aw,inflateEnd:sw,inflateGetHeader:lw,inflateSetDictionary:uw,inflateInfo:cw};function fw(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dw=fw;const Uy=Object.prototype.toString,{Z_NO_FLUSH:hw,Z_FINISH:pw,Z_OK:Wc,Z_STREAM_END:$h,Z_NEED_DICT:Xh,Z_STREAM_ERROR:mw,Z_DATA_ERROR:tm,Z_MEM_ERROR:gw}=Sy;function Kc(t){this.options=_y.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Lb,this.strm.avail_out=0;let i=ms.inflateInit2(this.strm,e.windowBits);if(i!==Wc)throw new Error(pp[i]);if(this.header=new dw,ms.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=mp.string2buf(e.dictionary):Uy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=ms.inflateSetDictionary(this.strm,e.dictionary),i!==Wc)))throw new Error(pp[i])}Kc.prototype.push=function(t,e){const i=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let l,c,f;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?pw:hw,Uy.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),l=ms.inflate(i,c),l===Xh&&a&&(l=ms.inflateSetDictionary(i,a),l===Wc?l=ms.inflate(i,c):l===tm&&(l=Xh));i.avail_in>0&&l===$h&&i.state.wrap>0&&t[i.next_in]!==0;)ms.inflateReset(i),l=ms.inflate(i,c);switch(l){case mw:case tm:case Xh:case gw:return this.onEnd(l),this.ended=!0,!1}if(f=i.avail_out,i.next_out&&(i.avail_out===0||l===$h))if(this.options.to==="string"){let h=mp.utf8border(i.output,i.next_out),d=i.next_out-h,y=mp.buf2string(i.output,h);i.next_out=d,i.avail_out=o-d,d&&i.output.set(i.output.subarray(h,h+d),0),this.onData(y)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(l===Wc&&f===0)){if(l===$h)return l=ms.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};Kc.prototype.onData=function(t){this.chunks.push(t)};Kc.prototype.onEnd=function(t){t===Wc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_y.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function yw(t,e){const i=new Kc(e);if(i.push(t),i.err)throw i.msg||pp[i.err];return i.result}var vw=Kc,xw=yw,bw={Inflate:vw,inflate:xw};const{Inflate:ww,inflate:Sw}=bw;var nm=ww,_w=Sw;const Fy=[];for(let t=0;t<256;t++){let e=t;for(let i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;Fy[t]=e}const im=4294967295;function Aw(t,e,i){let o=t;for(let a=0;a<i;a++)o=Fy[(o^e[a])&255]^o>>>8;return o}function Ew(t,e){return(Aw(im,t,e)^im)>>>0}function rm(t,e,i){const o=t.readUint32(),a=Ew(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==o)throw new Error(`CRC mismatch for chunk ${i}. Expected ${o}, found ${a}`)}function By(t,e,i){for(let o=0;o<i;o++)e[o]=t[o]}function qy(t,e,i,o){let a=0;for(;a<o;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+e[a-o]&255}function Oy(t,e,i,o){let a=0;if(i.length===0)for(;a<o;a++)e[a]=t[a];else for(;a<o;a++)e[a]=t[a]+i[a]&255}function zy(t,e,i,o,a){let l=0;if(i.length===0){for(;l<a;l++)e[l]=t[l];for(;l<o;l++)e[l]=t[l]+(e[l-a]>>1)&255}else{for(;l<a;l++)e[l]=t[l]+(i[l]>>1)&255;for(;l<o;l++)e[l]=t[l]+(e[l-a]+i[l]>>1)&255}}function Hy(t,e,i,o,a){let l=0;if(i.length===0){for(;l<a;l++)e[l]=t[l];for(;l<o;l++)e[l]=t[l]+e[l-a]&255}else{for(;l<a;l++)e[l]=t[l]+i[l]&255;for(;l<o;l++)e[l]=t[l]+Cw(e[l-a],i[l],i[l-a])&255}}function Cw(t,e,i){const o=t+e-i,a=Math.abs(o-t),l=Math.abs(o-e),c=Math.abs(o-i);return a<=l&&a<=c?t:l<=c?e:i}function Tw(t,e,i,o,a,l){switch(t){case 0:By(e,i,a);break;case 1:qy(e,i,a,l);break;case 2:Oy(e,i,o,a);break;case 3:zy(e,i,o,a,l);break;case 4:Hy(e,i,o,a,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Nw=new Uint16Array([255]),Mw=new Uint8Array(Nw.buffer),kw=Mw[0]===255;function Lw(t){const{data:e,width:i,height:o,channels:a,depth:l}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],f=Math.ceil(l/8)*a,h=new Uint8Array(o*i*f);let d=0;for(let y=0;y<7;y++){const w=c[y],E=Math.ceil((i-w.x)/w.xStep),S=Math.ceil((o-w.y)/w.yStep);if(E<=0||S<=0)continue;const U=E*f,N=new Uint8Array(U);for(let B=0;B<S;B++){const L=e[d++],R=e.subarray(d,d+U);d+=U;const D=new Uint8Array(U);Tw(L,R,D,N,U,f),N.set(D);for(let J=0;J<E;J++){const le=w.x+J*w.xStep,pe=w.y+B*w.yStep;if(!(le>=i||pe>=o))for(let ue=0;ue<f;ue++)h[(pe*i+le)*f+ue]=D[J*f+ue]}}}if(l===16){const y=new Uint16Array(h.buffer);if(kw)for(let w=0;w<y.length;w++)y[w]=Rw(y[w]);return y}else return h}function Rw(t){return(t&255)<<8|t>>8&255}const Iw=new Uint16Array([255]),Dw=new Uint8Array(Iw.buffer),Pw=Dw[0]===255,Uw=new Uint8Array(0);function om(t){const{data:e,width:i,height:o,channels:a,depth:l}=t,c=Math.ceil(l/8)*a,f=Math.ceil(l/8*a*i),h=new Uint8Array(o*f);let d=Uw,y=0,w,E;for(let S=0;S<o;S++){switch(w=e.subarray(y+1,y+1+f),E=h.subarray(S*f,(S+1)*f),e[y]){case 0:By(w,E,f);break;case 1:qy(w,E,f,c);break;case 2:Oy(w,E,d,f);break;case 3:zy(w,E,d,f,c);break;case 4:Hy(w,E,d,f,c);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}d=E,y+=f+1}if(l===16){const S=new Uint16Array(h.buffer);if(Pw)for(let U=0;U<S.length;U++)S[U]=Fw(S[U]);return S}else return h}function Fw(t){return(t&255)<<8|t>>8&255}const ed=Uint8Array.of(137,80,78,71,13,10,26,10);function am(t){if(!Bw(t.readBytes(ed.length)))throw new Error("wrong PNG signature")}function Bw(t){if(t.length<ed.length)return!1;for(let e=0;e<ed.length;e++)if(t[e]!==ed[e])return!1;return!0}const qw="tEXt",Ow=0,Gy=new TextDecoder("latin1");function zw(t){if(Gw(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Hw=/^[\u0000-\u00FF]*$/;function Gw(t){if(!Hw.test(t))throw new Error("invalid latin1 text")}function Vw(t,e,i){const o=Vy(e);t[o]=jw(e,i-o.length-1)}function Vy(t){for(t.mark();t.readByte()!==Ow;);const e=t.offset;t.reset();const i=Gy.decode(t.readBytes(e-t.offset-1));return t.skip(1),zw(i),i}function jw(t,e){return Gy.decode(t.readBytes(e))}const vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zh={UNKNOWN:-1,DEFLATE:0},sm={UNKNOWN:-1,ADAPTIVE:0},Qh={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Jf={NONE:0,BACKGROUND:1,PREVIOUS:2},ep={SOURCE:0,OVER:1};class Yw extends Dp{constructor(i,o={}){super(i);zn(this,"_checkCrc");zn(this,"_inflator");zn(this,"_png");zn(this,"_apng");zn(this,"_end");zn(this,"_hasPalette");zn(this,"_palette");zn(this,"_hasTransparency");zn(this,"_transparency");zn(this,"_compressionMethod");zn(this,"_filterMethod");zn(this,"_interlaceMethod");zn(this,"_colorType");zn(this,"_isAnimated");zn(this,"_numberOfFrames");zn(this,"_numberOfPlays");zn(this,"_frames");zn(this,"_writingDataChunks");const{checkCrc:a=!1}=o;this._checkCrc=a,this._inflator=new nm,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zh.UNKNOWN,this._filterMethod=sm.UNKNOWN,this._interlaceMethod=Qh.UNKNOWN,this._colorType=vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(am(this);!this._end;){const i=this.readUint32(),o=this.readChars(4);this.decodeChunk(i,o)}return this.decodeImage(),this._png}decodeApng(){for(am(this);!this._end;){const i=this.readUint32(),o=this.readChars(4);this.decodeApngChunk(i,o)}return this.decodeApngImage(),this._apng}decodeChunk(i,o){const a=this.offset;switch(o){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(i);break;case"IDAT":this.decodeIDAT(i);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(i);break;case"iCCP":this.decodeiCCP(i);break;case qw:Vw(this._png.text,this,i);break;case"pHYs":this.decodepHYs();break;default:this.skip(i);break}if(this.offset-a!==i)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?rm(this,i+4,o):this.skip(4)}decodeApngChunk(i,o){const a=this.offset;switch(o!=="fdAT"&&o!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),o){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(i);break;default:this.decodeChunk(i,o),this.offset=a+i;break}if(this.offset-a!==i)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?rm(this,i+4,o):this.skip(4)}decodeIHDR(){const i=this._png;i.width=this.readUint32(),i.height=this.readUint32(),i.depth=Jw(this.readUint8());const o=this.readUint8();this._colorType=o;let a;switch(o){case vo.GREYSCALE:a=1;break;case vo.TRUECOLOUR:a=3;break;case vo.INDEXED_COLOUR:a=1;break;case vo.GREYSCALE_ALPHA:a=2;break;case vo.TRUECOLOUR_ALPHA:a=4;break;case vo.UNKNOWN:default:throw new Error(`Unknown color type: ${o}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zh.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const i={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(i)}decodePLTE(i){if(i%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${i}`);const o=i/3;this._hasPalette=!0;const a=[];this._palette=a;for(let l=0;l<o;l++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(i){this._writingDataChunks=!0;const o=i,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(i)}decodeFDAT(i){this._writingDataChunks=!0;let o=i,a=this.offset+this.byteOffset;if(a+=4,o-=4,this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(i)}decodetRNS(i){switch(this._colorType){case vo.GREYSCALE:case vo.TRUECOLOUR:{if(i%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${i}`);if(i/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${i/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(i/2);for(let o=0;o<i/2;o++)this._transparency[o]=this.readUint16();break}case vo.INDEXED_COLOUR:{if(i>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${i} vs ${this._palette.length})`);let o=0;for(;o<i;o++){const a=this.readByte();this._palette[o].push(a)}for(;o<this._palette.length;o++)this._palette[o].push(255);break}case vo.UNKNOWN:case vo.GREYSCALE_ALPHA:case vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(i){const o=Vy(this),a=this.readUint8();if(a!==Zh.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const l=this.readBytes(i-o.length-2);this._png.iccEmbeddedProfile={name:o,profile:_w(l)}}decodepHYs(){const i=this.readUint32(),o=this.readUint32(),a=this.readByte();this._png.resolution={x:i,y:o,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let i=0;i<this._numberOfFrames;i++){const o={sequenceNumber:this._frames[i].sequenceNumber,delayNumber:this._frames[i].delayNumber,delayDenominator:this._frames[i].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(i);if(a){if(a.data=om({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),i===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)o.data=a.data;else{const l=this._apng.frames.at(i-1);this.disposeFrame(a,l,o),this.addFrameDataToCanvas(o,a)}this._apng.frames.push(o)}}return this._apng}disposeFrame(i,o,a){switch(i.disposeOp){case Jf.NONE:break;case Jf.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let c=0;c<this._png.width;c++){const f=(l*i.width+c)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[f+h]=0}break;case Jf.PREVIOUS:a.data.set(o.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(i,o){const a=1<<this._png.depth,l=(c,f)=>{const h=((c+o.yOffset)*this._png.width+o.xOffset+f)*this._png.channels,d=(c*o.width+f)*this._png.channels;return{index:h,frameIndex:d}};switch(o.blendOp){case ep.SOURCE:for(let c=0;c<o.height;c++)for(let f=0;f<o.width;f++){const{index:h,frameIndex:d}=l(c,f);for(let y=0;y<this._png.channels;y++)i.data[h+y]=o.data[d+y]}break;case ep.OVER:for(let c=0;c<o.height;c++)for(let f=0;f<o.width;f++){const{index:h,frameIndex:d}=l(c,f);for(let y=0;y<this._png.channels;y++){const w=o.data[d+this._png.channels-1]/a,E=y%(this._png.channels-1)===0?1:o.data[d+y],S=Math.floor(w*E+(1-w)*i.data[h+y]);i.data[h+y]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var o;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const i=this._isAnimated?((o=this._frames)==null?void 0:o.at(0)).data:this._inflator.result;if(this._filterMethod!==sm.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qh.NO_INTERLACE)this._png.data=om({data:i,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qh.ADAM7)this._png.data=Lw({data:i,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const i=this._inflator.result,o=this._frames.at(-1);o?o.data=i:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Jf.NONE,blendOp:ep.SOURCE,data:i}),this._inflator=new nm,this._writingDataChunks=!1}}function Jw(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var lm;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(lm||(lm={}));function Ww(t,e){return new Yw(t,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tp(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Qn={log:tp,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):tp.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):tp(t))}};function np(t,e,i){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){Bl(o.response,e,i)},o.onerror=function(){Qn.error("could not download file")},o.send()}function um(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bl=Qt.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,i){var o=Qt.URL||Qt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?um(a.href)?np(t,e,i):Wf(a,a.target="_blank"):Wf(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){Wf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download",typeof t=="string")if(um(t))np(t,e,i);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){Wf(o)})}else navigator.msSaveOrOpenBlob((function(a,l){return l===void 0?l={autoBom:!1}:Hn(l)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,i),e)}:function(t,e,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return np(t,e,i);var a=t.type==="application/octet-stream",l=/constructor/i.test(Qt.HTMLElement)||Qt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var y=f.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=y:location=y,o=null},f.readAsDataURL(t)}else{var h=Qt.URL||Qt.webkitURL,d=h.createObjectURL(t);o?o.location=d:location.href=d,o=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jy(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],o=0;o<i.length;o++){var a=i[o].re,l=i[o].process,c=a.exec(t);c&&(e=l(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+f+h+d}}var td=Qt.atob.bind(Qt),cm=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ip(t,e){var i=t[0],o=t[1],a=t[2],l=t[3];i=Er(i,o,a,l,e[0],7,-680876936),l=Er(l,i,o,a,e[1],12,-389564586),a=Er(a,l,i,o,e[2],17,606105819),o=Er(o,a,l,i,e[3],22,-1044525330),i=Er(i,o,a,l,e[4],7,-176418897),l=Er(l,i,o,a,e[5],12,1200080426),a=Er(a,l,i,o,e[6],17,-1473231341),o=Er(o,a,l,i,e[7],22,-45705983),i=Er(i,o,a,l,e[8],7,1770035416),l=Er(l,i,o,a,e[9],12,-1958414417),a=Er(a,l,i,o,e[10],17,-42063),o=Er(o,a,l,i,e[11],22,-1990404162),i=Er(i,o,a,l,e[12],7,1804603682),l=Er(l,i,o,a,e[13],12,-40341101),a=Er(a,l,i,o,e[14],17,-1502002290),i=Cr(i,o=Er(o,a,l,i,e[15],22,1236535329),a,l,e[1],5,-165796510),l=Cr(l,i,o,a,e[6],9,-1069501632),a=Cr(a,l,i,o,e[11],14,643717713),o=Cr(o,a,l,i,e[0],20,-373897302),i=Cr(i,o,a,l,e[5],5,-701558691),l=Cr(l,i,o,a,e[10],9,38016083),a=Cr(a,l,i,o,e[15],14,-660478335),o=Cr(o,a,l,i,e[4],20,-405537848),i=Cr(i,o,a,l,e[9],5,568446438),l=Cr(l,i,o,a,e[14],9,-1019803690),a=Cr(a,l,i,o,e[3],14,-187363961),o=Cr(o,a,l,i,e[8],20,1163531501),i=Cr(i,o,a,l,e[13],5,-1444681467),l=Cr(l,i,o,a,e[2],9,-51403784),a=Cr(a,l,i,o,e[7],14,1735328473),i=Tr(i,o=Cr(o,a,l,i,e[12],20,-1926607734),a,l,e[5],4,-378558),l=Tr(l,i,o,a,e[8],11,-2022574463),a=Tr(a,l,i,o,e[11],16,1839030562),o=Tr(o,a,l,i,e[14],23,-35309556),i=Tr(i,o,a,l,e[1],4,-1530992060),l=Tr(l,i,o,a,e[4],11,1272893353),a=Tr(a,l,i,o,e[7],16,-155497632),o=Tr(o,a,l,i,e[10],23,-1094730640),i=Tr(i,o,a,l,e[13],4,681279174),l=Tr(l,i,o,a,e[0],11,-358537222),a=Tr(a,l,i,o,e[3],16,-722521979),o=Tr(o,a,l,i,e[6],23,76029189),i=Tr(i,o,a,l,e[9],4,-640364487),l=Tr(l,i,o,a,e[12],11,-421815835),a=Tr(a,l,i,o,e[15],16,530742520),i=Nr(i,o=Tr(o,a,l,i,e[2],23,-995338651),a,l,e[0],6,-198630844),l=Nr(l,i,o,a,e[7],10,1126891415),a=Nr(a,l,i,o,e[14],15,-1416354905),o=Nr(o,a,l,i,e[5],21,-57434055),i=Nr(i,o,a,l,e[12],6,1700485571),l=Nr(l,i,o,a,e[3],10,-1894986606),a=Nr(a,l,i,o,e[10],15,-1051523),o=Nr(o,a,l,i,e[1],21,-2054922799),i=Nr(i,o,a,l,e[8],6,1873313359),l=Nr(l,i,o,a,e[15],10,-30611744),a=Nr(a,l,i,o,e[6],15,-1560198380),o=Nr(o,a,l,i,e[13],21,1309151649),i=Nr(i,o,a,l,e[4],6,-145523070),l=Nr(l,i,o,a,e[11],10,-1120210379),a=Nr(a,l,i,o,e[2],15,718787259),o=Nr(o,a,l,i,e[9],21,-343485551),t[0]=nl(i,t[0]),t[1]=nl(o,t[1]),t[2]=nl(a,t[2]),t[3]=nl(l,t[3])}function yd(t,e,i,o,a,l){return e=nl(nl(e,t),nl(o,l)),nl(e<<a|e>>>32-a,i)}function Er(t,e,i,o,a,l,c){return yd(e&i|~e&o,t,e,a,l,c)}function Cr(t,e,i,o,a,l,c){return yd(e&o|i&~o,t,e,a,l,c)}function Tr(t,e,i,o,a,l,c){return yd(e^i^o,t,e,a,l,c)}function Nr(t,e,i,o,a,l,c){return yd(i^(e|~o),t,e,a,l,c)}function Yy(t){var e,i=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ip(o,Kw(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ip(o,a),e=0;e<16;e++)a[e]=0;return a[14]=8*i,ip(o,a),o}function Kw(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}var fm="0123456789abcdef".split("");function $w(t){for(var e="",i=0;i<4;i++)e+=fm[t>>8*i+4&15]+fm[t>>8*i&15];return e}function Xw(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gp(t){return Yy(t).map(Xw).join("")}var Zw=(function(t){for(var e=0;e<t.length;e++)t[e]=$w(t[e]);return t.join("")})(Yy("hello"))!="5d41402abc4b2a76b9719d911017c592";function nl(t,e){if(Zw){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yp(t,e){var i,o,a,l;if(t!==i){for(var c=(a=t,l=1+(256/t.length|0),new Array(l+1).join(a)),f=[],h=0;h<256;h++)f[h]=h;var d=0;for(h=0;h<256;h++){var y=f[h];d=(d+y+c.charCodeAt(h))%256,f[h]=f[d],f[d]=y}i=t,o=f}else f=o;var w=e.length,E=0,S=0,U="";for(h=0;h<w;h++)S=(S+(y=f[E=(E+1)%256]))%256,f[E]=f[S],f[S]=y,c=f[(f[E]+f[S])%256],U+=String.fromCharCode(e.charCodeAt(h)^c);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dm={print:4,modify:8,copy:16,"annot-forms":32};function zu(t,e,i,o){this.v=1,this.r=2;var a=192;t.forEach(function(f){if(dm.perm!==void 0)throw new Error("Invalid permission: "+f);a+=dm[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),c=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^a)),this.encryptionKey=gp(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=yp(this.encryptionKey,this.padding)}function Hu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",i=t.length,o=0;o<i;o++){var a=t.charCodeAt(o);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[o]}return e}function hm(t){if(Hn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(i,o,a){if(a=a||!1,typeof i!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(i)||(e[i]={});var l=Math.random().toString(35);return e[i][l]=[o,!!a],l},this.unsubscribe=function(i){for(var o in e)if(e[o][i])return delete e[o][i],Object.keys(e[o]).length===0&&delete e[o],!0;return!1},this.publish=function(i){if(e.hasOwnProperty(i)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var l in e[i]){var c=e[i][l];try{c[0].apply(t,o)}catch(f){Qt.console&&Qn.error("jsPDF PubSub Error",f.message,f)}c[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cd(t){if(!(this instanceof cd))return new cd(t);var e="opacity,stroke-opacity".split(",");for(var i in t)t.hasOwnProperty(i)&&e.indexOf(i)>=0&&(this[i]=t[i]);this.id="",this.objectNumber=-1}function Jy(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ql(t,e,i,o,a){if(!(this instanceof ql))return new ql(t,e,i,o,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=i,Jy.call(this,o,a)}function Gu(t,e,i,o,a){if(!(this instanceof Gu))return new Gu(t,e,i,o,a);this.boundingBox=t,this.xStep=e,this.yStep=i,this.stream="",this.cloneIndex=0,Jy.call(this,o,a)}function Bt(t){var e,i=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],l=arguments[3],c=[],f=1,h=16,d="S",y=null;Hn(t=t||{})==="object"&&(i=t.orientation,o=t.unit||o,a=t.format||a,l=t.compress||t.compressPdf||l,(y=t.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),f=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),d=t.defaultPathOperation||"S"),c=t.filters||(l===!0?["FlateEncode"]:c),o=o||"mm",i=(""+(i||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,E={},S={internal:{},__private__:{}};S.__private__.PubSub=hm;var U="1.3",N=S.__private__.getPdfVersion=function(){return U};S.__private__.setPdfVersion=function(A){U=A};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return B};var L=S.__private__.getPageFormat=function(A){return B[A]};a=a||"a4";var R="compat",D="advanced",J=R;function le(){this.saveGraphicsState(),W(new Be(vt,0,0,-vt,0,Yo()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),d="n",J=D}function pe(){this.restoreGraphicsState(),d="S",J=R}var ue=S.__private__.combineFontStyleAndFontWeight=function(A,I){if(A=="bold"&&I=="normal"||A=="bold"&&I==400||A=="normal"&&I=="italic"||A=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(A=I==400||I==="normal"?A==="italic"?"italic":"normal":I!=700&&I!=="bold"||A!=="normal"?(I==700?"bold":I)+""+A:"bold"),A};S.advancedAPI=function(A){var I=J===R;return I&&le.call(this),typeof A!="function"||(A(this),I&&pe.call(this)),this},S.compatAPI=function(A){var I=J===D;return I&&pe.call(this),typeof A!="function"||(A(this),I&&le.call(this)),this},S.isAdvancedAPI=function(){return J===D};var se,K=function(A){if(J!==D)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=S.roundToPrecision=S.__private__.roundToPrecision=function(A,I){var ne=e||I;if(isNaN(A)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ne).replace(/0+$/,"")};se=S.hpf=S.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return X(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return X(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return X(A,16)};var F=S.f2=S.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return X(A,2)},V=S.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return X(A,3)},oe=S.scale=S.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return J===R?A*vt:J===D?A:void 0},ae=function(A){return oe((function(I){return J===R?Yo()-I:J===D?I:void 0})(A))};S.__private__.setPrecision=S.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Te,Z="00000000000000000000000000000000",de=S.__private__.getFileId=function(){return Z},re=S.__private__.setFileId=function(A){return Z=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Li=new zu(y.userPermissions,y.userPassword,y.ownerPassword,Z)),Z};S.setFileId=function(A){return re(A),this},S.getFileId=function(){return de()};var ke=S.__private__.convertDateToPDFDate=function(A){var I=A.getTimezoneOffset(),ne=I<0?"+":"-",he=Math.floor(Math.abs(I/60)),Ee=Math.abs(I%60),Ke=[ne,z(he),"'",z(Ee),"'"].join("");return["D:",A.getFullYear(),z(A.getMonth()+1),z(A.getDate()),z(A.getHours()),z(A.getMinutes()),z(A.getSeconds()),Ke].join("")},qe=S.__private__.convertPDFDateToDate=function(A){var I=parseInt(A.substr(2,4),10),ne=parseInt(A.substr(6,2),10)-1,he=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),Ke=parseInt(A.substr(12,2),10),it=parseInt(A.substr(14,2),10);return new Date(I,ne,he,Ee,Ke,it,0)},Y=S.__private__.setCreationDate=function(A){var I;if(A===void 0&&(A=new Date),A instanceof Date)I=ke(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=A}return Te=I},k=S.__private__.getCreationDate=function(A){var I=Te;return A==="jsDate"&&(I=qe(Te)),I};S.setCreationDate=function(A){return Y(A),this},S.getCreationDate=function(A){return k(A)};var G,z=S.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},Q=S.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ie=0,ge=[],Ae=[],Ne=0,we=[],me=[],Xe=!1,et=Ae;S.__private__.setCustomOutputDestination=function(A){Xe=!0,et=A};var ot=function(A){Xe||(et=A)};S.__private__.resetCustomOutputDestination=function(){Xe=!1,et=Ae};var W=S.__private__.out=function(A){return A=A.toString(),Ne+=A.length+1,et.push(A),et},at=S.__private__.write=function(A){return W(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},wt=S.__private__.getArrayBuffer=function(A){for(var I=A.length,ne=new ArrayBuffer(I),he=new Uint8Array(ne);I--;)he[I]=A.charCodeAt(I);return ne},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return mt};var ze=t.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(A){return ze=J===D?A/vt:A,this};var St,ft=S.__private__.getFontSize=S.getFontSize=function(){return J===R?ze:ze*vt},Mt=t.R2L||!1;S.__private__.setR2L=S.setR2L=function(A){return Mt=A,this},S.__private__.getR2L=S.getR2L=function(){return Mt};var ut,jt=S.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))St=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');St=A}else St=parseInt(A,10)};S.__private__.getZoomMode=function(){return St};var sn,yt=S.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ut=A};S.__private__.getPageMode=function(){return ut};var Pe=S.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');sn=A};S.__private__.getLayoutMode=function(){return sn},S.__private__.setDisplayMode=S.setDisplayMode=function(A,I,ne){return jt(A),Pe(I),yt(ne),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(A){if(Object.keys(ct).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[A]},S.__private__.getDocumentProperties=function(){return ct},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(A){for(var I in ct)ct.hasOwnProperty(I)&&A[I]&&(ct[I]=A[I]);return this},S.__private__.setDocumentProperty=function(A,I){if(Object.keys(ct).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[A]=I};var lt,vt,dt,Yt,bt,Ct={},Tt={},qt=[],rt={},Ht={},fe={},xe={},Fe=null,ve=0,_e=[],Ze=new hm(S),Je=t.hotfixes||[],Et={},Ge={},He=[],Be=function A(I,ne,he,Ee,Ke,it){if(!(this instanceof A))return new A(I,ne,he,Ee,Ke,it);isNaN(I)&&(I=1),isNaN(ne)&&(ne=0),isNaN(he)&&(he=0),isNaN(Ee)&&(Ee=1),isNaN(Ke)&&(Ke=0),isNaN(it)&&(it=0),this._matrix=[I,ne,he,Ee,Ke,it]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(A)},Be.prototype.multiply=function(A){var I=A.sx*this.sx+A.shy*this.shx,ne=A.sx*this.shy+A.shy*this.sy,he=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,Ke=A.tx*this.sx+A.ty*this.shx+this.tx,it=A.tx*this.shy+A.ty*this.sy+this.ty;return new Be(I,ne,he,Ee,Ke,it)},Be.prototype.decompose=function(){var A=this.sx,I=this.shy,ne=this.shx,he=this.sy,Ee=this.tx,Ke=this.ty,it=Math.sqrt(A*A+I*I),kt=(A/=it)*ne+(I/=it)*he;ne-=A*kt,he-=I*kt;var Dt=Math.sqrt(ne*ne+he*he);return kt/=Dt,A*(he/=Dt)<I*(ne/=Dt)&&(A=-A,I=-I,kt=-kt,it=-it),{scale:new Be(it,0,0,Dt,0,0),translate:new Be(1,0,0,1,Ee,Ke),rotate:new Be(A,I,-I,A,0,0),skew:new Be(1,0,kt,1,0,0)}},Be.prototype.toString=function(A){return this.join(" ")},Be.prototype.inversed=function(){var A=this.sx,I=this.shy,ne=this.shx,he=this.sy,Ee=this.tx,Ke=this.ty,it=1/(A*he-I*ne),kt=he*it,Dt=-I*it,$t=-ne*it,nn=A*it;return new Be(kt,Dt,$t,nn,-kt*Ee-$t*Ke,-Dt*Ee-nn*Ke)},Be.prototype.applyToPoint=function(A){var I=A.x*this.sx+A.y*this.shx+this.tx,ne=A.x*this.shy+A.y*this.sy+this.ty;return new zr(I,ne)},Be.prototype.applyToRectangle=function(A){var I=this.applyToPoint(A),ne=this.applyToPoint(new zr(A.x+A.w,A.y+A.h));return new zo(I.x,I.y,ne.x-I.x,ne.y-I.y)},Be.prototype.clone=function(){var A=this.sx,I=this.shy,ne=this.shx,he=this.sy,Ee=this.tx,Ke=this.ty;return new Be(A,I,ne,he,Ee,Ke)},S.Matrix=Be;var Ye=S.matrixMult=function(A,I){return I.multiply(A)},pt=new Be(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=pt;var Ot=function(A,I){if(!Ht[A]){var ne=(I instanceof ql?"Sh":"P")+(Object.keys(rt).length+1).toString(10);I.id=ne,Ht[A]=ne,rt[ne]=I,Ze.publish("addPattern",I)}};S.ShadingPattern=ql,S.TilingPattern=Gu,S.addShadingPattern=function(A,I){return K("addShadingPattern()"),Ot(A,I),this},S.beginTilingPattern=function(A){K("beginTilingPattern()"),Va(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},S.endTilingPattern=function(A,I){K("endTilingPattern()"),I.stream=me[G].join(`
`),Ot(A,I),Ze.publish("endTilingPattern",I),He.pop().restore()};var tn,Ut=S.__private__.newObject=function(){var A=Ft();return bn(A,!0),A},Ft=S.__private__.newObjectDeferred=function(){return ie++,ge[ie]=function(){return Ne},ie},bn=function(A,I){return I=typeof I=="boolean"&&I,ge[A]=Ne,I&&W(A+" 0 obj"),A},ki=S.__private__.newAdditionalObject=function(){var A={objId:Ft(),content:""};return we.push(A),A},gn=Ft(),Xt=Ft(),en=S.__private__.decodeColorString=function(A){var I=A.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var ne=parseFloat(I[0]);I=[ne,ne,ne,"r"]}for(var he="#",Ee=0;Ee<3;Ee++)he+=("0"+Math.floor(255*parseFloat(I[Ee])).toString(16)).slice(-2);return he},ti=S.__private__.encodeColorString=function(A){var I;typeof A=="string"&&(A={ch1:A});var ne=A.ch1,he=A.ch2,Ee=A.ch3,Ke=A.ch4,it=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var kt=new jy(ne);if(kt.ok)ne=kt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var Dt=parseInt(ne.substr(1),16);ne=Dt>>16&255,he=Dt>>8&255,Ee=255&Dt}if(he===void 0||Ke===void 0&&ne===he&&he===Ee)I=typeof ne=="string"?ne+" "+it[0]:A.precision===2?F(ne/255)+" "+it[0]:V(ne/255)+" "+it[0];else if(Ke===void 0||Hn(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",it[1]].join(" ");I=typeof ne=="string"?[ne,he,Ee,it[1]].join(" "):A.precision===2?[F(ne/255),F(he/255),F(Ee/255),it[1]].join(" "):[V(ne/255),V(he/255),V(Ee/255),it[1]].join(" ")}else I=typeof ne=="string"?[ne,he,Ee,Ke,it[2]].join(" "):A.precision===2?[F(ne),F(he),F(Ee),F(Ke),it[2]].join(" "):[V(ne),V(he),V(Ee),V(Ke),it[2]].join(" ");return I},Nn=S.__private__.getFilters=function(){return c},Kn=S.__private__.putStream=function(A){var I=(A=A||{}).data||"",ne=A.filters||Nn(),he=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,Ke=I.length,it=A.objectId,kt=function(Ri){return Ri};if(y!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(kt=Li.encryptor(it,0));var Dt={};ne===!0&&(ne=["FlateEncode"]);var $t=A.additionalKeyValues||[],nn=(Dt=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(I,ne):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(Dt.data.length!==0&&($t.push({key:"Length",value:Dt.data.length}),Ee===!0&&$t.push({key:"Length1",value:Ke})),nn.length!=0)if(nn.split("/").length-1==1)$t.push({key:"Filter",value:nn});else{$t.push({key:"Filter",value:"["+nn+"]"});for(var wn=0;wn<$t.length;wn+=1)if($t[wn].key==="DecodeParms"){for(var ni=[],gi=0;gi<Dt.reverseChain.split("/").length-1;gi+=1)ni.push("null");ni.push($t[wn].value),$t[wn].value="["+ni.join(" ")+"]"}}W("<<");for(var Gn=0;Gn<$t.length;Gn++)W("/"+$t[Gn].key+" "+$t[Gn].value);W(">>"),Dt.data.length!==0&&(W("stream"),W(kt(Dt.data)),W("endstream"))},br=S.__private__.putPage=function(A){var I=A.number,ne=A.data,he=A.objId,Ee=A.contentsObjId;bn(he,!0),W("<</Type /Page"),W("/Parent "+A.rootDictionaryObjId+" 0 R"),W("/Resources "+A.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(se(A.mediaBox.bottomLeftX))+" "+parseFloat(se(A.mediaBox.bottomLeftY))+" "+se(A.mediaBox.topRightX)+" "+se(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&W("/CropBox ["+se(A.cropBox.bottomLeftX)+" "+se(A.cropBox.bottomLeftY)+" "+se(A.cropBox.topRightX)+" "+se(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&W("/BleedBox ["+se(A.bleedBox.bottomLeftX)+" "+se(A.bleedBox.bottomLeftY)+" "+se(A.bleedBox.topRightX)+" "+se(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&W("/TrimBox ["+se(A.trimBox.bottomLeftX)+" "+se(A.trimBox.bottomLeftY)+" "+se(A.trimBox.topRightX)+" "+se(A.trimBox.topRightY)+"]"),A.artBox!==null&&W("/ArtBox ["+se(A.artBox.bottomLeftX)+" "+se(A.artBox.bottomLeftY)+" "+se(A.artBox.topRightX)+" "+se(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&W("/UserUnit "+A.userUnit),Ze.publish("putPage",{objId:he,pageContext:_e[I],pageNumber:I,page:ne}),W("/Contents "+Ee+" 0 R"),W(">>"),W("endobj");var Ke=ne.join(`
`);return J===D&&(Ke+=`
Q`),bn(Ee,!0),Kn({data:Ke,filters:Nn(),objectId:Ee}),W("endobj"),he},Gi=S.__private__.putPages=function(){var A,I,ne=[];for(A=1;A<=ve;A++)_e[A].objId=Ft(),_e[A].contentsObjId=Ft();for(A=1;A<=ve;A++)ne.push(br({number:A,data:me[A],objId:_e[A].objId,contentsObjId:_e[A].contentsObjId,mediaBox:_e[A].mediaBox,cropBox:_e[A].cropBox,bleedBox:_e[A].bleedBox,trimBox:_e[A].trimBox,artBox:_e[A].artBox,userUnit:_e[A].userUnit,rootDictionaryObjId:gn,resourceDictionaryObjId:Xt}));bn(gn,!0),W("<</Type /Pages");var he="/Kids [";for(I=0;I<ve;I++)he+=ne[I]+" 0 R ";W(he+"]"),W("/Count "+ve),W(">>"),W("endobj"),Ze.publish("postPutPages")},ur=function(A){Ze.publish("putFont",{font:A,out:W,newObject:Ut,putStream:Kn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Ut(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Hu(A.postScriptName)),W("/Subtype /Type1"),typeof A.encoding=="string"&&W("/Encoding /"+A.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},kr=function(A){A.objectNumber=Ut();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[se(A.x),se(A.y),se(A.x+A.width),se(A.y+A.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ne=A.pages[1].join(`
`);Kn({data:ne,additionalKeyValues:I,objectId:A.objectNumber}),W("endobj")},cr=function(A,I){I||(I=21);var ne=Ut(),he=(function(it,kt){var Dt,$t=[],nn=1/(kt-1);for(Dt=0;Dt<1;Dt+=nn)$t.push(Dt);if($t.push(1),it[0].offset!=0){var wn={offset:0,color:it[0].color};it.unshift(wn)}if(it[it.length-1].offset!=1){var ni={offset:1,color:it[it.length-1].color};it.push(ni)}for(var gi="",Gn=0,Ri=0;Ri<$t.length;Ri++){for(Dt=$t[Ri];Dt>it[Gn+1].offset;)Gn++;var Si=it[Gn].offset,ji=(Dt-Si)/(it[Gn+1].offset-Si),Jo=it[Gn].color,lo=it[Gn+1].color;gi+=Q(Math.round((1-ji)*Jo[0]+ji*lo[0]).toString(16))+Q(Math.round((1-ji)*Jo[1]+ji*lo[1]).toString(16))+Q(Math.round((1-ji)*Jo[2]+ji*lo[2]).toString(16))}return gi.trim()})(A.colors,I),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+I+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:he,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),W("endobj"),A.objectNumber=Ut(),W("<< /ShadingType "+A.type),W("/ColorSpace /DeviceRGB");var Ke="/Coords ["+se(parseFloat(A.coords[0]))+" "+se(parseFloat(A.coords[1]))+" ";A.type===2?Ke+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3])):Ke+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3]))+" "+se(parseFloat(A.coords[4]))+" "+se(parseFloat(A.coords[5])),W(Ke+="]"),A.matrix&&W("/Matrix ["+A.matrix.toString()+"]"),W("/Function "+ne+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Qi=function(A,I){var ne=Ft(),he=Ut();I.push({resourcesOid:ne,objectOid:he}),A.objectNumber=he;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(se).join(" ")+"]"}),Ee.push({key:"XStep",value:se(A.xStep)}),Ee.push({key:"YStep",value:se(A.yStep)}),Ee.push({key:"Resources",value:ne+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Kn({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),W("endobj")},er=function(A){for(var I in A.objectNumber=Ut(),W("<<"),A)switch(I){case"opacity":W("/ca "+F(A[I]));break;case"stroke-opacity":W("/CA "+F(A[I]))}W(">>"),W("endobj")},fr=function(A){bn(A.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var I in W("/Font <<"),Ct)Ct.hasOwnProperty(I)&&(w===!1||w===!0&&E.hasOwnProperty(I))&&W("/"+I+" "+Ct[I].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(rt).length>0){for(var I in W("/Shading <<"),rt)rt.hasOwnProperty(I)&&rt[I]instanceof ql&&rt[I].objectNumber>=0&&W("/"+I+" "+rt[I].objectNumber+" 0 R");Ze.publish("putShadingPatternDict"),W(">>")}})(),(function(I){if(Object.keys(rt).length>0){for(var ne in W("/Pattern <<"),rt)rt.hasOwnProperty(ne)&&rt[ne]instanceof S.TilingPattern&&rt[ne].objectNumber>=0&&rt[ne].objectNumber<I&&W("/"+ne+" "+rt[ne].objectNumber+" 0 R");Ze.publish("putTilingPatternDict"),W(">>")}})(A.objectOid),(function(){if(Object.keys(fe).length>0){var I;for(I in W("/ExtGState <<"),fe)fe.hasOwnProperty(I)&&fe[I].objectNumber>=0&&W("/"+I+" "+fe[I].objectNumber+" 0 R");Ze.publish("putGStateDict"),W(">>")}})(),(function(){for(var I in W("/XObject <<"),Et)Et.hasOwnProperty(I)&&Et[I].objectNumber>=0&&W("/"+I+" "+Et[I].objectNumber+" 0 R");Ze.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},mi=function(A){Tt[A.fontName]=Tt[A.fontName]||{},Tt[A.fontName][A.fontStyle]=A.id},al=function(A,I,ne,he,Ee){var Ke={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:A,fontName:I,fontStyle:ne,encoding:he,isStandardFont:Ee||!1,metadata:{}};return Ze.publish("addFont",{font:Ke,instance:this}),Ct[Ke.id]=Ke,mi(Ke),Ke.id},Lr=S.__private__.pdfEscape=S.pdfEscape=function(A,I){return(function(ne,he){var Ee,Ke,it,kt,Dt,$t,nn,wn,ni;if(it=(he=he||{}).sourceEncoding||"Unicode",Dt=he.outputEncoding,(he.autoencode||Dt)&&Ct[lt].metadata&&Ct[lt].metadata[it]&&Ct[lt].metadata[it].encoding&&(kt=Ct[lt].metadata[it].encoding,!Dt&&Ct[lt].encoding&&(Dt=Ct[lt].encoding),!Dt&&kt.codePages&&(Dt=kt.codePages[0]),typeof Dt=="string"&&(Dt=kt[Dt]),Dt)){for(nn=!1,$t=[],Ee=0,Ke=ne.length;Ee<Ke;Ee++)(wn=Dt[ne.charCodeAt(Ee)])?$t.push(String.fromCharCode(wn)):$t.push(ne[Ee]),$t[Ee].charCodeAt(0)>>8&&(nn=!0);ne=$t.join("")}for(Ee=ne.length;nn===void 0&&Ee!==0;)ne.charCodeAt(Ee-1)>>8&&(nn=!0),Ee--;if(!nn)return ne;for($t=he.noBOM?[]:[254,255],Ee=0,Ke=ne.length;Ee<Ke;Ee++){if((ni=(wn=ne.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(ni),$t.push(wn-(ni<<8))}return String.fromCharCode.apply(void 0,$t)})(A,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ro=S.__private__.beginPage=function(A){me[++ve]=[],_e[ve]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},ll(ve),ot(me[G])},Bo=function(A,I){var ne,he,Ee;switch(i=I||i,typeof A=="string"&&(ne=L(A.toLowerCase()),Array.isArray(ne)&&(he=ne[0],Ee=ne[1])),Array.isArray(A)&&(he=A[0]*vt,Ee=A[1]*vt),isNaN(he)&&(he=a[0],Ee=a[1]),(he>14400||Ee>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),Ee=Math.min(14400,Ee)),a=[he,Ee],i.substr(0,1)){case"l":Ee>he&&(a=[Ee,he]);break;case"p":he>Ee&&(a=[Ee,he])}ro(a),Jt(za),W(Dr),Ss!==0&&W(Ss+" J"),Bi!==0&&W(Bi+" j"),Ze.publish("addPage",{pageNumber:ve})},sl=function(A){A>0&&A<=ve&&(me.splice(A,1),_e.splice(A,1),ve--,G>ve&&(G=ve),this.setPage(G))},ll=function(A){A>0&&A<=ve&&(G=A)},ul=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return me.length-1},Jl=function(A,I,ne){var he,Ee=void 0;return ne=ne||{},A=A!==void 0?A:Ct[lt].fontName,I=I!==void 0?I:Ct[lt].fontStyle,he=A.toLowerCase(),Tt[he]!==void 0&&Tt[he][I]!==void 0?Ee=Tt[he][I]:Tt[A]!==void 0&&Tt[A][I]!==void 0?Ee=Tt[A][I]:ne.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+A+"', '"+I+"'. Refer to getFontList() for available fonts."),Ee||ne.noFallback||(Ee=Tt.times[I])==null&&(Ee=Tt.times.normal),Ee},Rr=S.__private__.putInfo=function(){var A=Ut(),I=function(he){return he};for(var ne in y!==null&&(I=Li.encryptor(A,0)),W("<<"),W("/Producer ("+Lr(I("jsPDF "+Bt.version))+")"),ct)ct.hasOwnProperty(ne)&&ct[ne]&&W("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Lr(I(ct[ne]))+")");W("/CreationDate ("+Lr(I(Te))+")"),W(">>"),W("endobj")},qo=S.__private__.putCatalog=function(A){var I=(A=A||{}).rootDictionaryObjId||gn;switch(Ut(),W("<<"),W("/Type /Catalog"),W("/Pages "+I+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+St;ne.substr(ne.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&W("/OpenAction [3 0 R /XYZ null null "+F(St)+"]")}switch(sn||(sn="continuous"),sn){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}ut&&W("/PageMode /"+ut),Ze.publish("putCatalog"),W(">>"),W("endobj")},oo=S.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ie+1)),W("/Root "+ie+" 0 R"),W("/Info "+(ie-1)+" 0 R"),y!==null&&W("/Encrypt "+Li.oid+" 0 R"),W("/ID [ <"+Z+"> <"+Z+"> ]"),W(">>")},Mn=S.__private__.putHeader=function(){W("%PDF-"+U),W("%")},cl=S.__private__.putXRef=function(){var A="0000000000";W("xref"),W("0 "+(ie+1)),W("0000000000 65535 f ");for(var I=1;I<=ie;I++)typeof ge[I]=="function"?W((A+ge[I]()).slice(-10)+" 00000 n "):ge[I]!==void 0?W((A+ge[I]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},bo=S.__private__.buildDocument=function(){var A;ie=0,Ne=0,Ae=[],ge=[],we=[],gn=Ft(),Xt=Ft(),ot(Ae),Ze.publish("buildDocument"),Mn(),Gi(),(function(){Ze.publish("putAdditionalObjects");for(var ne=0;ne<we.length;ne++){var he=we[ne];bn(he.objId,!0),W(he.content),W("endobj")}Ze.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ne in Ct)Ct.hasOwnProperty(ne)&&(w===!1||w===!0&&E.hasOwnProperty(ne))&&ur(Ct[ne])})(),(function(){var ne;for(ne in fe)fe.hasOwnProperty(ne)&&er(fe[ne])})(),(function(){for(var ne in Et)Et.hasOwnProperty(ne)&&kr(Et[ne])})(),(function(ne){var he;for(he in rt)rt.hasOwnProperty(he)&&(rt[he]instanceof ql?cr(rt[he]):rt[he]instanceof Gu&&Qi(rt[he],ne))})(A),Ze.publish("putResources"),A.forEach(fr),fr({resourcesOid:Xt,objectOid:Number.MAX_SAFE_INTEGER}),Ze.publish("postPutResources"),y!==null&&(Li.oid=Ut(),W("<<"),W("/Filter /Standard"),W("/V "+Li.v),W("/R "+Li.r),W("/U <"+Li.toHexString(Li.U)+">"),W("/O <"+Li.toHexString(Li.O)+">"),W("/P "+Li.P),W(">>"),W("endobj")),Rr(),qo();var I=Ne;return cl(),oo(),W("startxref"),W(""+I),W("%%EOF"),ot(me[G]),Ae.join(`
`)},va=S.__private__.getBlob=function(A){return new Blob([wt(A)],{type:"application/pdf"})},fl=S.output=S.__private__.output=(tn=function(A,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",A){case void 0:return bo();case"save":S.save(I.filename);break;case"arraybuffer":return wt(bo());case"blob":return va(bo());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(va(bo()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",he=bo();try{ne=cm(he)}catch{ne=cm(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+I.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(Ee=I.pdfObjectUrl,Ke="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",kt=Qt.open();return kt!==null&&kt.document.write(it),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',$t=Qt.open();if($t!==null){$t.document.write(Dt);var nn=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=I.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nn.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',ni=Qt.open();if(ni!==null&&(ni.document.write(wn),ni.document.title=I.filename),ni||typeof safari>"u")return ni;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",I);default:return null}},tn.foo=function(){try{return tn.apply(this,arguments)}catch(ne){var A=ne.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var I="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Qt.console)throw new Error(I);Qt.console.error(I,ne),Qt.alert&&alert(I)}},tn.foo.bar=tn,tn.foo),dr=function(A){return Array.isArray(Je)===!0&&Je.indexOf(A)>-1};switch(o){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);vt=o}var Li=null;Y(),re();var wi=S.__private__.getPageInfo=S.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[A].objId,pageNumber:A,pageContext:_e[A]}},bs=S.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in _e)if(_e[I].objId===A)break;return wi(I)},Wl=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:_e[G].objId,pageNumber:G,pageContext:_e[G]}};S.addPage=function(){return Bo.apply(this,arguments),this},S.setPage=function(){return ll.apply(this,arguments),ot.call(this,me[G]),this},S.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},S.movePage=function(A,I){var ne,he;if(A>I){ne=me[A],he=_e[A];for(var Ee=A;Ee>I;Ee--)me[Ee]=me[Ee-1],_e[Ee]=_e[Ee-1];me[I]=ne,_e[I]=he,this.setPage(I)}else if(A<I){ne=me[A],he=_e[A];for(var Ke=A;Ke<I;Ke++)me[Ke]=me[Ke+1],_e[Ke]=_e[Ke+1];me[I]=ne,_e[I]=he,this.setPage(I)}return this},S.deletePage=function(){return sl.apply(this,arguments),this},S.__private__.text=S.text=function(A,I,ne,he,Ee){var Ke,it,kt,Dt,$t,nn,wn,ni,gi,Gn=(he=he||{}).scope||this;if(typeof A=="number"&&typeof I=="number"&&(typeof ne=="string"||Array.isArray(ne))){var Ri=ne;ne=I,I=A,A=Ri}if(arguments[3]instanceof Be==0?(kt=arguments[4],Dt=arguments[5],Hn(wn=arguments[3])==="object"&&wn!==null||(typeof kt=="string"&&(Dt=kt,kt=null),typeof wn=="string"&&(Dt=wn,wn=null),typeof wn=="number"&&(kt=wn,wn=null),he={flags:wn,angle:kt,align:Dt})):(K("The transform parameter of text() with a Matrix value"),gi=Ee),isNaN(I)||isNaN(ne)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Gn;var Si,ji="",Jo=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:Oo,lo=Gn.internal.scaleFactor;function Wo(kn){return kn=kn.split("	").join(Array(he.TabLen||9).join(" ")),Lr(kn,wn)}function bl(kn){for(var Sn,Vn=kn.concat(),vi=[],ko=Vn.length;ko--;)typeof(Sn=Vn.shift())=="string"?vi.push(Sn):Array.isArray(kn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?vi.push(Sn[0]):vi.push([Sn[0],Sn[1],Sn[2]]);return vi}function As(kn,Sn){var Vn;if(typeof kn=="string")Vn=Sn(kn)[0];else if(Array.isArray(kn)){for(var vi,ko,ho=kn.concat(),Wa=[],_l=ho.length;_l--;)typeof(vi=ho.shift())=="string"?Wa.push(Sn(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(ko=Sn(vi[0],vi[1],vi[2]),Wa.push([ko[0],ko[1],ko[2]]));Vn=Wa}return Vn}var _o=!1,uo=!0;if(typeof A=="string")_o=!0;else if(Array.isArray(A)){var Ya=A.concat();it=[];for(var Ko,qi=Ya.length;qi--;)(typeof(Ko=Ya.shift())!="string"||Array.isArray(Ko)&&typeof Ko[0]!="string")&&(uo=!1);_o=uo}if(_o===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var ba=ze/Gn.internal.scaleFactor,wa=ba*(Jo-1);switch(he.baseline){case"bottom":ne-=wa;break;case"top":ne+=ba-wa;break;case"hanging":ne+=ba-2*wa;break;case"middle":ne+=ba/2-wa}if((nn=he.maxWidth||0)>0&&(typeof A=="string"?A=Gn.splitTextToSize(A,nn):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(kn,Sn){return kn.concat(Gn.splitTextToSize(Sn,nn))},[]))),Ke={text:A,x:I,y:ne,options:he,mutex:{pdfEscape:Lr,activeFontKey:lt,fonts:Ct,activeFontSize:ze}},Ze.publish("preProcessText",Ke),A=Ke.text,kt=(he=Ke.options).angle,gi instanceof Be==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,he.rotationDirection===0&&(kt=-kt),J===D&&(kt=-kt);var Es=Math.cos(kt),Ao=Math.sin(kt);gi=new Be(Es,Ao,-Ao,Es,0,0)}else kt&&kt instanceof Be&&(gi=kt);J!==D||gi||(gi=pt),($t=he.charSpace||Or)!==void 0&&(ji+=se(oe($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ni=he.horizontalScale)!==void 0&&(ji+=se(100*ni)+` Tz
`),he.lang;var pr=-1,$o=he.renderingMode!==void 0?he.renderingMode:he.stroke,Cs=Gn.internal.getCurrentPageInfo().pageContext;switch($o){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var wl=Cs.usedRenderingMode!==void 0?Cs.usedRenderingMode:-1;pr!==-1?ji+=pr+` Tr
`:wl!==-1&&(ji+=`0 Tr
`),pr!==-1&&(Cs.usedRenderingMode=pr),Dt=he.align||"left";var Pr,co=ze*Jo,Xo=Gn.internal.pageSize.getWidth(),Sl=Ct[lt];$t=he.charSpace||Or,nn=he.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var fo=[],Sa=function(kn){return Gn.getStringUnitWidth(kn,{font:Sl,charSpace:$t,fontSize:ze,doKerning:!1})*ze/lo};if(Object.prototype.toString.call(A)==="[object Array]"){var Sr;it=bl(A),Dt!=="left"&&(Pr=it.map(Sa));var mr,Eo=0;if(Dt==="right"){I-=Pr[0],A=[],qi=it.length;for(var Co=0;Co<qi;Co++)Co===0?(mr=Ir(I),Sr=Vi(ne)):(mr=oe(Eo-Pr[Co]),Sr=-co),A.push([it[Co],mr,Sr]),Eo=Pr[Co]}else if(Dt==="center"){I-=Pr[0]/2,A=[],qi=it.length;for(var Zo=0;Zo<qi;Zo++)Zo===0?(mr=Ir(I),Sr=Vi(ne)):(mr=oe((Eo-Pr[Zo])/2),Sr=-co),A.push([it[Zo],mr,Sr]),Eo=Pr[Zo]}else if(Dt==="left"){A=[],qi=it.length;for(var Ts=0;Ts<qi;Ts++)A.push(it[Ts])}else if(Dt==="justify"&&Sl.encoding==="Identity-H"){A=[],qi=it.length,nn=nn!==0?nn:Xo;for(var Ns=0,yi=0;yi<qi;yi++)if(Sr=yi===0?Vi(ne):-co,mr=yi===0?Ir(I):Ns,yi<qi-1){var iu=oe((nn-Pr[yi])/(it[yi].split(" ").length-1)),To=it[yi].split(" ");A.push([To[0]+" ",mr,Sr]),Ns=0;for(var No=1;No<To.length;No++){var Yi=(Sa(To[No-1]+" "+To[No])-Sa(To[No]))*lo+iu;No==To.length-1?A.push([To[No],Yi,0]):A.push([To[No]+" ",Yi,0]),Ns-=Yi}}else A.push([it[yi],mr,Sr]);A.push(["",Ns,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],qi=it.length,nn=nn!==0?nn:Xo,yi=0;yi<qi;yi++){Sr=yi===0?Vi(ne):-co,mr=yi===0?Ir(I):0;var Qo=it[yi].split(" ").length-1,Ms=Qo>0?(nn-Pr[yi])/Qo:0;yi<qi-1?fo.push(se(oe(Ms))):fo.push(0),A.push([it[yi],mr,Sr])}}}(typeof he.R2L=="boolean"?he.R2L:Mt)===!0&&(A=As(A,function(kn,Sn,Vn){return[kn.split("").reverse().join(""),Sn,Vn]})),Ke={text:A,x:I,y:ne,options:he,mutex:{pdfEscape:Lr,activeFontKey:lt,fonts:Ct,activeFontSize:ze}},Ze.publish("postProcessText",Ke),A=Ke.text,Si=Ke.mutex.isHex||!1;var ks=Ct[lt].encoding;ks!=="WinAnsiEncoding"&&ks!=="StandardEncoding"||(A=As(A,function(kn,Sn,Vn){return[Wo(kn),Sn,Vn]})),it=bl(A),A=[];for(var ea,ta,Mo,Ja=Array.isArray(it[0])?1:0,Ur="",na=function(kn,Sn,Vn){var vi="";return Vn instanceof Be?(Vn=typeof he.angle=="number"?Ye(Vn,new Be(1,0,0,1,kn,Sn)):Ye(new Be(1,0,0,1,kn,Sn),Vn),J===D&&(Vn=Ye(new Be(1,0,0,-1,0,0),Vn)),vi=Vn.join(" ")+` Tm
`):vi=se(kn)+" "+se(Sn)+` Td
`,vi},tr=0;tr<it.length;tr++){switch(Ur="",Ja){case 1:Mo=(Si?"<":"(")+it[tr][0]+(Si?">":")"),ea=parseFloat(it[tr][1]),ta=parseFloat(it[tr][2]);break;case 0:Mo=(Si?"<":"(")+it[tr]+(Si?">":")"),ea=Ir(I),ta=Vi(ne)}fo!==void 0&&fo[tr]!==void 0&&(Ur=fo[tr]+` Tw
`),tr===0?A.push(Ur+na(ea,ta,gi)+Mo):Ja===0?A.push(Ur+Mo):Ja===1&&A.push(Ur+na(ea,ta,gi)+Mo)}A=Ja===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Hr=`BT
/`;return Hr+=lt+" "+ze+` Tf
`,Hr+=se(ze*Jo)+` TL
`,Hr+=wo+`
`,Hr+=ji,Hr+=A,W(Hr+="ET"),E[lt]=!0,Gn};var dl=S.__private__.clip=S.clip=function(A){return W(A==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return dl("evenodd")},S.__private__.discardPath=S.discardPath=function(){return W("n"),this};var hr=S.__private__.isValidStyle=function(A){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(I=!0),I};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(A){return hr(A)&&(d=A),this};var hl=S.__private__.getStyle=S.getStyle=function(A){var I=d;switch(A){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=A}return I},pl=S.close=function(){return W("h"),this};S.stroke=function(){return W("S"),this},S.fill=function(A){return ao("f",A),this},S.fillEvenOdd=function(A){return ao("f*",A),this},S.fillStroke=function(A){return ao("B",A),this},S.fillStrokeEvenOdd=function(A){return ao("B*",A),this};var ao=function(A,I){Hn(I)==="object"?$l(I,A):W(A)},Oa=function(A){A===null||J===D&&A===void 0||(A=hl(A),W(A))};function Kl(A,I,ne,he,Ee){var Ke=new Gu(I||this.boundingBox,ne||this.xStep,he||this.yStep,this.gState,Ee||this.matrix);Ke.stream=this.stream;var it=A+"$$"+this.cloneIndex+++"$$";return Ot(it,Ke),Ke}var $l=function(A,I){var ne=Ht[A.key],he=rt[ne];if(he instanceof ql)W("q"),W(ml(I)),he.gState&&S.setGState(he.gState),W(A.matrix.toString()+" cm"),W("/"+ne+" sh"),W("Q");else if(he instanceof Gu){var Ee=new Be(1,0,0,-1,0,Yo());A.matrix&&(Ee=Ee.multiply(A.matrix||pt),ne=Kl.call(he,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),W("q"),W("/Pattern cs"),W("/"+ne+" scn"),he.gState&&S.setGState(he.gState),W(I),W("Q")}},ml=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gl=S.moveTo=function(A,I){return W(se(oe(A))+" "+se(ae(I))+" m"),this},Xl=S.lineTo=function(A,I){return W(se(oe(A))+" "+se(ae(I))+" l"),this},wr=S.curveTo=function(A,I,ne,he,Ee,Ke){return W([se(oe(A)),se(ae(I)),se(oe(ne)),se(ae(he)),se(oe(Ee)),se(ae(Ke)),"c"].join(" ")),this};S.__private__.line=S.line=function(A,I,ne,he,Ee){if(isNaN(A)||isNaN(I)||isNaN(ne)||isNaN(he)||!hr(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return J===R?this.lines([[ne-A,he-I]],A,I,[1,1],Ee||"S"):this.lines([[ne-A,he-I]],A,I,[1,1]).stroke()},S.__private__.lines=S.lines=function(A,I,ne,he,Ee,Ke){var it,kt,Dt,$t,nn,wn,ni,gi,Gn,Ri,Si,ji;if(typeof A=="number"&&(ji=ne,ne=I,I=A,A=ji),he=he||[1,1],Ke=Ke||!1,isNaN(I)||isNaN(ne)||!Array.isArray(A)||!Array.isArray(he)||!hr(Ee)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gl(I,ne),it=he[0],kt=he[1],$t=A.length,Ri=I,Si=ne,Dt=0;Dt<$t;Dt++)(nn=A[Dt]).length===2?(Ri=nn[0]*it+Ri,Si=nn[1]*kt+Si,Xl(Ri,Si)):(wn=nn[0]*it+Ri,ni=nn[1]*kt+Si,gi=nn[2]*it+Ri,Gn=nn[3]*kt+Si,Ri=nn[4]*it+Ri,Si=nn[5]*kt+Si,wr(wn,ni,gi,Gn,Ri,Si));return Ke&&pl(),Oa(Ee),this},S.path=function(A){for(var I=0;I<A.length;I++){var ne=A[I],he=ne.c;switch(ne.op){case"m":gl(he[0],he[1]);break;case"l":Xl(he[0],he[1]);break;case"c":wr.apply(this,he);break;case"h":pl()}}return this},S.__private__.rect=S.rect=function(A,I,ne,he,Ee){if(isNaN(A)||isNaN(I)||isNaN(ne)||isNaN(he)||!hr(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return J===R&&(he=-he),W([se(oe(A)),se(ae(I)),se(oe(ne)),se(oe(he)),"re"].join(" ")),Oa(Ee),this},S.__private__.triangle=S.triangle=function(A,I,ne,he,Ee,Ke,it){if(isNaN(A)||isNaN(I)||isNaN(ne)||isNaN(he)||isNaN(Ee)||isNaN(Ke)||!hr(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-A,he-I],[Ee-ne,Ke-he],[A-Ee,I-Ke]],A,I,[1,1],it,!0),this},S.__private__.roundedRect=S.roundedRect=function(A,I,ne,he,Ee,Ke,it){if(isNaN(A)||isNaN(I)||isNaN(ne)||isNaN(he)||isNaN(Ee)||isNaN(Ke)||!hr(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ne),Ke=Math.min(Ke,.5*he),this.lines([[ne-2*Ee,0],[Ee*kt,0,Ee,Ke-Ke*kt,Ee,Ke],[0,he-2*Ke],[0,Ke*kt,-Ee*kt,Ke,-Ee,Ke],[2*Ee-ne,0],[-Ee*kt,0,-Ee,-Ke*kt,-Ee,-Ke],[0,2*Ke-he],[0,-Ke*kt,Ee*kt,-Ke,Ee,-Ke]],A+Ee,I,[1,1],it,!0),this},S.__private__.ellipse=S.ellipse=function(A,I,ne,he,Ee){if(isNaN(A)||isNaN(I)||isNaN(ne)||isNaN(he)||!hr(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ne,it=4/3*(Math.SQRT2-1)*he;return gl(A+ne,I),wr(A+ne,I-it,A+Ke,I-he,A,I-he),wr(A-Ke,I-he,A-ne,I-it,A-ne,I),wr(A-ne,I+it,A-Ke,I+he,A,I+he),wr(A+Ke,I+he,A+ne,I+it,A+ne,I),Oa(Ee),this},S.__private__.circle=S.circle=function(A,I,ne,he){if(isNaN(A)||isNaN(I)||isNaN(ne)||!hr(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,I,ne,ne,he)},S.setFont=function(A,I,ne){return ne&&(I=ue(I,ne)),lt=Jl(A,I,{disableWarning:!1}),this};var so=S.__private__.getFont=S.getFont=function(){return Ct[Jl.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var A,I,ne={};for(A in Tt)if(Tt.hasOwnProperty(A))for(I in ne[A]=[],Tt[A])Tt[A].hasOwnProperty(I)&&ne[A].push(I);return ne},S.addFont=function(A,I,ne,he,Ee){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ne=ue(ne,he)),al.call(this,A,I,ne,Ee=Ee||"Identity-H")};var Oo,za=t.lineWidth||.200025,xa=S.__private__.getLineWidth=S.getLineWidth=function(){return za},Jt=S.__private__.setLineWidth=S.setLineWidth=function(A){return za=A,W(se(oe(A))+" w"),this};S.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(A,I){if(A=A||[],I=I||0,isNaN(I)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ne){return se(oe(ne))}).join(" "),I=se(oe(I)),W("["+A+"] "+I+" d"),this};var Zl=S.__private__.getLineHeight=S.getLineHeight=function(){return ze*Oo};S.__private__.getLineHeight=S.getLineHeight=function(){return ze*Oo};var yl=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Oo=A),this},Ql=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return Oo};yl(t.lineHeight);var Ir=S.__private__.getHorizontalCoordinate=function(A){return oe(A)},Vi=S.__private__.getVerticalCoordinate=function(A){return J===D?A:_e[G].mediaBox.topRightY-_e[G].mediaBox.bottomLeftY-oe(A)},vl=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(A){return se(Ir(A))},Ha=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(A){return se(Vi(A))},Dr=t.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return en(Dr)},S.__private__.setStrokeColor=S.setDrawColor=function(A,I,ne,he){return Dr=ti({ch1:A,ch2:I,ch3:ne,ch4:he,pdfColorType:"draw",precision:2}),W(Dr),this};var Ga=t.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return en(Ga)},S.__private__.setFillColor=S.setFillColor=function(A,I,ne,he){return Ga=ti({ch1:A,ch2:I,ch3:ne,ch4:he,pdfColorType:"fill",precision:2}),W(Ga),this};var wo=t.textColor||"0 g",eu=S.__private__.getTextColor=S.getTextColor=function(){return en(wo)};S.__private__.setTextColor=S.setTextColor=function(A,I,ne,he){return wo=ti({ch1:A,ch2:I,ch3:ne,ch4:he,pdfColorType:"text",precision:3}),this};var Or=t.charSpace,ws=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(Or||0)};S.__private__.setCharSpace=S.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Or=A,this};var Ss=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(A){var I=S.CapJoinStyles[A];if(I===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=I,W(I+" J"),this};var Bi=0;S.__private__.setLineJoin=S.setLineJoin=function(A){var I=S.CapJoinStyles[A];if(I===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bi=I,W(I+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(se(oe(A))+" M"),this},S.GState=cd,S.setGState=function(A){(A=typeof A=="string"?fe[xe[A]]:So(null,A)).equals(Fe)||(W("/"+A.id+" gs"),Fe=A)};var So=function(A,I){if(!A||!xe[A]){var ne=!1;for(var he in fe)if(fe.hasOwnProperty(he)&&fe[he].equals(I)){ne=!0;break}if(ne)I=fe[he];else{var Ee="GS"+(Object.keys(fe).length+1).toString(10);fe[Ee]=I,I.id=Ee}return A&&(xe[A]=I.id),Ze.publish("addGState",I),I}};S.addGState=function(A,I){return So(A,I),this},S.saveGraphicsState=function(){return W("q"),qt.push({key:lt,size:ze,color:wo}),this},S.restoreGraphicsState=function(){W("Q");var A=qt.pop();return lt=A.key,ze=A.size,wo=A.color,Fe=null,this},S.setCurrentTransformationMatrix=function(A){return W(A.toString()+" cm"),this},S.comment=function(A){return W("#"+A),this};var zr=function(A,I){var ne=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ke){isNaN(Ke)||(ne=parseFloat(Ke))}});var he=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Ke){isNaN(Ke)||(he=parseFloat(Ke))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Ke){Ee=Ke.toString()}}),this},zo=function(A,I,ne,he){zr.call(this,A,I),this.type="rect";var Ee=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(it){isNaN(it)||(Ee=parseFloat(it))}});var Ke=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(it){isNaN(it)||(Ke=parseFloat(it))}}),this},_s=function(){this.page=ve,this.currentPage=G,this.pages=me.slice(0),this.pagesContext=_e.slice(0),this.x=dt,this.y=Yt,this.matrix=bt,this.width=Go(G),this.height=xl(G),this.outputDestination=et,this.id="",this.objectNumber=-1};_s.prototype.restore=function(){ve=this.page,G=this.currentPage,_e=this.pagesContext,me=this.pages,dt=this.x,Yt=this.y,bt=this.matrix,ja(G,this.width),Vo(G,this.height),et=this.outputDestination};var Va=function(A,I,ne,he,Ee){He.push(new _s),ve=G=0,me=[],dt=A,Yt=I,bt=Ee,ro([ne,he])};for(var Ho in S.beginFormObject=function(A,I,ne,he,Ee){return Va(A,I,ne,he,Ee),this},S.endFormObject=function(A){return(function(I){if(Ge[I])He.pop().restore();else{var ne=new _s,he="Xo"+(Object.keys(Et).length+1).toString(10);ne.id=he,Ge[I]=he,Et[he]=ne,Ze.publish("addFormObject",ne),He.pop().restore()}})(A),this},S.doFormObject=function(A,I){var ne=Et[Ge[A]];return W("q"),W(I.toString()+" cm"),W("/"+ne.id+" Do"),W("Q"),this},S.getFormObject=function(A){var I=Et[Ge[A]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},S.save=function(A,I){return A=A||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(Bl(va(bo()),A),typeof Bl.unload=="function"&&Qt.setTimeout&&setTimeout(Bl.unload,911),this):new Promise(function(ne,he){try{var Ee=Bl(va(bo()),A);typeof Bl.unload=="function"&&Qt.setTimeout&&setTimeout(Bl.unload,911),ne(Ee)}catch(Ke){he(Ke.message)}})},Bt.API)Bt.API.hasOwnProperty(Ho)&&(Ho==="events"&&Bt.API.events.length?(function(A,I){var ne,he,Ee;for(Ee=I.length-1;Ee!==-1;Ee--)ne=I[Ee][0],he=I[Ee][1],A.subscribe.apply(A,[ne].concat(typeof he=="function"?[he]:he))})(Ze,Bt.API.events):S[Ho]=Bt.API[Ho]);function Go(A){return _e[A].mediaBox.topRightX-_e[A].mediaBox.bottomLeftX}function ja(A,I){_e[A].mediaBox.topRightX=I+_e[A].mediaBox.bottomLeftX}function xl(A){return _e[A].mediaBox.topRightY-_e[A].mediaBox.bottomLeftY}function Vo(A,I){_e[A].mediaBox.topRightY=I+_e[A].mediaBox.bottomLeftY}var jo=S.getPageWidth=function(A){return Go(A=A||G)/vt},tu=S.setPageWidth=function(A,I){ja(A,I*vt)},Yo=S.getPageHeight=function(A){return xl(A=A||G)/vt},nu=S.setPageHeight=function(A,I){Vo(A,I*vt)};return S.internal={pdfEscape:Lr,getStyle:hl,getFont:so,getFontSize:ft,getCharSpace:ws,getTextColor:eu,getLineHeight:Zl,getLineHeightFactor:Ql,getLineWidth:xa,write:at,getHorizontalCoordinate:Ir,getVerticalCoordinate:Vi,getCoordinateString:vl,getVerticalCoordinateString:Ha,collections:{},newObject:Ut,newAdditionalObject:ki,newObjectDeferred:Ft,newObjectDeferredBegin:bn,getFilters:Nn,putStream:Kn,events:Ze,scaleFactor:vt,pageSize:{getWidth:function(){return jo(G)},setWidth:function(A){tu(G,A)},getHeight:function(){return Yo(G)},setHeight:function(A){nu(G,A)}},encryptionOptions:y,encryption:Li,getEncryptor:function(A){return y!==null?Li.encryptor(A,0):function(I){return I}},output:fl,getNumberOfPages:ul,get pages(){return me},out:W,f2:F,f3:V,getPageInfo:wi,getPageInfoByObjId:bs,getCurrentPageInfo:Wl,getPDFVersion:N,Point:zr,Rectangle:zo,Matrix:Be,hasHotfix:dr},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return jo(G)},set:function(A){tu(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return Yo(G)},set:function(A){nu(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var I=0,ne=mt.length;I<ne;I++){var he=al.call(this,A[I][0],A[I][1],A[I][2],mt[I][3],!0);w===!1&&(E[he]=!0);var Ee=A[I][0].split("-");mi({id:he,fontName:Ee[0],fontStyle:Ee[1]||""})}Ze.publish("addFonts",{fonts:Ct,dictionary:Tt})}).call(S,mt),lt="F1",Bo(a,i),Ze.publish("initialized"),S}zu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},zu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zu.prototype.hexToBytes=function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(String.fromCharCode(parseInt(t.substr(i,2),16)));return e.join("")},zu.prototype.processOwnerPassword=function(t,e){return yp(gp(e).substr(0,5),t)},zu.prototype.encryptor=function(t,e){var i=gp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(o){return yp(i,o)}},cd.prototype.equals=function(t){var e,i="id,objectNumber,equals";if(!t||Hn(t)!==Hn(this))return!1;var o=0;for(e in this)if(!(i.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;o++}for(e in t)t.hasOwnProperty(e)&&i.indexOf(e)<0&&o--;return o===0},Bt.API={events:[]},Bt.version="3.0.4";var Mi=Bt.API,Pp=1,jl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(t){return t.toFixed(2)},tl=function(t){return t.toFixed(5)};Mi.__acroform__={};var io=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pm=function(t){return t*Pp},Fa=function(t){var e=new Ky,i=It.internal.getHeight(t)||0,o=It.internal.getWidth(t)||0;return e.BBox=[0,0,Number(an(o)),Number(an(i))],e},Qw=Mi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},e3=Mi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},t3=Mi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pi=Mi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return t3(t,e-1)},Ui=Mi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Qw(t,e-1)},Fi=Mi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return e3(t,e-1)},n3=Mi.__acroform__.calculateCoordinates=function(t,e){var i=e.internal.getHorizontalCoordinate,o=e.internal.getVerticalCoordinate,a=t[0],l=t[1],c=t[2],f=t[3],h={};return h.lowerLeft_X=i(a)||0,h.lowerLeft_Y=o(l+f)||0,h.upperRight_X=i(a+c)||0,h.upperRight_Y=o(l)||0,[Number(an(h.lowerLeft_X)),Number(an(h.lowerLeft_Y)),Number(an(h.upperRight_X)),Number(an(h.upperRight_Y))]},i3=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=t._V||t.DV,o=vp(t,i),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+an(o.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Fa(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},vp=function(t,e){var i=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(F){return F.split(`
`)}):a.map(function(F){return[F]});var l=i,c=It.internal.getHeight(t)||0;c=c<0?-c:c;var f=It.internal.getWidth(t)||0;f=f<0?-f:f;var h=function(F,V,oe){if(F+1<a.length){var ae=V+" "+a[F+1][0];return Kf(ae,t,oe).width<=f-4}return!1};l++;e:for(;l>0;){e="",l--;var d,y,w=Kf("3",t,l).height,E=t.multiline?c-l:(c-w)/2,S=E+=2,U=0,N=0,B=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Kf(e,t,l=12).width+", FieldWidth:"+f+`
`;break}for(var L="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var J=!1;if(a[D].length!==1&&B!==a[D].length-1){if((w+2)*(R+2)+2>c)continue e;L+=a[D][B],J=!0,N=D,D--}else{L=(L+=a[D][B]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var le=parseInt(D),pe=h(le,L,l),ue=D>=a.length-1;if(pe&&!ue){L+=" ",B=0;continue}if(pe||ue){if(ue)N=le;else if(t.multiline&&(w+2)*(R+2)+2>c)continue e}else{if(!t.multiline||(w+2)*(R+2)+2>c)continue e;N=le}}for(var se="",K=U;K<=N;K++){var X=a[K];if(t.multiline){if(K===N){se+=X[B]+" ",B=(B+1)%X.length;continue}if(K===U){se+=X[X.length-1]+" ";continue}}se+=X[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,y=Kf(se,t,l).width,t.textAlign){case"right":d=f-y-2;break;case"center":d=(f-y)/2;break;default:d=2}e+=an(d)+" "+an(S)+` Td
`,e+="("+jl(se)+`) Tj
`,e+=-an(d)+` 0 Td
`,S=-(l+2),y=0,U=J?N:N+1,R++,L=""}break}return o.text=e,o.fontSize=l,o},Kf=function(t,e,i){var o=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:e.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:a}},r3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},o3=function(t,e){var i={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===i.type&&o.object===i.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(i)},a3=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ma.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(r3)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $y,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(i){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(i){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];l.objId=void 0,l.hasAnnotation&&o3(l,i)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(i){if(i.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(i){(function(o,a){var l=!o;for(var c in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(c)){var f=o[c],h=[],d=f.Rect;if(f.Rect&&(f.Rect=n3(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=It.createDefaultAppearanceStream(f),Hn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(h=f.getKeyValueListForStream()),f.Rect=d,f.hasAppearanceStream&&!f.appearanceStreamContent){var y=i3(f);h.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(f.appearanceStreamContent){var w="";for(var E in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(E)){var S=f.appearanceStreamContent[E];if(w+="/"+E+" ",w+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var c in S)if(S.hasOwnProperty(c)){var U=S[c];typeof U=="function"&&(U=U.call(a,f)),w+="/"+c+" "+U+" ",a.internal.acroformPlugin.xForms.indexOf(U)>=0||a.internal.acroformPlugin.xForms.push(U)}}else typeof(U=S)=="function"&&(U=U.call(a,f)),w+="/"+c+" "+U,a.internal.acroformPlugin.xForms.indexOf(U)>=0||a.internal.acroformPlugin.xForms.push(U);w+=">>"}h.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:f.objId}),a.internal.out("endobj")}l&&(function(N,B){for(var L in N)if(N.hasOwnProperty(L)){var R=L,D=N[L];B.internal.newObjectDeferredBegin(D.objId,!0),Hn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(i,t)}),t.internal.acroformPlugin.isInitialized=!0}},Wy=Mi.__acroform__.arrayToPdfArray=function(t,e,i){var o=function(c){return c};if(Array.isArray(t)){for(var a="[",l=0;l<t.length;l++)switch(l!==0&&(a+=" "),Hn(t[l])){case"boolean":case"number":case"object":a+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&i&&(o=i.internal.getEncryptor(e)),a+="("+jl(o(t[l].toString()))+")"):a+=t[l].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rp=function(t,e,i){var o=function(a){return a};return e!==void 0&&i&&(o=i.internal.getEncryptor(e)),(t=t||"").toString(),"("+jl(o(t))+")"},Ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ba.prototype.toString=function(){return this.objId+" 0 R"},Ba.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ba.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var i in e)if(Object.getOwnPropertyDescriptor(this,e[i]).configurable===!1){var o=e[i],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:Wy(a,this.objId,this.scope)}):a instanceof Ba?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var Ky=function(){Ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(i){t=i.trim()},get:function(){return t||null}})};io(Ky,Ba);var $y=function(){Ba.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var i=function(o){return o};return this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),"("+jl(i(t))+")"}},set:function(i){t=i}})};io($y,Ba);var ma=function t(){Ba.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pi(e,3)},set:function(L){L?this.F=Ui(e,3):this.F=Fi(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');i=L}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(L){o=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(L){o[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(L){o[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(L){o[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(L){o[3]=L}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof fd)return;l="FieldObject"+t.FieldNum++}var L=function(R){return R};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+jl(L(l))+")"},set:function(L){l=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(L){l=L}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Pp:d},set:function(L){d=L}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(L){y=L}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof fd||this instanceof zl))return rp(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=L}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof lr==0?rp(E,this.objId,this.scope):E},set:function(L){L=L.toString(),E=this instanceof lr==0?L.substr(0,1)==="("?Bu(L.substr(1,L.length-2)):Bu(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?Bu(E.substr(1,E.length-1)):E},set:function(L){L=L.toString(),E=this instanceof lr==1?"/"+L:L}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof lr==0?rp(S,this.objId,this.scope):S},set:function(L){L=L.toString(),S=this instanceof lr==0?L.substr(0,1)==="("?Bu(L.substr(1,L.length-2)):Bu(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?Bu(S.substr(1,S.length-1)):S},set:function(L){L=L.toString(),S=this instanceof lr==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(L){L=!!L,N=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(L){U=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,1)},set:function(L){L?this.Ff=Ui(this.Ff,1):this.Ff=Fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,2)},set:function(L){L?this.Ff=Ui(this.Ff,2):this.Ff=Fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,3)},set:function(L){L?this.Ff=Ui(this.Ff,3):this.Ff=Fi(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');B=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(B){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};io(ma,Ba);var ju=function(){ma.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){t=i}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wy(e,this.objId,this.scope)},set:function(i){var o,a;a=[],typeof(o=i)=="string"&&(a=(function(l,c,f){f||(f=1);for(var h,d=[];h=c.exec(l);)d.push(h[f]);return d})(o,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(i){e=i,this.sort&&e.sort()},this.addOption=function(i){i=(i=i||"").toString(),e.push(i),this.sort&&e.sort()},this.removeOption=function(i,o){for(o=o||!1,i=(i=i||"").toString();e.indexOf(i)!==-1&&(e.splice(e.indexOf(i),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,18)},set:function(i){i?this.Ff=Ui(this.Ff,18):this.Ff=Fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,19)},set:function(i){this.combo===!0&&(i?this.Ff=Ui(this.Ff,19):this.Ff=Fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,20)},set:function(i){i?(this.Ff=Ui(this.Ff,20),e.sort()):this.Ff=Fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,22)},set:function(i){i?this.Ff=Ui(this.Ff,22):this.Ff=Fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(i){i?this.Ff=Ui(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,27)},set:function(i){i?this.Ff=Ui(this.Ff,27):this.Ff=Fi(this.Ff,27)}}),this.hasAppearanceStream=!1};io(ju,ma);var Yu=function(){ju.call(this),this.fontName="helvetica",this.combo=!1};io(Yu,ju);var Ju=function(){Yu.call(this),this.combo=!0};io(Ju,Yu);var nd=function(){Ju.call(this),this.edit=!0};io(nd,Ju);var lr=function(){ma.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,15)},set:function(i){i?this.Ff=Ui(this.Ff,15):this.Ff=Fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,16)},set:function(i){i?this.Ff=Ui(this.Ff,16):this.Ff=Fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,17)},set:function(i){i?this.Ff=Ui(this.Ff,17):this.Ff=Fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(i){i?this.Ff=Ui(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};if(this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var o,a=[];for(o in a.push("<<"),e)a.push("/"+o+" ("+jl(i(e[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(i){Hn(i)==="object"&&(e=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(i){typeof i=="string"&&(e.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}})};io(lr,ma);var id=function(){lr.call(this),this.pushButton=!0};io(id,lr);var Wu=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};io(Wu,lr);var fd=function(){var t,e;ma.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var i,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),o)c.push("/"+l+" ("+jl(a(o[l]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Hn(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(a){i="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};io(fd,ma),Wu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},Wu.prototype.createOption=function(t){var e=new fd;return e.Parent=this,e.optionName=t,this.Kids.push(e),s3.call(this.scope,e),e};var rd=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};io(rd,lr);var zl=function(){ma.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,13)},set:function(e){e?this.Ff=Ui(this.Ff,13):this.Ff=Fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,21)},set:function(e){e?this.Ff=Ui(this.Ff,21):this.Ff=Fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(e){e?this.Ff=Ui(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,24)},set:function(e){e?this.Ff=Ui(this.Ff,24):this.Ff=Fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,25)},set:function(e){e?this.Ff=Ui(this.Ff,25):this.Ff=Fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(e){e?this.Ff=Ui(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};io(zl,ma);var od=function(){zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,14)},set:function(t){t?this.Ff=Ui(this.Ff,14):this.Ff=Fi(this.Ff,14)}}),this.password=!0};io(od,zl);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),l=vp(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+an(It.internal.getWidth(t))+" "+an(It.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+o+" "+an(l.fontSize)+" Tf "+a),i.push("BT"),i.push(l.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join(`
`),e},YesNormal:function(t){var e=Fa(t);e.scope=t.scope;var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],l=It.internal.getHeight(t),c=It.internal.getWidth(t),f=vp(t,t.caption);return a.push("1 g"),a.push("0 0 "+an(c)+" "+an(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+an(c-1)+" "+an(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+i+" "+an(f.fontSize)+" Tf "+o),a.push(f.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+an(It.internal.getWidth(t))+" "+an(It.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Circle.YesNormal,e.D[t]=It.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fa(t);e.scope=t.scope;var i=[],o=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=It.internal.Bezier_C,l=Number((o*a).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+tl(It.internal.getWidth(t)/2)+" "+tl(It.internal.getHeight(t)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),i.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),i.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),i.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=[],o=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*It.internal.Bezier_C).toFixed(5)),c=Number((o*It.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+tl(It.internal.getWidth(t)/2)+" "+tl(It.internal.getHeight(t)/2)+" cm"),i.push(a+" 0 m"),i.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),i.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),i.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),i.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+tl(It.internal.getWidth(t)/2)+" "+tl(It.internal.getHeight(t)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),i.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),i.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),i.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=[],o=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),l=Number((a*It.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+tl(It.internal.getWidth(t)/2)+" "+tl(It.internal.getHeight(t)/2)+" cm"),i.push(a+" 0 m"),i.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),i.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),i.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),i.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Cross.YesNormal,e.D[t]=It.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fa(t);e.scope=t.scope;var i=[],o=It.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+an(It.internal.getWidth(t)-2)+" "+an(It.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(an(o.x1.x)+" "+an(o.x1.y)+" m"),i.push(an(o.x2.x)+" "+an(o.x2.y)+" l"),i.push(an(o.x4.x)+" "+an(o.x4.y)+" m"),i.push(an(o.x3.x)+" "+an(o.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=It.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+an(It.internal.getWidth(t))+" "+an(It.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+an(It.internal.getWidth(t)-2)+" "+an(It.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(an(i.x1.x)+" "+an(i.x1.y)+" m"),o.push(an(i.x2.x)+" "+an(i.x2.y)+" l"),o.push(an(i.x4.x)+" "+an(i.x4.y)+" m"),o.push(an(i.x3.x)+" "+an(i.x3.y)+" l"),o.push("s"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=Fa(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+an(It.internal.getWidth(t))+" "+an(It.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};It.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=It.internal.getWidth(t),i=It.internal.getHeight(t),o=Math.min(e,i);return{x1:{x:(e-o)/2,y:(i-o)/2+o},x2:{x:(e-o)/2+o,y:(i-o)/2},x3:{x:(e-o)/2,y:(i-o)/2},x4:{x:(e-o)/2+o,y:(i-o)/2+o}}}},It.internal.getWidth=function(t){var e=0;return Hn(t)==="object"&&(e=pm(t.Rect[2])),e},It.internal.getHeight=function(t){var e=0;return Hn(t)==="object"&&(e=pm(t.Rect[3])),e};var s3=Mi.addField=function(t){if(a3(this,t),!(t instanceof ma))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=ju,Mi.AcroFormListBox=Yu,Mi.AcroFormComboBox=Ju,Mi.AcroFormEditBox=nd,Mi.AcroFormButton=lr,Mi.AcroFormPushButton=id,Mi.AcroFormRadioButton=Wu,Mi.AcroFormCheckBox=rd,Mi.AcroFormTextField=zl,Mi.AcroFormPasswordField=od,Mi.AcroFormAppearance=It,Mi.AcroForm={ChoiceField:ju,ListBox:Yu,ComboBox:Ju,EditBox:nd,Button:lr,PushButton:id,RadioButton:Wu,CheckBox:rd,TextField:zl,PasswordField:od,Appearance:It},Bt.AcroForm={ChoiceField:ju,ListBox:Yu,ComboBox:Ju,EditBox:nd,Button:lr,PushButton:id,RadioButton:Wu,CheckBox:rd,TextField:zl,PasswordField:od,Appearance:It};Bt.AcroForm;function Xy(t){return t.reduce(function(e,i,o){return e[i]=o,e},{})}(function(t){var e="addImage_";t.__addimage__={};var i="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(F,V){var oe,ae,Te,Z,de,re=i;if((V=V||i)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(pe(F))for(de in o)for(Te=o[de],oe=0;oe<Te.length;oe+=1){for(Z=!0,ae=0;ae<Te[oe].length;ae+=1)if(Te[oe][ae]!==void 0&&Te[oe][ae]!==F[ae]){Z=!1;break}if(Z===!0){re=de;break}}else for(de in o)for(Te=o[de],oe=0;oe<Te.length;oe+=1){for(Z=!0,ae=0;ae<Te[oe].length;ae+=1)if(Te[oe][ae]!==void 0&&Te[oe][ae]!==F.charCodeAt(ae)){Z=!1;break}if(Z===!0){re=de;break}}return re===i&&V!==i&&(re=V),re},l=function F(V){for(var oe=this.internal.write,ae=this.internal.putStream,Te=(0,this.internal.getFilters)();Te.indexOf("FlateEncode")!==-1;)Te.splice(Te.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:V.width}),Z.push({key:"Height",value:V.height}),V.colorSpace===L.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===L.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var de="",re=0,ke=V.transparency.length;re<ke;re++)de+=V.transparency[re]+" "+V.transparency[re]+" ";Z.push({key:"Mask",value:"["+de+"]"})}V.sMask!==void 0&&Z.push({key:"SMask",value:V.objectId+1+" 0 R"});var qe=V.filter!==void 0?["/"+V.filter]:void 0;if(ae({data:V.data,additionalKeyValues:Z,alreadyAppliedFilters:qe,objectId:V.objectId}),oe("endobj"),"sMask"in V&&V.sMask!==void 0){var Y,k=(Y=V.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:V.bitsPerComponent,G={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:V.sMask};"filter"in V&&(G.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(V.width),G.filter=V.filter),F.call(this,G)}if(V.colorSpace===L.INDEXED){var z=this.internal.newObject();ae({data:se(new Uint8Array(V.palette)),objectId:z}),oe("endobj")}},c=function(){var F=this.internal.collections[e+"images"];for(var V in F)l.call(this,F[V])},f=function(){var F,V=this.internal.collections[e+"images"],oe=this.internal.write;for(var ae in V)oe("/I"+(F=V[ae]).index,F.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",f))},d=function(){var F=this.internal.collections[e+"images"];return h.call(this),F},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(F){return typeof t["process"+F.toUpperCase()]=="function"},E=function(F){return Hn(F)==="object"&&F.nodeType===1},S=function(F,V){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var oe=""+F.getAttribute("src");if(oe.indexOf("data:image/")===0)return td(unescape(oe).split("base64,").pop());var ae=t.loadFile(oe,!0);if(ae!==void 0)return ae}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var Te;switch(V){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;default:Te="image/jpeg"}return td(F.toDataURL(Te,1).split("base64,").pop())}},U=function(F){var V=this.internal.collections[e+"images"];if(V){for(var oe in V)if(F===V[oe].alias)return V[oe]}},N=function(F,V,oe){return F||V||(F=-96,V=-96),F<0&&(F=-1*oe.width*72/F/this.internal.scaleFactor),V<0&&(V=-1*oe.height*72/V/this.internal.scaleFactor),F===0&&(F=V*oe.width/oe.height),V===0&&(V=F*oe.height/oe.width),[F,V]},B=function(F,V,oe,ae,Te,Z){var de=N.call(this,oe,ae,Te),re=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString,qe=d.call(this);if(oe=de[0],ae=de[1],qe[Te.index]=Te,Z){Z*=Math.PI/180;var Y=Math.cos(Z),k=Math.sin(Z),G=function(Q){return Q.toFixed(4)},z=[G(Y),G(k),G(-1*k),G(Y),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,re(F),ke(V+ae),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([re(oe),"0","0",re(ae),"0","0","cm"].join(" "))):this.internal.write([re(oe),"0","0",re(ae),re(F),ke(V+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},L=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(F){var V,oe,ae=0;if(typeof F=="string")for(oe=F.length,V=0;V<oe;V++)ae=(ae<<5)-ae+F.charCodeAt(V),ae|=0;else if(pe(F))for(oe=F.byteLength/2,V=0;V<oe;V++)ae=(ae<<5)-ae+F[V],ae|=0;return ae},J=t.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var V=!0;return F.length===0&&(V=!1),F.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(V=!1),V},le=t.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var V=F.indexOf(",");return V<0?null:F.substring(0,V).trim().endsWith("base64")?F.substring(V+1):null};t.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var pe=t.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},ue=t.__addimage__.binaryStringToUint8Array=function(F){for(var V=F.length,oe=new Uint8Array(V),ae=0;ae<V;ae++)oe[ae]=F.charCodeAt(ae);return oe},se=t.__addimage__.arrayBufferToBinaryString=function(F){for(var V="",oe=pe(F)?F:new Uint8Array(F),ae=0;ae<oe.length;ae+=8192)V+=String.fromCharCode.apply(null,oe.subarray(ae,ae+8192));return V};t.addImage=function(){var F,V,oe,ae,Te,Z,de,re,ke;if(typeof arguments[1]=="number"?(V=i,oe=arguments[1],ae=arguments[2],Te=arguments[3],Z=arguments[4],de=arguments[5],re=arguments[6],ke=arguments[7]):(V=arguments[1],oe=arguments[2],ae=arguments[3],Te=arguments[4],Z=arguments[5],de=arguments[6],re=arguments[7],ke=arguments[8]),Hn(F=arguments[0])==="object"&&!E(F)&&"imageData"in F){var qe=F;F=qe.imageData,V=qe.format||V||i,oe=qe.x||oe||0,ae=qe.y||ae||0,Te=qe.w||qe.width||Te,Z=qe.h||qe.height||Z,de=qe.alias||de,re=qe.compression||re,ke=qe.rotation||qe.angle||ke}var Y=this.internal.getFilters();if(re===void 0&&Y.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(oe)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var k=K.call(this,F,V,de,re);return B.call(this,oe,ae,Te,Z,k,ke),this};var K=function(F,V,oe,ae){var Te,Z,de;if(typeof F=="string"&&a(F)===i){F=unescape(F);var re=X(F,!1);(re!==""||(re=t.loadFile(F,!0))!==void 0)&&(F=re)}if(E(F)&&(F=S(F,V)),V=a(F,V),!w(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((de=oe)==null||de.length===0)&&(oe=(function(ke){return typeof ke=="string"||pe(ke)?D(ke):pe(ke.data)?D(ke.data):null})(F)),(Te=U.call(this,oe))||(F instanceof Uint8Array||V==="RGBA"||(Z=F,F=ue(F)),Te=this["process"+V.toUpperCase()](F,y.call(this),oe,(function(ke){return ke&&typeof ke=="string"&&(ke=ke.toUpperCase()),ke in t.image_compression?ke:R.NONE})(ae),Z)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},X=t.__addimage__.convertBase64ToBinaryString=function(F,V){V=typeof V!="boolean"||V;var oe,ae="";if(typeof F=="string"){var Te;oe=(Te=le(F))!==null&&Te!==void 0?Te:F;try{ae=td(oe)}catch(Z){if(V)throw J(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(F){var V,oe,ae="";if(E(F)&&(F=S(F)),typeof F=="string"&&a(F)===i&&((ae=X(F,!1))===""&&(ae=t.loadFile(F)||""),F=ae),oe=a(F),!w(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(F instanceof Uint8Array||(F=ue(F)),!(V=this["process"+oe.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=oe,V}})(Bt.API),(function(t){var e=function(i){if(i!==void 0&&i!="")return!0};Bt.API.events.push(["addPage",function(i){this.internal.getPageInfo(i.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(i){for(var o,a,l,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(i.objId),d=i.pageContext.annotations,y=!1,w=0;w<d.length&&!y;w++)switch((o=d[w]).type){case"link":(e(o.options.url)||e(o.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){o=d[E];var S=this.internal.pdfEscape,U=this.internal.getEncryptor(i.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(N.objId),R=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(o.bounds.x)+" "+f(o.bounds.y+o.bounds.h)+" "+c(o.bounds.x+o.bounds.w)+" "+f(o.bounds.y)+"] ")+"/Contents ("+S(L(o.contents))+")",l+=" /Popup "+B.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+S(L(R))+") >>",N.content=l;var D=N.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(o.bounds.x+30)+" "+f(o.bounds.y+o.bounds.h)+" "+c(o.bounds.x+o.bounds.w+30)+" "+f(o.bounds.y)+"] ")+" /Parent "+D,o.open&&(l+=" /Open true"),l+=" >>",B.content=l,this.internal.write(N.objId,"0 R",B.objId,"0 R");break;case"freetext":a="/Rect ["+c(o.bounds.x)+" "+f(o.bounds.y)+" "+c(o.bounds.x+o.bounds.w)+" "+f(o.bounds.y+o.bounds.h)+"] ";var J=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+S(U(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var le=this.annotations._nameMap[o.options.name];o.options.pageNumber=le.page,o.options.top=le.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+S(U(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;default:var pe=f(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+pe+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(i){var o=this.internal.getCurrentPageInfo();switch(i.type){case"link":this.link(i.bounds.x,i.bounds.y,i.bounds.w,i.bounds.h,i);break;case"text":case"freetext":o.pageContext.annotations.push(i)}},t.link=function(i,o,a,l,c){var f=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:h(i),y:d(o),w:h(i+a),h:d(o+l)},options:c,type:"link"})},t.textWithLink=function(i,o,a,l){var c,f,h=this.getTextWidth(i),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){f=l.maxWidth;var y=this.splitTextToSize(i,f).length;c=Math.ceil(d*y)}else f=h,c=d;return this.text(i,o,a,l),a+=.2*d,l.align==="center"&&(o-=h/2),l.align==="right"&&(o-=h),this.link(o,a-d,f,c,l),h},t.getTextWidth=function(i){var o=this.internal.getFontSize();return this.getStringUnitWidth(i)*o/this.internal.scaleFactor}})(Bt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},f=t.__arabicParser__.isArabicEndLetter=function(N){return c(N)&&l(N)&&e[N.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(N){return c(N)&&a.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return c(N)&&l(N)&&e[N.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return c(N)&&l(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return c(N)&&l(N)&&e[N.charCodeAt(0)].length>=3};var y=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return c(N)&&l(N)&&e[N.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(N){var B=0,L=i,R="",D=0;for(B=0;B<N.length;B+=1)L[N.charCodeAt(B)]!==void 0?(D++,typeof(L=L[N.charCodeAt(B)])=="number"&&(R+=String.fromCharCode(L),L=i,D=0),B===N.length-1&&(L=i,R+=N.charAt(B-(D-1)),B-=D-1,D=0)):(L=i,R+=N.charAt(B-D),B-=D,D=0);return R};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&o[N.charCodeAt(0)]!==void 0};var E=t.__arabicParser__.getCorrectForm=function(N,B,L){return c(N)?l(N)===!1?-1:!d(N)||!c(B)&&!c(L)||!c(L)&&f(B)||f(N)&&!c(B)||f(N)&&h(B)||f(N)&&f(B)?0:y(N)&&c(B)&&!f(B)&&c(L)&&d(L)?3:f(N)||!c(L)?1:2:-1},S=function(N){var B=0,L=0,R=0,D="",J="",le="",pe=(N=N||"").split("\\s+"),ue=[];for(B=0;B<pe.length;B+=1){for(ue.push(""),L=0;L<pe[B].length;L+=1)D=pe[B][L],J=pe[B][L-1],le=pe[B][L+1],c(D)?(R=E(D,J,le),ue[B]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):ue[B]+=D;ue[B]=w(ue[B])}return ue.join(" ")},U=t.__arabicParser__.processArabic=t.processArabic=function(){var N,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(B)){var R=0;for(L=[],R=0;R<B.length;R+=1)Array.isArray(B[R])?L.push([S(B[R][0]),B[R][1],B[R][2]]):L.push([S(B[R])]);N=L}else N=S(B);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",U])})(Bt.API),Bt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var i=void 0;Object.defineProperty(this,"pdf",{get:function(){return i},set:function(f){i=f}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(f){o=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(f){l=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(i,o){var a;if((i=i||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},i=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(N){E=N}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(N){S=N}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(N){U=N}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return o.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,d){o.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,S=0,U=0,N=0,B=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=d.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(D,J){return D.concat(B.splitTextToSize(J,L))},[])):h=Array.isArray(h)?h:[h];for(var R=0;R<h.length;R++)S<(N=this.getStringUnitWidth(h[R],{font:w})*y)&&(S=N);return S!==0&&(U=h.length),{w:S/=E,h:Math.max((U*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/E,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=w.top,S&&E&&(this.printHeaderRow(h.lineNumber,!0),h.y+=E[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,i===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-y,h.y+y,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+y,{align:"center",baseline:"top",maxWidth:h.width-y-y}):this.text(h.text,h.x+y,h.y+y,{align:"left",baseline:"top",maxWidth:h.width-y-y})),this.internal.__cell__.lastCell=h,this};t.table=function(h,d,y,w,E){if(o.call(this),!y)throw new Error("No data for PDF table.");var S,U,N,B,L=[],R=[],D=[],J={},le={},pe=[],ue=[],se=(E=E||{}).autoSize||!1,K=E.printHeaders!==!1,X=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,F=E.margins||Object.assign({width:this.getPageWidth()},e),V=typeof E.padding=="number"?E.padding:3,oe=E.headerBackgroundColor||"#c8c8c8",ae=E.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=ae,this.setFontSize(X),w==null)R=L=Object.keys(y[0]),D=L.map(function(){return"left"});else if(Array.isArray(w)&&Hn(w[0])==="object")for(L=w.map(function(qe){return qe.name}),R=w.map(function(qe){return qe.prompt||qe.name||""}),D=w.map(function(qe){return qe.align||"left"}),S=0;S<w.length;S+=1)le[w[S].name]=.7499990551181103*w[S].width;else Array.isArray(w)&&typeof w[0]=="string"&&(R=L=w,D=L.map(function(){return"left"}));if(se||Array.isArray(w)&&typeof w[0]=="string")for(S=0;S<L.length;S+=1){for(J[B=L[S]]=y.map(function(qe){return qe[B]}),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(R[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=J[B],this.setFont(void 0,"normal"),N=0;N<U.length;N+=1)pe.push(this.getTextDimensions(U[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[B]=Math.max.apply(null,pe)+V+V,pe=[]}if(K){var Te={};for(S=0;S<L.length;S+=1)Te[L[S]]={},Te[L[S]].text=R[S],Te[L[S]].align=D[S];var Z=f.call(this,Te,le);ue=L.map(function(qe){return new l(h,d,le[qe],Z,Te[qe].text,void 0,Te[qe].align)}),this.setTableHeaderRow(ue),this.printHeaderRow(1,!1)}var de=w.reduce(function(qe,Y){return qe[Y.name]=Y.align,qe},{});for(S=0;S<y.length;S+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:S,data:y[S]},this);var re=f.call(this,y[S],le);for(N=0;N<L.length;N+=1){var ke=y[S][L[N]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:S,col:N,data:ke},this),c.call(this,new l(h,d,le[L[N]],re,ke,S+2,de[L[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var f=function(h,d){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(h).map(function(S){var U=h[S];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,d[S]-y-y)},this).map(function(S){return this.getLineHeightFactor()*S.length*w/E+y+y},this).reduce(function(S,U){return Math.max(S,U)},0)};t.setTableHeaderRow=function(h){o.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,d){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(i=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){y=this.internal.__cell__.tableHeaderRow[S].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,E.push(y)),y.lineNumber=h;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(U)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),i=!1}})(Bt.API);var Zy={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qy=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xp=Xy(Qy),e5=[100,200,300,400,500,600,700,800,900],l3=Xy(e5);function op(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),i=(function(l){return Zy[l=l||"normal"]?l:"normal"})(t.style),o=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(t.weight),a=(function(l){return typeof xp[l=l||"normal"]=="number"?l:"normal"})(t.stretch);return{family:e,style:i,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,i,o].join(" ")}}}function mm(t,e,i,o){var a;for(a=i;a>=0&&a<e.length;a+=o)if(t[e[a]])return t[e[a]];for(a=i;a>=0&&a<e.length;a-=o)if(t[e[a]])return t[e[a]]}var u3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ym(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vm(t){return t.trimLeft()}function c3(t,e){for(var i=0;i<t.length;){if(t.charAt(i)===e)return[t.substring(0,i),t.substring(i+1)];i+=1}return null}function f3(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $f,xm,bm,qu,Xf,wm,Sm,_m,ap=["times"];function Am(t,e,i,o,a){var l=4,c=Cm;switch(a){case Bt.API.image_compression.FAST:l=1,c=Em;break;case Bt.API.image_compression.MEDIUM:l=6,c=Tm;break;case Bt.API.image_compression.SLOW:l=9,c=Nm}t=(function(h,d,y,w){for(var E,S=h.length/d,U=new Uint8Array(h.length+S),N=[d3,Em,Cm,Tm,Nm],B=0;B<S;B+=1){var L=B*d,R=h.subarray(L,L+d);if(w)U.set(w(R,y,E),L+B);else{for(var D=N.length,J=[],le=0;le<D;le+=1)J[le]=N[le](R,y,E);var pe=p3(J.concat());U.set(J[pe],L+B)}E=R}return U})(t,e,Math.ceil(i*o/8),c);var f=dp(t,{level:l});return Bt.API.__addimage__.arrayBufferToBinaryString(f)}function d3(t){var e=Array.apply([],t);return e.unshift(0),e}function Em(t,e){var i=t.length,o=[];o[0]=1;for(var a=0;a<i;a+=1){var l=t[a-e]||0;o[a+1]=t[a]-l+256&255}return o}function Cm(t,e,i){var o=t.length,a=[];a[0]=2;for(var l=0;l<o;l+=1){var c=i&&i[l]||0;a[l+1]=t[l]-c+256&255}return a}function Tm(t,e,i){var o=t.length,a=[];a[0]=3;for(var l=0;l<o;l+=1){var c=t[l-e]||0,f=i&&i[l]||0;a[l+1]=t[l]+256-(c+f>>>1)&255}return a}function Nm(t,e,i){var o=t.length,a=[];a[0]=4;for(var l=0;l<o;l+=1){var c=h3(t[l-e]||0,i&&i[l]||0,i&&i[l-e]||0);a[l+1]=t[l]-c+256&255}return a}function h3(t,e,i){if(t===e&&e===i)return t;var o=Math.abs(e-i),a=Math.abs(t-i),l=Math.abs(t+e-i-i);return o<=a&&o<=l?t:a<=l?e:i}function p3(t){var e=t.map(function(i){return i.reduce(function(o,a){return o+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function sp(t,e,i){var o=e*i,a=Math.floor(o/8),l=16-(o-8*a+i),c=(1<<i)-1;return t5(t,a)>>l&c}function Mm(t,e,i,o){var a=i*o,l=Math.floor(a/8),c=16-(a-8*l+o),f=(1<<o)-1,h=(e&f)<<c;(function(d,y,w){if(y+1<d.byteLength)d.setUint16(y,w,!1);else{var E=w>>8&255;d.setUint8(y,E)}})(t,l,t5(t,l)&~(f<<c)&65535|h)}function t5(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function m3(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,o=t[e++]|t[e++]<<8,a=t[e++],l=a>>7,c=1<<1+(7&a);t[e++],t[e++];var f=null,h=null;l&&(f=e,h=c,e+=3*c);var d=!0,y=[],w=0,E=null,S=0,U=null;for(this.width=i,this.height=o;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,U=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];w=t[e++]|t[e++]<<8,E=t[e++],1&N||(E=null),S=N>>2&7,e++;break;case 254:for(;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,J=t[e++],le=J>>6&1,pe=1<<1+(7&J),ue=f,se=h,K=!1;J>>7&&(K=!0,ue=e,se=pe,e+=3*pe);var X=e;for(e++;;){var F;if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}y.push({x:B,y:L,width:R,height:D,has_local_palette:K,palette_offset:ue,palette_size:se,data_offset:X,data_length:e-X,transparent_index:E,interlaced:!!le,delay:w,disposal:S});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return U},this.frameInfo=function(V){if(V<0||V>=y.length)throw new Error("Frame index out of range.");return y[V]},this.decodeAndBlitFrameBGRA=function(V,oe){var ae=this.frameInfo(V),Te=ae.width*ae.height,Z=new Uint8Array(Te);km(t,ae.data_offset,Z,Te);var de=ae.palette_offset,re=ae.transparent_index;re===null&&(re=256);var ke=ae.width,qe=i-ke,Y=ke,k=4*(ae.y*i+ae.x),G=4*((ae.y+ae.height)*i+ae.x),z=k,Q=4*qe;ae.interlaced===!0&&(Q+=4*i*7);for(var ie=8,ge=0,Ae=Z.length;ge<Ae;++ge){var Ne=Z[ge];if(Y===0&&(Y=ke,(z+=Q)>=G&&(Q=4*qe+4*i*(ie-1),z=k+(ke+qe)*(ie<<1),ie>>=1)),Ne===re)z+=4;else{var we=t[de+3*Ne],me=t[de+3*Ne+1],Xe=t[de+3*Ne+2];oe[z++]=Xe,oe[z++]=me,oe[z++]=we,oe[z++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(V,oe){var ae=this.frameInfo(V),Te=ae.width*ae.height,Z=new Uint8Array(Te);km(t,ae.data_offset,Z,Te);var de=ae.palette_offset,re=ae.transparent_index;re===null&&(re=256);var ke=ae.width,qe=i-ke,Y=ke,k=4*(ae.y*i+ae.x),G=4*((ae.y+ae.height)*i+ae.x),z=k,Q=4*qe;ae.interlaced===!0&&(Q+=4*i*7);for(var ie=8,ge=0,Ae=Z.length;ge<Ae;++ge){var Ne=Z[ge];if(Y===0&&(Y=ke,(z+=Q)>=G&&(Q=4*qe+4*i*(ie-1),z=k+(ke+qe)*(ie<<1),ie>>=1)),Ne===re)z+=4;else{var we=t[de+3*Ne],me=t[de+3*Ne+1],Xe=t[de+3*Ne+2];oe[z++]=we,oe[z++]=me,oe[z++]=Xe,oe[z++]=255}--Y}}}function km(t,e,i,o){for(var a=t[e++],l=1<<a,c=l+1,f=c+1,h=a+1,d=(1<<h)-1,y=0,w=0,E=0,S=t[e++],U=new Int32Array(4096),N=null;;){for(;y<16&&S!==0;)w|=t[e++]<<y,y+=8,S===1?S=t[e++]:--S;if(y<h)break;var B=w&d;if(w>>=h,y-=h,B!==l){if(B===c)break;for(var L=B<f?B:N,R=0,D=L;D>l;)D=U[D]>>8,++R;var J=D;if(E+R+(L!==B?1:0)>o)return void Qn.log("Warning, gif stream longer than expected.");i[E++]=J;var le=E+=R;for(L!==B&&(i[E++]=J),D=L;R--;)D=U[D],i[--le]=255&D,D>>=8;N!==null&&f<4096&&(U[f++]=N<<8|J,f>=d+1&&h<12&&(++h,d=d<<1|1)),N=B}else f=c+1,d=(1<<(h=a+1))-1,N=null}return E!==o&&Qn.log("Warning, gif stream shorter than expected."),i}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lp(t){var e,i,o,a,l,c=Math.floor,f=new Array(64),h=new Array(64),d=new Array(64),y=new Array(64),w=new Array(65535),E=new Array(65535),S=new Array(64),U=new Array(64),N=[],B=0,L=7,R=new Array(64),D=new Array(64),J=new Array(64),le=new Array(256),pe=new Array(2048),ue=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(k,G){for(var z=0,Q=0,ie=new Array,ge=1;ge<=16;ge++){for(var Ae=1;Ae<=k[ge];Ae++)ie[G[Q]]=[],ie[G[Q]][0]=z,ie[G[Q]][1]=ge,Q++,z++;z*=2}return ie}function de(k){for(var G=k[0],z=k[1]-1;z>=0;)G&1<<z&&(B|=1<<L),z--,--L<0&&(B==255?(re(255),re(0)):re(B),L=7,B=0)}function re(k){N.push(k)}function ke(k){re(k>>8&255),re(255&k)}function qe(k,G,z,Q,ie){for(var ge,Ae=ie[0],Ne=ie[240],we=(function(ze,St){var ft,Mt,ut,jt,sn,yt,Pe,ct,lt,vt,dt=0;for(lt=0;lt<8;++lt){ft=ze[dt],Mt=ze[dt+1],ut=ze[dt+2],jt=ze[dt+3],sn=ze[dt+4],yt=ze[dt+5],Pe=ze[dt+6];var Yt=ft+(ct=ze[dt+7]),bt=ft-ct,Ct=Mt+Pe,Tt=Mt-Pe,qt=ut+yt,rt=ut-yt,Ht=jt+sn,fe=jt-sn,xe=Yt+Ht,Fe=Yt-Ht,ve=Ct+qt,_e=Ct-qt;ze[dt]=xe+ve,ze[dt+4]=xe-ve;var Ze=.707106781*(_e+Fe);ze[dt+2]=Fe+Ze,ze[dt+6]=Fe-Ze;var Je=.382683433*((xe=fe+rt)-(_e=Tt+bt)),Et=.5411961*xe+Je,Ge=1.306562965*_e+Je,He=.707106781*(ve=rt+Tt),Be=bt+He,Ye=bt-He;ze[dt+5]=Ye+Et,ze[dt+3]=Ye-Et,ze[dt+1]=Be+Ge,ze[dt+7]=Be-Ge,dt+=8}for(dt=0,lt=0;lt<8;++lt){ft=ze[dt],Mt=ze[dt+8],ut=ze[dt+16],jt=ze[dt+24],sn=ze[dt+32],yt=ze[dt+40],Pe=ze[dt+48];var pt=ft+(ct=ze[dt+56]),Ot=ft-ct,tn=Mt+Pe,Ut=Mt-Pe,Ft=ut+yt,bn=ut-yt,ki=jt+sn,gn=jt-sn,Xt=pt+ki,en=pt-ki,ti=tn+Ft,Nn=tn-Ft;ze[dt]=Xt+ti,ze[dt+32]=Xt-ti;var Kn=.707106781*(Nn+en);ze[dt+16]=en+Kn,ze[dt+48]=en-Kn;var br=.382683433*((Xt=gn+bn)-(Nn=Ut+Ot)),Gi=.5411961*Xt+br,ur=1.306562965*Nn+br,kr=.707106781*(ti=bn+Ut),cr=Ot+kr,Qi=Ot-kr;ze[dt+40]=Qi+Gi,ze[dt+24]=Qi-Gi,ze[dt+8]=cr+ur,ze[dt+56]=cr-ur,dt++}for(lt=0;lt<64;++lt)vt=ze[lt]*St[lt],S[lt]=vt>0?vt+.5|0:vt-.5|0;return S})(k,G),me=0;me<64;++me)U[ue[me]]=we[me];var Xe=U[0]-z;z=U[0],Xe==0?de(Q[0]):(de(Q[E[ge=32767+Xe]]),de(w[ge]));for(var et=63;et>0&&U[et]==0;)et--;if(et==0)return de(Ae),z;for(var ot,W=1;W<=et;){for(var at=W;U[W]==0&&W<=et;)++W;var wt=W-at;if(wt>=16){ot=wt>>4;for(var mt=1;mt<=ot;++mt)de(Ne);wt&=15}ge=32767+U[W],de(ie[(wt<<4)+E[ge]]),de(w[ge]),W++}return et!=63&&de(Ae),z}function Y(k){k=Math.min(Math.max(k,1),100),l!=k&&((function(G){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ie=c((z[Q]*G+50)/100);ie=Math.min(Math.max(ie,1),255),f[ue[Q]]=ie}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Ne=c((ge[Ae]*G+50)/100);Ne=Math.min(Math.max(Ne,1),255),h[ue[Ae]]=Ne}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,Xe=0;Xe<8;Xe++)for(var et=0;et<8;et++)d[me]=1/(f[ue[me]]*we[Xe]*we[et]*8),y[me]=1/(h[ue[me]]*we[Xe]*we[et]*8),me++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),l=k)}this.encode=function(k,G){G&&Y(G),N=new Array,B=0,L=7,ke(65496),ke(65504),ke(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ke(1),ke(1),re(0),re(0),(function(){ke(65499),ke(132),re(0);for(var Mt=0;Mt<64;Mt++)re(f[Mt]);re(1);for(var ut=0;ut<64;ut++)re(h[ut])})(),(function(Mt,ut){ke(65472),ke(17),re(8),ke(ut),ke(Mt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(k.width,k.height),(function(){ke(65476),ke(418),re(0);for(var Mt=0;Mt<16;Mt++)re(se[Mt+1]);for(var ut=0;ut<=11;ut++)re(K[ut]);re(16);for(var jt=0;jt<16;jt++)re(X[jt+1]);for(var sn=0;sn<=161;sn++)re(F[sn]);re(1);for(var yt=0;yt<16;yt++)re(V[yt+1]);for(var Pe=0;Pe<=11;Pe++)re(oe[Pe]);re(17);for(var ct=0;ct<16;ct++)re(ae[ct+1]);for(var lt=0;lt<=161;lt++)re(Te[lt])})(),ke(65498),ke(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var z=0,Q=0,ie=0;B=0,L=7,this.encode.displayName="_encode_";for(var ge,Ae,Ne,we,me,Xe,et,ot,W,at=k.data,wt=k.width,mt=k.height,ze=4*wt,St=0;St<mt;){for(ge=0;ge<ze;){for(me=ze*St+ge,et=-1,ot=0,W=0;W<64;W++)Xe=me+(ot=W>>3)*ze+(et=4*(7&W)),St+ot>=mt&&(Xe-=ze*(St+1+ot-mt)),ge+et>=ze&&(Xe-=ge+et-ze+4),Ae=at[Xe++],Ne=at[Xe++],we=at[Xe++],R[W]=(pe[Ae]+pe[Ne+256|0]+pe[we+512|0]>>16)-128,D[W]=(pe[Ae+768|0]+pe[Ne+1024|0]+pe[we+1280|0]>>16)-128,J[W]=(pe[Ae+1280|0]+pe[Ne+1536|0]+pe[we+1792|0]>>16)-128;z=qe(R,d,z,e,o),Q=qe(D,y,Q,i,a),ie=qe(J,y,ie,i,a),ge+=32}St+=8}if(L>=0){var ft=[];ft[1]=L+1,ft[0]=(1<<L+1)-1,de(ft)}return ke(65497),new Uint8Array(N)},t=t||50,(function(){for(var k=String.fromCharCode,G=0;G<256;G++)le[G]=k(G)})(),e=Z(se,K),i=Z(V,oe),o=Z(X,F),a=Z(ae,Te),(function(){for(var k=1,G=2,z=1;z<=15;z++){for(var Q=k;Q<G;Q++)E[32767+Q]=z,w[32767+Q]=[],w[32767+Q][1]=z,w[32767+Q][0]=Q;for(var ie=-(G-1);ie<=-k;ie++)E[32767+ie]=z,w[32767+ie]=[],w[32767+ie][1]=z,w[32767+ie][0]=G-1+ie;k<<=1,G<<=1}})(),(function(){for(var k=0;k<256;k++)pe[k]=19595*k,pe[k+256|0]=38470*k,pe[k+512|0]=7471*k+32768,pe[k+768|0]=-11059*k,pe[k+1024|0]=-21709*k,pe[k+1280|0]=32768*k+8421375,pe[k+1536|0]=-27439*k,pe[k+1792|0]=-5329*k})(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lm(t){function e(K){if(!K)throw Error("assert :P")}function i(K,X,F){for(var V=0;4>V;V++)if(K[X+V]!=F.charCodeAt(V))return!0;return!1}function o(K,X,F,V,oe){for(var ae=0;ae<oe;ae++)K[X+ae]=F[V+ae]}function a(K,X,F,V){for(var oe=0;oe<V;oe++)K[X+oe]=F}function l(K){return new Int32Array(K)}function c(K,X){for(var F=[],V=0;V<K;V++)F.push(new X);return F}function f(K,X){var F=[];return(function V(oe,ae,Te){for(var Z=Te[ae],de=0;de<Z&&(oe.push(Te.length>ae+1?[]:new X),!(Te.length<ae+1));de++)V(oe[de],ae+1,Te)})(F,0,K),F}var h=function(){var K=this;function X(m,x){for(var C=1<<x-1>>>0;m&C;)C>>>=1;return C?(m&C-1)+C:m}function F(m,x,C,T,P){e(!(T%C));do m[x+(T-=C)]=P;while(0<T)}function V(m,x,C,T,P){if(e(2328>=P),512>=P)var q=l(512);else if((q=l(P))==null)return 0;return(function(O,j,$,te,ye,Re){var ee,Se,Me=j,je=1<<$,Le=l(16),Ve=l(16);for(e(ye!=0),e(te!=null),e(O!=null),e(0<$),Se=0;Se<ye;++Se){if(15<te[Se])return 0;++Le[te[Se]]}if(Le[0]==ye)return 0;for(Ve[1]=0,ee=1;15>ee;++ee){if(Le[ee]>1<<ee)return 0;Ve[ee+1]=Ve[ee]+Le[ee]}for(Se=0;Se<ye;++Se)ee=te[Se],0<te[Se]&&(Re[Ve[ee]++]=Se);if(Ve[15]==1)return(te=new oe).g=0,te.value=Re[0],F(O,Me,1,je,te),je;var $e,st=-1,nt=je-1,Rt=0,_t=1,Zt=1,Nt=1<<$;for(Se=0,ee=1,ye=2;ee<=$;++ee,ye<<=1){if(_t+=Zt<<=1,0>(Zt-=Le[ee]))return 0;for(;0<Le[ee];--Le[ee])(te=new oe).g=ee,te.value=Re[Se++],F(O,Me+Rt,ye,Nt,te),Rt=X(Rt,ee)}for(ee=$+1,ye=2;15>=ee;++ee,ye<<=1){if(_t+=Zt<<=1,0>(Zt-=Le[ee]))return 0;for(;0<Le[ee];--Le[ee]){if(te=new oe,(Rt&nt)!=st){for(Me+=Nt,$e=1<<(st=ee)-$;15>st&&!(0>=($e-=Le[st]));)++st,$e<<=1;je+=Nt=1<<($e=st-$),O[j+(st=Rt&nt)].g=$e+$,O[j+st].value=Me-j-st}te.g=ee-$,te.value=Re[Se++],F(O,Me+(Rt>>$),ye,Nt,te),Rt=X(Rt,ee)}}return _t!=2*Ve[15]-1?0:je})(m,x,C,T,P,q)}function oe(){this.value=this.g=0}function ae(){this.value=this.g=0}function Te(){this.G=c(5,oe),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Sa,ae)}function Z(m,x,C,T){e(m!=null),e(x!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=C,m.Jd=x,m.Yc=C+T,m.Zc=4<=T?C+T-4+1:C,Ae(m)}function de(m,x){for(var C=0;0<x--;)C|=we(m,128)<<x;return C}function re(m,x){var C=de(m,x);return Ne(m)?-C:C}function ke(m,x,C,T){var P,q=0;for(e(m!=null),e(x!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),P=0;P<T;++P)q+=x[C+P]<<8*P;m.Ra=q,m.bb=T,m.oa=x,m.pa=C}function qe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Eo-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function Y(m,x){if(e(0<=x),!m.h&&x<=mr){var C=z(m)&Sr[x];return m.u+=x,qe(m),C}return m.h=1,m.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(m){return m.Ra>>>(m.u&Eo-1)>>>0}function Q(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Eo}function ie(m,x){m.u=x,m.h=Q(m)}function ge(m){m.u>=Co&&(e(m.u>=Co),qe(m))}function Ae(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ne(m){return de(m,1)}function we(m,x){var C=m.Ca;0>m.b&&Ae(m);var T=m.b,P=C*x>>>8,q=(m.I>>>T>P)+0;for(q?(C-=P,m.I-=P+1<<T>>>0):C=P+1,T=C,P=0;256<=T;)P+=8,T>>=8;return T=7^P+Zo[T],m.b-=T,m.Ca=(C<<T)-1,q}function me(m,x,C){m[x+0]=C>>24&255,m[x+1]=C>>16&255,m[x+2]=C>>8&255,m[x+3]=255&C}function Xe(m,x){return m[x+0]|m[x+1]<<8}function et(m,x){return Xe(m,x)|m[x+2]<<16}function ot(m,x){return Xe(m,x)|Xe(m,x+2)<<16}function W(m,x){var C=1<<x;return e(m!=null),e(0<x),m.X=l(C),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function at(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),o(x.X,0,m.X,0,1<<x.Xa)}function wt(){this.X=[],this.Xa=this.Mb=0}function mt(m,x,C,T){e(C!=null),e(T!=null);var P=C[0],q=T[0];return P==0&&(P=(m*q+x/2)/x),q==0&&(q=(x*P+m/2)/m),0>=P||0>=q?0:(C[0]=P,T[0]=q,1)}function ze(m,x){return m+(1<<x)-1>>>x}function St(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function ft(m,x){K[x]=function(C,T,P,q,O,j,$){var te;for(te=0;te<O;++te){var ye=K[m](j[$+te-1],P,q+te);j[$+te]=St(C[T+te],ye)}}}function Mt(){this.ud=this.hd=this.jd=0}function ut(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function jt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function sn(m,x){return jt(m+(m-x+.5>>1))}function yt(m,x,C){return Math.abs(x-C)-Math.abs(m-C)}function Pe(m,x,C,T,P,q,O){for(T=q[O-1],C=0;C<P;++C)q[O+C]=T=St(m[x+C],T)}function ct(m,x,C,T,P){var q;for(q=0;q<C;++q){var O=m[x+q],j=O>>8&255,$=16711935&($=($=16711935&O)+((j<<16)+j));T[P+q]=(4278255360&O)+$>>>0}}function lt(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function vt(m,x,C,T,P,q){var O;for(O=0;O<T;++O){var j=x[C+O],$=j>>>8,te=j,ye=255&(ye=(ye=j>>>16)+((m.jd<<24>>24)*($<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*($<<24>>24)>>>5)+((m.ud<<24>>24)*(ye<<24>>24)>>>5)),P[q+O]=(4278255360&j)+(ye<<16)+te}}function dt(m,x,C,T,P){K[x]=function(q,O,j,$,te,ye,Re,ee,Se){for($=Re;$<ee;++$)for(Re=0;Re<Se;++Re)te[ye++]=P(j[T(q[O++])])},K[m]=function(q,O,j,$,te,ye,Re){var ee=8>>q.b,Se=q.Ea,Me=q.K[0],je=q.w;if(8>ee)for(q=(1<<q.b)-1,je=(1<<ee)-1;O<j;++O){var Le,Ve=0;for(Le=0;Le<Se;++Le)Le&q||(Ve=T($[te++])),ye[Re++]=P(Me[Ve&je]),Ve>>=ee}else K["VP8LMapColor"+C]($,te,Me,je,ye,Re,O,j,Se)}}function Yt(m,x,C,T,P){for(C=x+C;x<C;){var q=m[x++];T[P++]=q>>16&255,T[P++]=q>>8&255,T[P++]=255&q}}function bt(m,x,C,T,P){for(C=x+C;x<C;){var q=m[x++];T[P++]=q>>16&255,T[P++]=q>>8&255,T[P++]=255&q,T[P++]=q>>24&255}}function Ct(m,x,C,T,P){for(C=x+C;x<C;){var q=(O=m[x++])>>16&240|O>>12&15,O=240&O|O>>28&15;T[P++]=q,T[P++]=O}}function Tt(m,x,C,T,P){for(C=x+C;x<C;){var q=(O=m[x++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;T[P++]=q,T[P++]=O}}function qt(m,x,C,T,P){for(C=x+C;x<C;){var q=m[x++];T[P++]=255&q,T[P++]=q>>8&255,T[P++]=q>>16&255}}function rt(m,x,C,T,P,q){if(q==0)for(C=x+C;x<C;)me(T,((q=m[x++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),P+=32;else o(T,P,m,x,C)}function Ht(m,x){K[x][0]=K[m+"0"],K[x][1]=K[m+"1"],K[x][2]=K[m+"2"],K[x][3]=K[m+"3"],K[x][4]=K[m+"4"],K[x][5]=K[m+"5"],K[x][6]=K[m+"6"],K[x][7]=K[m+"7"],K[x][8]=K[m+"8"],K[x][9]=K[m+"9"],K[x][10]=K[m+"10"],K[x][11]=K[m+"11"],K[x][12]=K[m+"12"],K[x][13]=K[m+"13"],K[x][14]=K[m+"0"],K[x][15]=K[m+"0"]}function fe(m){return m==Ml||m==lu||m==Rs||m==uu}function xe(){this.eb=[],this.size=this.A=this.fb=0}function Fe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xe,this.f.kb=new Fe,this.sd=null}function _e(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ze(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Je(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Et(m,x){var C=m.T,T=x.ba.f.RGBA,P=T.eb,q=T.fb+m.ka*T.A,O=Ki[x.ba.S],j=m.y,$=m.O,te=m.f,ye=m.N,Re=m.ea,ee=m.W,Se=x.cc,Me=x.dc,je=x.Mc,Le=x.Nc,Ve=m.ka,$e=m.ka+m.T,st=m.U,nt=st+1>>1;for(Ve==0?O(j,$,null,null,te,ye,Re,ee,te,ye,Re,ee,P,q,null,null,st):(O(x.ec,x.fc,j,$,Se,Me,je,Le,te,ye,Re,ee,P,q-T.A,P,q,st),++C);Ve+2<$e;Ve+=2)Se=te,Me=ye,je=Re,Le=ee,ye+=m.Rc,ee+=m.Rc,q+=2*T.A,O(j,($+=2*m.fa)-m.fa,j,$,Se,Me,je,Le,te,ye,Re,ee,P,q-T.A,P,q,st);return $+=m.fa,m.j+$e<m.o?(o(x.ec,x.fc,j,$,st),o(x.cc,x.dc,te,ye,nt),o(x.Mc,x.Nc,Re,ee,nt),C--):1&$e||O(j,$,null,null,te,ye,Re,ee,te,ye,Re,ee,P,q+T.A,null,null,st),C}function Ge(m,x,C){var T=m.F,P=[m.J];if(T!=null){var q=m.U,O=x.ba.S,j=O==Nl||O==Rs;x=x.ba.f.RGBA;var $=[0],te=m.ka;$[0]=m.T,m.Kb&&(te==0?--$[0]:(--te,P[0]-=m.width),m.j+m.ka+m.T==m.o&&($[0]=m.o-m.j-te));var ye=x.eb;te=x.fb+te*x.A,m=Al(T,P[0],m.width,q,$,ye,te+(j?0:3),x.A),e(C==$),m&&fe(O)&&Ka(ye,te,j,q,$,x.A)}return 0}function He(m){var x=m.ma,C=x.ba.S,T=11>C,P=C==ir||C==Vr||C==Nl||C==Ls||C==12||fe(C);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Xo(x.Oa,m,P?11:12))return 0;if(P&&fe(C)&&bl(),m.da)alert("todo:use_scaling");else{if(T){if(x.Ib=Je,m.Kb){if(C=m.U+1>>1,x.memory=l(m.U+2*C),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+C,x.Ib=Et,bl()}}else alert("todo:EmitYUV");P&&(x.Jb=Ge,T&&lo())}if(T&&!Ma){for(m=0;256>m;++m)$i[m]=89858*(m-128)+Ps>>$r,Sd[m]=-22014*(m-128)+Ps,tf[m]=-45773*(m-128),pu[m]=113618*(m-128)+Ps>>$r;for(m=Qa;m<Na;++m)x=76283*(m-16)+Ps>>$r,_d[m-Qa]=Rr(x,255),Ad[m-Qa]=Rr(x+8>>4,15);Ma=1}return 1}function Be(m){var x=m.ma,C=m.U,T=m.T;return e(!(1&m.ka)),0>=C||0>=T?0:(C=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,C),x.Dc+=C,1)}function Ye(m){m.ma.memory=null}function pt(m,x,C,T){return Y(m,8)!=47?0:(x[0]=Y(m,14)+1,C[0]=Y(m,14)+1,T[0]=Y(m,1),Y(m,3)!=0?0:!m.h)}function Ot(m,x){if(4>m)return m+1;var C=m-2>>1;return(2+(1&m)<<C)+Y(x,C)+1}function tn(m,x){return 120<x?x-120:1<=(C=((C=Yr[x-1])>>4)*m+(8-(15&C)))?C:1;var C}function Ut(m,x,C){var T=z(C),P=m[x+=255&T].g-8;return 0<P&&(ie(C,C.u+8),T=z(C),x+=m[x].value,x+=T&(1<<P)-1),ie(C,C.u+m[x].g),m[x].value}function Ft(m,x,C){return C.g+=m.g,C.value+=m.value<<x>>>0,e(8>=C.g),m.g}function bn(m,x,C){var T=m.xc;return e((x=T==0?0:m.vc[m.md*(C>>T)+(x>>T)])<m.Wb),m.Ya[x]}function ki(m,x,C,T){var P=m.ab,q=m.c*x,O=m.C;x=O+x;var j=C,$=T;for(T=m.Ta,C=m.Ua;0<P--;){var te=m.gc[P],ye=O,Re=x,ee=j,Se=$,Me=($=T,j=C,te.Ea);switch(e(ye<Re),e(Re<=te.nc),te.hc){case 2:yi(ee,Se,(Re-ye)*Me,$,j);break;case 0:var je=ye,Le=Re,Ve=$,$e=j,st=(Nt=te).Ea;je==0&&(Ts(ee,Se,null,null,1,Ve,$e),Pe(ee,Se+1,0,0,st-1,Ve,$e+1),Se+=st,$e+=st,++je);for(var nt=1<<Nt.b,Rt=nt-1,_t=ze(st,Nt.b),Zt=Nt.K,Nt=Nt.w+(je>>Nt.b)*_t;je<Le;){var dn=Zt,Xn=Nt,rn=1;for(Ns(ee,Se,Ve,$e-st,1,Ve,$e);rn<st;){var At=(rn&~Rt)+nt;At>st&&(At=st),(0,Qo[dn[Xn++]>>8&15])(ee,Se+ +rn,Ve,$e+rn-st,At-rn,Ve,$e+rn),rn=At}Se+=st,$e+=st,++je&Rt||(Nt+=_t)}Re!=te.nc&&o($,j-Me,$,j+(Re-ye-1)*Me,Me);break;case 1:for(Me=ee,Le=Se,st=(ee=te.Ea)-($e=ee&~(Ve=(Se=1<<te.b)-1)),je=ze(ee,te.b),nt=te.K,te=te.w+(ye>>te.b)*je;ye<Re;){for(Rt=nt,_t=te,Zt=new Mt,Nt=Le+$e,dn=Le+ee;Le<Nt;)lt(Rt[_t++],Zt),Ms(Zt,Me,Le,Se,$,j),Le+=Se,j+=Se;Le<dn&&(lt(Rt[_t++],Zt),Ms(Zt,Me,Le,st,$,j),Le+=st,j+=st),++ye&Ve||(te+=je)}break;case 3:if(ee==$&&Se==j&&0<te.b){for(Le=$,ee=Me=j+(Re-ye)*Me-($e=(Re-ye)*ze(te.Ea,te.b)),Se=$,Ve=j,je=[],$e=(st=$e)-1;0<=$e;--$e)je[$e]=Se[Ve+$e];for($e=st-1;0<=$e;--$e)Le[ee+$e]=je[$e];iu(te,ye,Re,$,Me,$,j)}else iu(te,ye,Re,ee,Se,$,j)}j=T,$=C}$!=C&&o(T,C,j,$,q)}function gn(m,x){var C=m.V,T=m.Ba+m.c*m.C,P=x-m.C;if(e(x<=m.l.o),e(16>=P),0<P){var q=m.l,O=m.Ta,j=m.Ua,$=q.width;if(ki(m,P,C,T),P=j=[j],e((C=m.C)<(T=x)),e(q.v<q.va),T>q.o&&(T=q.o),C<q.j){var te=q.j-C;C=q.j,P[0]+=te*$}if(C>=T?C=0:(P[0]+=4*q.v,q.ka=C-q.j,q.U=q.va-q.v,q.T=T-C,C=1),C){if(j=j[0],11>(C=m.ca).S){var ye=C.f.RGBA,Re=(T=C.S,P=q.U,q=q.T,te=ye.eb,ye.A),ee=q;for(ye=ye.fb+m.Ma*ye.A;0<ee--;){var Se=O,Me=j,je=P,Le=te,Ve=ye;switch(T){case au:ks(Se,Me,je,Le,Ve);break;case ir:ea(Se,Me,je,Le,Ve);break;case Ml:ea(Se,Me,je,Le,Ve),Ka(Le,Ve,0,je,1,0);break;case su:Ja(Se,Me,je,Le,Ve);break;case Vr:rt(Se,Me,je,Le,Ve,1);break;case lu:rt(Se,Me,je,Le,Ve,1),Ka(Le,Ve,0,je,1,0);break;case Nl:rt(Se,Me,je,Le,Ve,0);break;case Rs:rt(Se,Me,je,Le,Ve,0),Ka(Le,Ve,1,je,1,0);break;case Ls:ta(Se,Me,je,Le,Ve);break;case uu:ta(Se,Me,je,Le,Ve),Gr(Le,Ve,je,1,0);break;case _a:Mo(Se,Me,je,Le,Ve);break;default:e(0)}j+=$,ye+=Re}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=C.height)}}m.C=x,e(m.C<=m.i)}function Xt(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var C=m.Ya[x].G,T=m.Ya[x].H;if(0<C[1][T[1]+0].g||0<C[2][T[2]+0].g||0<C[3][T[3]+0].g)return 0}return 1}function en(m,x,C,T,P,q){if(m.Z!=0){var O=m.qd,j=m.rd;for(e(ra[m.Z]!=null);x<C;++x)ra[m.Z](O,j,T,P,T,P,q),O=T,j=P,P+=q;m.qd=O,m.rd=j}}function ti(m,x){var C=m.l.ma,T=C.Z==0||C.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(x<=m.l.o),x>T){var P=m.l.width,q=C.ca,O=C.tb+P*T,j=m.V,$=m.Ba+m.c*T,te=m.gc;e(m.ab==1),e(te[0].hc==3),No(te[0],T,x,j,$,q,O),en(C,T,x,q,O,P)}m.C=m.Ma=x}function Nn(m,x,C,T,P,q,O){var j=m.$/T,$=m.$%T,te=m.m,ye=m.s,Re=C+m.$,ee=Re;P=C+T*P;var Se=C+T*q,Me=280+ye.ua,je=m.Pb?j:16777216,Le=0<ye.ua?ye.Wa:null,Ve=ye.wc,$e=Re<Se?bn(ye,$,j):null;e(m.C<q),e(Se<=P);var st=!1;e:for(;;){for(;st||Re<Se;){var nt=0;if(j>=je){var Rt=Re-C;e((je=m).Pb),je.wd=je.m,je.xd=Rt,0<je.s.ua&&at(je.s.Wa,je.s.vb),je=j+Aa}if($&Ve||($e=bn(ye,$,j)),e($e!=null),$e.Qb&&(x[Re]=$e.qb,st=!0),!st)if(ge(te),$e.jc){nt=te,Rt=x;var _t=Re,Zt=$e.pd[z(nt)&Sa-1];e($e.jc),256>Zt.g?(ie(nt,nt.u+Zt.g),Rt[_t]=Zt.value,nt=0):(ie(nt,nt.u+Zt.g-256),e(256<=Zt.value),nt=Zt.value),nt==0&&(st=!0)}else nt=Ut($e.G[0],$e.H[0],te);if(te.h)break;if(st||256>nt){if(!st)if($e.nd)x[Re]=($e.qb|nt<<8)>>>0;else{if(ge(te),st=Ut($e.G[1],$e.H[1],te),ge(te),Rt=Ut($e.G[2],$e.H[2],te),_t=Ut($e.G[3],$e.H[3],te),te.h)break;x[Re]=(_t<<24|st<<16|nt<<8|Rt)>>>0}if(st=!1,++Re,++$>=T&&($=0,++j,O!=null&&j<=q&&!(j%16)&&O(m,j),Le!=null))for(;ee<Re;)nt=x[ee++],Le.X[(506832829*nt&4294967295)>>>Le.Mb]=nt}else if(280>nt){if(nt=Ot(nt-256,te),Rt=Ut($e.G[4],$e.H[4],te),ge(te),Rt=tn(T,Rt=Ot(Rt,te)),te.h)break;if(Re-C<Rt||P-Re<nt)break e;for(_t=0;_t<nt;++_t)x[Re+_t]=x[Re+_t-Rt];for(Re+=nt,$+=nt;$>=T;)$-=T,++j,O!=null&&j<=q&&!(j%16)&&O(m,j);if(e(Re<=P),$&Ve&&($e=bn(ye,$,j)),Le!=null)for(;ee<Re;)nt=x[ee++],Le.X[(506832829*nt&4294967295)>>>Le.Mb]=nt}else{if(!(nt<Me))break e;for(st=nt-280,e(Le!=null);ee<Re;)nt=x[ee++],Le.X[(506832829*nt&4294967295)>>>Le.Mb]=nt;nt=Re,e(!(st>>>(Rt=Le).Xa)),x[nt]=Rt.X[st],st=!0}st||e(te.h==Q(te))}if(m.Pb&&te.h&&Re<P)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&at(m.s.vb,m.s.Wa);else{if(te.h)break e;O!=null&&O(m,j>q?q:j),m.a=0,m.$=Re-C}return 1}return m.a=3,0}function Kn(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function br(){var m=new $t;return m==null?null:(m.a=0,m.xb=sc,Ht("Predictor","VP8LPredictors"),Ht("Predictor","VP8LPredictors_C"),Ht("PredictorAdd","VP8LPredictorsAdd"),Ht("PredictorAdd","VP8LPredictorsAdd_C"),yi=ct,Ms=vt,ks=Yt,ea=bt,ta=Ct,Mo=Tt,Ja=qt,K.VP8LMapColor32b=To,K.VP8LMapColor8b=Yi,m)}function Gi(m,x,C,T,P){var q=1,O=[m],j=[x],$=T.m,te=T.s,ye=null,Re=0;e:for(;;){if(C)for(;q&&Y($,1);){var ee=O,Se=j,Me=T,je=1,Le=Me.m,Ve=Me.gc[Me.ab],$e=Y(Le,2);if(Me.Oc&1<<$e)q=0;else{switch(Me.Oc|=1<<$e,Ve.hc=$e,Ve.Ea=ee[0],Ve.nc=Se[0],Ve.K=[null],++Me.ab,e(4>=Me.ab),$e){case 0:case 1:Ve.b=Y(Le,3)+2,je=Gi(ze(Ve.Ea,Ve.b),ze(Ve.nc,Ve.b),0,Me,Ve.K),Ve.K=Ve.K[0];break;case 3:var st,nt=Y(Le,8)+1,Rt=16<nt?0:4<nt?1:2<nt?2:3;if(ee[0]=ze(Ve.Ea,Rt),Ve.b=Rt,st=je=Gi(nt,1,0,Me,Ve.K)){var _t,Zt=nt,Nt=Ve,dn=1<<(8>>Nt.b),Xn=l(dn);if(Xn==null)st=0;else{var rn=Nt.K[0],At=Nt.w;for(Xn[0]=Nt.K[0][0],_t=1;_t<1*Zt;++_t)Xn[_t]=St(rn[At+_t],Xn[_t-1]);for(;_t<4*dn;++_t)Xn[_t]=0;Nt.K[0]=null,Nt.K[0]=Xn,st=1}}je=st;break;case 2:break;default:e(0)}q=je}}if(O=O[0],j=j[0],q&&Y($,1)&&!(q=1<=(Re=Y($,4))&&11>=Re)){T.a=3;break e}var ht;if(ht=q)t:{var ii,Wt,ln,Pn=T,Ii=O,Xi=j,jn=Re,_i=C,rr=Pn.m,Ai=Pn.s,fn=[null],En=1,ri=0,Ln=Jr[jn];n:for(;;){if(_i&&Y(rr,1)){var Di=Y(rr,3)+2,oi=ze(Ii,Di),Cn=ze(Xi,Di),bi=oi*Cn;if(!Gi(oi,Cn,0,Pn,fn))break n;for(fn=fn[0],Ai.xc=Di,ii=0;ii<bi;++ii){var Un=fn[ii]>>8&65535;fn[ii]=Un,Un>=En&&(En=Un+1)}}if(rr.h)break n;for(Wt=0;5>Wt;++Wt){var Ei=Xa[Wt];!Wt&&0<jn&&(Ei+=1<<jn),ri<Ei&&(ri=Ei)}var Ci=c(En*Ln,oe),Bn=En,_n=c(Bn,Te);if(_n==null)var or=null;else e(65536>=Bn),or=_n;var ci=l(ri);if(or==null||ci==null||Ci==null){Pn.a=1;break n}var zt=Ci;for(ii=ln=0;ii<En;++ii){var Gt=or[ii],Tn=Gt.G,_r=Gt.H,Xr=0,yr=1,Ti=0;for(Wt=0;5>Wt;++Wt){Ei=Xa[Wt],Tn[Wt]=zt,_r[Wt]=ln,!Wt&&0<jn&&(Ei+=1<<jn);r:{var ka,La=Ei,gu=Pn,Yn=ci,uc=zt,cc=ln,yu=0,oa=gu.m,Ed=Y(oa,1);if(a(Yn,0,0,La),Ed){var fc=Y(oa,1)+1,dc=Y(oa,1),vu=Y(oa,dc==0?1:8);Yn[vu]=1,fc==2&&(Yn[vu=Y(oa,8)]=1);var Oi=1}else{var fi=l(19),Il=Y(oa,4)+4;if(19<Il){gu.a=3;var Ra=0;break r}for(ka=0;ka<Il;++ka)fi[kl[ka]]=Y(oa,3);var Fs=void 0,es=void 0,Ro=gu,xu=fi,Bs=La,bu=Yn,wu=0,aa=Ro.m,hc=8,pc=c(128,oe);i:for(;V(pc,0,7,xu,19);){if(Y(aa,1)){var nf=2+2*Y(aa,3);if((Fs=2+Y(aa,nf))>Bs)break i}else Fs=Bs;for(es=0;es<Bs&&Fs--;){ge(aa);var mc=pc[0+(127&z(aa))];ie(aa,aa.u+mc.g);var Ia=mc.value;if(16>Ia)bu[es++]=Ia,Ia!=0&&(hc=Ia);else{var rf=Ia==16,of=Ia-16,af=Is[of],gc=Y(aa,jr[of])+af;if(es+gc>Bs)break i;for(var sf=rf?hc:0;0<gc--;)bu[es++]=sf}}wu=1;break i}wu||(Ro.a=3),Oi=wu}(Oi=Oi&&!oa.h)&&(yu=V(uc,cc,8,Yn,La)),Oi&&yu!=0?Ra=yu:(gu.a=3,Ra=0)}if(Ra==0)break n;if(yr&&cu[Wt]==1&&(yr=zt[ln].g==0),Xr+=zt[ln].g,ln+=Ra,3>=Wt){var ts,Su=ci[0];for(ts=1;ts<Ei;++ts)ci[ts]>Su&&(Su=ci[ts]);Ti+=Su}}if(Gt.nd=yr,Gt.Qb=0,yr&&(Gt.qb=(Tn[3][_r[3]+0].value<<24|Tn[1][_r[1]+0].value<<16|Tn[2][_r[2]+0].value)>>>0,Xr==0&&256>Tn[0][_r[0]+0].value&&(Gt.Qb=1,Gt.qb+=Tn[0][_r[0]+0].value<<8)),Gt.jc=!Gt.Qb&&6>Ti,Gt.jc){var Dl,Io=Gt;for(Dl=0;Dl<Sa;++Dl){var sa=Dl,la=Io.pd[sa],_u=Io.G[0][Io.H[0]+sa];256<=_u.value?(la.g=_u.g+256,la.value=_u.value):(la.g=0,la.value=0,sa>>=Ft(_u,8,la),sa>>=Ft(Io.G[1][Io.H[1]+sa],16,la),sa>>=Ft(Io.G[2][Io.H[2]+sa],0,la),Ft(Io.G[3][Io.H[3]+sa],24,la))}}}Ai.vc=fn,Ai.Wb=En,Ai.Ya=or,Ai.yc=Ci,ht=1;break t}ht=0}if(!(q=ht)){T.a=3;break e}if(0<Re){if(te.ua=1<<Re,!W(te.Wa,Re)){T.a=1,q=0;break e}}else te.ua=0;var Au=T,ns=O,lf=j,qs=Au.s,Os=qs.xc;if(Au.c=ns,Au.i=lf,qs.md=ze(ns,Os),qs.wc=Os==0?-1:(1<<Os)-1,C){T.xb=Ea;break e}if((ye=l(O*j))==null){T.a=1,q=0;break e}q=(q=Nn(T,ye,0,O,j,j,null))&&!$.h;break e}return q?(P!=null?P[0]=ye:(e(ye==null),e(C)),T.$=0,C||Kn(te)):Kn(te),q}function ur(m,x){var C=m.c*m.i,T=C+x+16*x;return e(m.c<=x),m.V=l(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+C+x,1)}function kr(m,x){var C=m.C,T=x-C,P=m.V,q=m.Ba+m.c*C;for(e(x<=m.l.o);0<T;){var O=16<T?16:T,j=m.l.ma,$=m.l.width,te=$*O,ye=j.ca,Re=j.tb+$*C,ee=m.Ta,Se=m.Ua;ki(m,O,P,q),Fr(ee,Se,ye,Re,te),en(j,C,C+O,ye,Re,$),T-=O,P+=O*m.c,C+=O}e(C==x),m.C=m.Ma=x}function cr(){this.ub=this.yd=this.td=this.Rb=0}function Qi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function er(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function fr(){this.Yb=(function(){var m=[];return(function x(C,T,P){for(var q=P[T],O=0;O<q&&(C.push(P.length>T+1?[]:0),!(P.length<T+1));O++)x(C[O],T+1,P)})(m,0,[3,11]),m})()}function mi(){this.jb=l(3),this.Wc=f([4,8],fr),this.Xc=f([4,17],fr)}function al(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Lr(){this.ld=this.La=this.dd=this.tc=0}function ro(){this.Na=this.la=0}function Bo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lr),this.Y=0,this.ya=Array(new sl),this.aa=0,this.l=new qo}function ul(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Jl(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new cr,this.Kc=new Qi,this.ed=new al,this.Qa=new er,this.Ic=this.$c=this.Aa=0,this.D=new ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,Bo),this.Pa=new mi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ul),this.Hd=0,this.rb=Array(new ro),this.sb=0,this.wa=Array(new Lr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sl),this.L=this.aa=0,this.gd=f([4,2],Lr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rr(m,x){return 0>m?0:m>x?x:m}function qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oo(){var m=new Jl;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Br||(Br=va)),m}function Mn(m,x,C){return m.a==0&&(m.a=x,m.sc=C,m.cb=0),0}function cl(m,x,C){return 3<=C&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function bo(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Mn(m,2,"null VP8Io passed to VP8GetHeaders()");var C=x.data,T=x.w,P=x.ha;if(4>P)return Mn(m,7,"Truncated header.");var q=C[T+0]|C[T+1]<<8|C[T+2]<<16,O=m.Od;if(O.Rb=!(1&q),O.td=q>>1&7,O.yd=q>>4&1,O.ub=q>>5,3<O.td)return Mn(m,3,"Incorrect keyframe parameters.");if(!O.yd)return Mn(m,4,"Frame not displayable.");T+=3,P-=3;var j=m.Kc;if(O.Rb){if(7>P)return Mn(m,7,"cannot parse picture header");if(!cl(C,T,P))return Mn(m,3,"Bad code word");j.c=16383&(C[T+4]<<8|C[T+3]),j.Td=C[T+4]>>6,j.i=16383&(C[T+6]<<8|C[T+5]),j.Ud=C[T+6]>>6,T+=7,P-=7,m.za=j.c+15>>4,m.Ub=j.i+15>>4,x.width=j.c,x.height=j.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(O.ub>P)return Mn(m,7,"bad partition length");Z(q=m.m,C,T,O.ub),T+=O.ub,P-=O.ub,O.Rb&&(j.Ld=Ne(q),j.Kd=Ne(q)),j=m.Qa;var $,te=m.Pa;if(e(q!=null),e(j!=null),j.Cb=Ne(q),j.Cb){if(j.Bb=Ne(q),Ne(q)){for(j.Fb=Ne(q),$=0;4>$;++$)j.Zb[$]=Ne(q)?re(q,7):0;for($=0;4>$;++$)j.Lb[$]=Ne(q)?re(q,6):0}if(j.Bb)for($=0;3>$;++$)te.jb[$]=Ne(q)?de(q,8):255}else j.Bb=0;if(q.Ka)return Mn(m,3,"cannot parse segment header");if((j=m.ed).zd=Ne(q),j.Tb=de(q,6),j.wb=de(q,3),j.Pc=Ne(q),j.Pc&&Ne(q)){for(te=0;4>te;++te)Ne(q)&&(j.vd[te]=re(q,6));for(te=0;4>te;++te)Ne(q)&&(j.od[te]=re(q,6))}if(m.L=j.Tb==0?0:j.zd?1:2,q.Ka)return Mn(m,3,"cannot parse filter header");var ye=P;if(P=$=T,T=$+ye,j=ye,m.Xb=(1<<de(m.m,2))-1,ye<3*(te=m.Xb))C=7;else{for($+=3*te,j-=3*te,ye=0;ye<te;++ye){var Re=C[P+0]|C[P+1]<<8|C[P+2]<<16;Re>j&&(Re=j),Z(m.Jc[+ye],C,$,Re),$+=Re,j-=Re,P+=3}Z(m.Jc[+te],C,$,j),C=$<T?0:5}if(C!=0)return Mn(m,C,"cannot parse partitions");for(C=de($=m.m,7),P=Ne($)?re($,4):0,T=Ne($)?re($,4):0,j=Ne($)?re($,4):0,te=Ne($)?re($,4):0,$=Ne($)?re($,4):0,ye=m.Qa,Re=0;4>Re;++Re){if(ye.Cb){var ee=ye.Zb[Re];ye.Fb||(ee+=C)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}ee=C}var Se=m.pb[Re];Se.Sc[0]=Wr[Rr(ee+P,127)],Se.Sc[1]=Kr[Rr(ee+0,127)],Se.Eb[0]=2*Wr[Rr(ee+T,127)],Se.Eb[1]=101581*Kr[Rr(ee+j,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Wr[Rr(ee+te,117)],Se.Qc[1]=Kr[Rr(ee+$,127)],Se.lc=ee+$}if(!O.Rb)return Mn(m,4,"Not a key frame.");for(Ne(q),O=m.Pa,C=0;4>C;++C){for(P=0;8>P;++P)for(T=0;3>T;++T)for(j=0;11>j;++j)te=we(q,$n[C][P][T][j])?de(q,8):ef[C][P][T][j],O.Wc[C][P].Yb[T][j]=te;for(P=0;17>P;++P)O.Xc[C][P]=O.Wc[C][hn[P]]}return m.kc=Ne(q),m.kc&&(m.Bd=de(q,8)),m.cb=1}function va(m,x,C,T,P,q,O){var j=x[P].Yb[C];for(C=0;16>P;++P){if(!we(m,j[C+0]))return P;for(;!we(m,j[C+1]);)if(j=x[++P].Yb[0],C=0,P==16)return 16;var $=x[P+1].Yb;if(we(m,j[C+2])){var te=m,ye=0;if(we(te,(ee=j)[(Re=C)+3]))if(we(te,ee[Re+6])){for(j=0,Re=2*(ye=we(te,ee[Re+8]))+(ee=we(te,ee[Re+9+ye])),ye=0,ee=Qc[Re];ee[j];++j)ye+=ye+we(te,ee[j]);ye+=3+(8<<Re)}else we(te,ee[Re+7])?(ye=7+2*we(te,165),ye+=we(te,145)):ye=5+we(te,159);else ye=we(te,ee[Re+4])?3+we(te,ee[Re+5]):2;j=$[2]}else ye=1,j=$[1];$=O+ac[P],0>(te=m).b&&Ae(te);var Re,ee=te.b,Se=(Re=te.Ca>>1)-(te.I>>ee)>>31;--te.b,te.Ca+=Se,te.Ca|=1,te.I-=(Re+1&Se)<<ee,q[$]=((ye^Se)-Se)*T[(0<P)+0]}return 16}function fl(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function dr(m,x,C,T,P){P=m[x+C+32*T]+(P>>3),m[x+C+32*T]=-256&P?0>P?0:255:P}function Li(m,x,C,T,P,q){dr(m,x,0,C,T+P),dr(m,x,1,C,T+q),dr(m,x,2,C,T-q),dr(m,x,3,C,T-P)}function wi(m){return(20091*m>>16)+m}function bs(m,x,C,T){var P,q=0,O=l(16);for(P=0;4>P;++P){var j=m[x+0]+m[x+8],$=m[x+0]-m[x+8],te=(35468*m[x+4]>>16)-wi(m[x+12]),ye=wi(m[x+4])+(35468*m[x+12]>>16);O[q+0]=j+ye,O[q+1]=$+te,O[q+2]=$-te,O[q+3]=j-ye,q+=4,x++}for(P=q=0;4>P;++P)j=(m=O[q+0]+4)+O[q+8],$=m-O[q+8],te=(35468*O[q+4]>>16)-wi(O[q+12]),dr(C,T,0,0,j+(ye=wi(O[q+4])+(35468*O[q+12]>>16))),dr(C,T,1,0,$+te),dr(C,T,2,0,$-te),dr(C,T,3,0,j-ye),q++,T+=32}function Wl(m,x,C,T){var P=m[x+0]+4,q=35468*m[x+4]>>16,O=wi(m[x+4]),j=35468*m[x+1]>>16;Li(C,T,0,P+O,m=wi(m[x+1]),j),Li(C,T,1,P+q,m,j),Li(C,T,2,P-q,m,j),Li(C,T,3,P-O,m,j)}function dl(m,x,C,T,P){bs(m,x,C,T),P&&bs(m,x+16,C,T+4)}function hr(m,x,C,T){na(m,x+0,C,T,1),na(m,x+32,C,T+128,1)}function hl(m,x,C,T){var P;for(m=m[x+0]+4,P=0;4>P;++P)for(x=0;4>x;++x)dr(C,T,x,P,m)}function pl(m,x,C,T){m[x+0]&&kn(m,x+0,C,T),m[x+16]&&kn(m,x+16,C,T+4),m[x+32]&&kn(m,x+32,C,T+128),m[x+48]&&kn(m,x+48,C,T+128+4)}function ao(m,x,C,T){var P,q=l(16);for(P=0;4>P;++P){var O=m[x+0+P]+m[x+12+P],j=m[x+4+P]+m[x+8+P],$=m[x+4+P]-m[x+8+P],te=m[x+0+P]-m[x+12+P];q[0+P]=O+j,q[8+P]=O-j,q[4+P]=te+$,q[12+P]=te-$}for(P=0;4>P;++P)O=(m=q[0+4*P]+3)+q[3+4*P],j=q[1+4*P]+q[2+4*P],$=q[1+4*P]-q[2+4*P],te=m-q[3+4*P],C[T+0]=O+j>>3,C[T+16]=te+$>>3,C[T+32]=O-j>>3,C[T+48]=te-$>>3,T+=64}function Oa(m,x,C){var T,P=x-32,q=nr,O=255-m[P-1];for(T=0;T<C;++T){var j,$=q,te=O+m[x-1];for(j=0;j<C;++j)m[x+j]=$[te+m[P+j]];x+=32}}function Kl(m,x){Oa(m,x,4)}function $l(m,x){Oa(m,x,8)}function ml(m,x){Oa(m,x,16)}function gl(m,x){var C;for(C=0;16>C;++C)o(m,x+32*C,m,x-32,16)}function Xl(m,x){var C;for(C=16;0<C;--C)a(m,x,m[x-1],16),x+=32}function wr(m,x,C){var T;for(T=0;16>T;++T)a(x,C+32*T,m,16)}function so(m,x){var C,T=16;for(C=0;16>C;++C)T+=m[x-1+32*C]+m[x+C-32];wr(T>>5,m,x)}function Oo(m,x){var C,T=8;for(C=0;16>C;++C)T+=m[x-1+32*C];wr(T>>4,m,x)}function za(m,x){var C,T=8;for(C=0;16>C;++C)T+=m[x+C-32];wr(T>>4,m,x)}function xa(m,x){wr(128,m,x)}function Jt(m,x,C){return m+2*x+C+2>>2}function Zl(m,x){var C,T=x-32;for(T=new Uint8Array([Jt(m[T-1],m[T+0],m[T+1]),Jt(m[T+0],m[T+1],m[T+2]),Jt(m[T+1],m[T+2],m[T+3]),Jt(m[T+2],m[T+3],m[T+4])]),C=0;4>C;++C)o(m,x+32*C,T,0,T.length)}function yl(m,x){var C=m[x-1],T=m[x-1+32],P=m[x-1+64],q=m[x-1+96];me(m,x+0,16843009*Jt(m[x-1-32],C,T)),me(m,x+32,16843009*Jt(C,T,P)),me(m,x+64,16843009*Jt(T,P,q)),me(m,x+96,16843009*Jt(P,q,q))}function Ql(m,x){var C,T=4;for(C=0;4>C;++C)T+=m[x+C-32]+m[x-1+32*C];for(T>>=3,C=0;4>C;++C)a(m,x+32*C,T,4)}function Ir(m,x){var C=m[x-1+0],T=m[x-1+32],P=m[x-1+64],q=m[x-1-32],O=m[x+0-32],j=m[x+1-32],$=m[x+2-32],te=m[x+3-32];m[x+0+96]=Jt(T,P,m[x-1+96]),m[x+1+96]=m[x+0+64]=Jt(C,T,P),m[x+2+96]=m[x+1+64]=m[x+0+32]=Jt(q,C,T),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Jt(O,q,C),m[x+3+64]=m[x+2+32]=m[x+1+0]=Jt(j,O,q),m[x+3+32]=m[x+2+0]=Jt($,j,O),m[x+3+0]=Jt(te,$,j)}function Vi(m,x){var C=m[x+1-32],T=m[x+2-32],P=m[x+3-32],q=m[x+4-32],O=m[x+5-32],j=m[x+6-32],$=m[x+7-32];m[x+0+0]=Jt(m[x+0-32],C,T),m[x+1+0]=m[x+0+32]=Jt(C,T,P),m[x+2+0]=m[x+1+32]=m[x+0+64]=Jt(T,P,q),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Jt(P,q,O),m[x+3+32]=m[x+2+64]=m[x+1+96]=Jt(q,O,j),m[x+3+64]=m[x+2+96]=Jt(O,j,$),m[x+3+96]=Jt(j,$,$)}function vl(m,x){var C=m[x-1+0],T=m[x-1+32],P=m[x-1+64],q=m[x-1-32],O=m[x+0-32],j=m[x+1-32],$=m[x+2-32],te=m[x+3-32];m[x+0+0]=m[x+1+64]=q+O+1>>1,m[x+1+0]=m[x+2+64]=O+j+1>>1,m[x+2+0]=m[x+3+64]=j+$+1>>1,m[x+3+0]=$+te+1>>1,m[x+0+96]=Jt(P,T,C),m[x+0+64]=Jt(T,C,q),m[x+0+32]=m[x+1+96]=Jt(C,q,O),m[x+1+32]=m[x+2+96]=Jt(q,O,j),m[x+2+32]=m[x+3+96]=Jt(O,j,$),m[x+3+32]=Jt(j,$,te)}function Ha(m,x){var C=m[x+0-32],T=m[x+1-32],P=m[x+2-32],q=m[x+3-32],O=m[x+4-32],j=m[x+5-32],$=m[x+6-32],te=m[x+7-32];m[x+0+0]=C+T+1>>1,m[x+1+0]=m[x+0+64]=T+P+1>>1,m[x+2+0]=m[x+1+64]=P+q+1>>1,m[x+3+0]=m[x+2+64]=q+O+1>>1,m[x+0+32]=Jt(C,T,P),m[x+1+32]=m[x+0+96]=Jt(T,P,q),m[x+2+32]=m[x+1+96]=Jt(P,q,O),m[x+3+32]=m[x+2+96]=Jt(q,O,j),m[x+3+64]=Jt(O,j,$),m[x+3+96]=Jt(j,$,te)}function Dr(m,x){var C=m[x-1+0],T=m[x-1+32],P=m[x-1+64],q=m[x-1+96];m[x+0+0]=C+T+1>>1,m[x+2+0]=m[x+0+32]=T+P+1>>1,m[x+2+32]=m[x+0+64]=P+q+1>>1,m[x+1+0]=Jt(C,T,P),m[x+3+0]=m[x+1+32]=Jt(T,P,q),m[x+3+32]=m[x+1+64]=Jt(P,q,q),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=q}function Ga(m,x){var C=m[x-1+0],T=m[x-1+32],P=m[x-1+64],q=m[x-1+96],O=m[x-1-32],j=m[x+0-32],$=m[x+1-32],te=m[x+2-32];m[x+0+0]=m[x+2+32]=C+O+1>>1,m[x+0+32]=m[x+2+64]=T+C+1>>1,m[x+0+64]=m[x+2+96]=P+T+1>>1,m[x+0+96]=q+P+1>>1,m[x+3+0]=Jt(j,$,te),m[x+2+0]=Jt(O,j,$),m[x+1+0]=m[x+3+32]=Jt(C,O,j),m[x+1+32]=m[x+3+64]=Jt(T,C,O),m[x+1+64]=m[x+3+96]=Jt(P,T,C),m[x+1+96]=Jt(q,P,T)}function wo(m,x){var C;for(C=0;8>C;++C)o(m,x+32*C,m,x-32,8)}function eu(m,x){var C;for(C=0;8>C;++C)a(m,x,m[x-1],8),x+=32}function Or(m,x,C){var T;for(T=0;8>T;++T)a(x,C+32*T,m,8)}function ws(m,x){var C,T=8;for(C=0;8>C;++C)T+=m[x+C-32]+m[x-1+32*C];Or(T>>4,m,x)}function Ss(m,x){var C,T=4;for(C=0;8>C;++C)T+=m[x+C-32];Or(T>>3,m,x)}function Bi(m,x){var C,T=4;for(C=0;8>C;++C)T+=m[x-1+32*C];Or(T>>3,m,x)}function So(m,x){Or(128,m,x)}function zr(m,x,C){var T=m[x-C],P=m[x+0],q=3*(P-T)+ia[1020+m[x-2*C]-m[x+C]],O=Tl[112+(q+4>>3)];m[x-C]=nr[255+T+Tl[112+(q+3>>3)]],m[x+0]=nr[255+P-O]}function zo(m,x,C,T){var P=m[x+0],q=m[x+C];return Ji[255+m[x-2*C]-m[x-C]]>T||Ji[255+q-P]>T}function _s(m,x,C,T){return 4*Ji[255+m[x-C]-m[x+0]]+Ji[255+m[x-2*C]-m[x+C]]<=T}function Va(m,x,C,T,P){var q=m[x-3*C],O=m[x-2*C],j=m[x-C],$=m[x+0],te=m[x+C],ye=m[x+2*C],Re=m[x+3*C];return 4*Ji[255+j-$]+Ji[255+O-te]>T?0:Ji[255+m[x-4*C]-q]<=P&&Ji[255+q-O]<=P&&Ji[255+O-j]<=P&&Ji[255+Re-ye]<=P&&Ji[255+ye-te]<=P&&Ji[255+te-$]<=P}function Ho(m,x,C,T){var P=2*T+1;for(T=0;16>T;++T)_s(m,x+T,C,P)&&zr(m,x+T,C)}function Go(m,x,C,T){var P=2*T+1;for(T=0;16>T;++T)_s(m,x+T*C,1,P)&&zr(m,x+T*C,1)}function ja(m,x,C,T){var P;for(P=3;0<P;--P)Ho(m,x+=4*C,C,T)}function xl(m,x,C,T){var P;for(P=3;0<P;--P)Go(m,x+=4,C,T)}function Vo(m,x,C,T,P,q,O,j){for(q=2*q+1;0<P--;){if(Va(m,x,C,q,O))if(zo(m,x,C,j))zr(m,x,C);else{var $=m,te=x,ye=C,Re=$[te-2*ye],ee=$[te-ye],Se=$[te+0],Me=$[te+ye],je=$[te+2*ye],Le=27*($e=ia[1020+3*(Se-ee)+ia[1020+Re-Me]])+63>>7,Ve=18*$e+63>>7,$e=9*$e+63>>7;$[te-3*ye]=nr[255+$[te-3*ye]+$e],$[te-2*ye]=nr[255+Re+Ve],$[te-ye]=nr[255+ee+Le],$[te+0]=nr[255+Se-Le],$[te+ye]=nr[255+Me-Ve],$[te+2*ye]=nr[255+je-$e]}x+=T}}function jo(m,x,C,T,P,q,O,j){for(q=2*q+1;0<P--;){if(Va(m,x,C,q,O))if(zo(m,x,C,j))zr(m,x,C);else{var $=m,te=x,ye=C,Re=$[te-ye],ee=$[te+0],Se=$[te+ye],Me=Tl[112+(4+(je=3*(ee-Re))>>3)],je=Tl[112+(je+3>>3)],Le=Me+1>>1;$[te-2*ye]=nr[255+$[te-2*ye]+Le],$[te-ye]=nr[255+Re+je],$[te+0]=nr[255+ee-Me],$[te+ye]=nr[255+Se-Le]}x+=T}}function tu(m,x,C,T,P,q){Vo(m,x,C,1,16,T,P,q)}function Yo(m,x,C,T,P,q){Vo(m,x,1,C,16,T,P,q)}function nu(m,x,C,T,P,q){var O;for(O=3;0<O;--O)jo(m,x+=4*C,C,1,16,T,P,q)}function A(m,x,C,T,P,q){var O;for(O=3;0<O;--O)jo(m,x+=4,1,C,16,T,P,q)}function I(m,x,C,T,P,q,O,j){Vo(m,x,P,1,8,q,O,j),Vo(C,T,P,1,8,q,O,j)}function ne(m,x,C,T,P,q,O,j){Vo(m,x,1,P,8,q,O,j),Vo(C,T,1,P,8,q,O,j)}function he(m,x,C,T,P,q,O,j){jo(m,x+4*P,P,1,8,q,O,j),jo(C,T+4*P,P,1,8,q,O,j)}function Ee(m,x,C,T,P,q,O,j){jo(m,x+4,1,P,8,q,O,j),jo(C,T+4,1,P,8,q,O,j)}function Ke(){this.ba=new ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ze,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new wt,this.vb=new wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new oe}function $t(){this.xb=this.a=0,this.l=new qo,this.ca=new ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=c(4,kt),this.Oc=0}function nn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(m,x,C,T,P,q,O){for(m=m==null?0:m[x+0],x=0;x<O;++x)P[q+x]=m+C[T+x]&255,m=P[q+x]}function ni(m,x,C,T,P,q,O){var j;if(m==null)wn(null,null,C,T,P,q,O);else for(j=0;j<O;++j)P[q+j]=m[x+j]+C[T+j]&255}function gi(m,x,C,T,P,q,O){if(m==null)wn(null,null,C,T,P,q,O);else{var j,$=m[x+0],te=$,ye=$;for(j=0;j<O;++j)te=ye+($=m[x+j])-te,ye=C[T+j]+(-256&te?0>te?0:255:te)&255,te=$,P[q+j]=ye}}function Gn(m,x,C,T){var P=x.width,q=x.o;if(e(m!=null&&x!=null),0>C||0>=T||C+T>q)return null;if(!m.Cc){if(m.ga==null){var O;if(m.ga=new nn,(O=m.ga==null)||(O=x.width*x.o,e(m.Gb.length==0),m.Gb=l(O),m.Uc=0,m.Gb==null?O=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,O=1),O=!O),!O){O=m.ga;var j=m.Fa,$=m.P,te=m.qc,ye=m.mb,Re=m.nb,ee=$+1,Se=te-1,Me=O.l;if(e(j!=null&&ye!=null&&x!=null),ra[0]=null,ra[1]=wn,ra[2]=ni,ra[3]=gi,O.ca=ye,O.tb=Re,O.c=x.width,O.i=x.height,e(0<O.c&&0<O.i),1>=te)x=0;else if(O.$a=3&j[$+0],O.Z=j[$+0]>>2&3,O.Lc=j[$+0]>>4&3,$=j[$+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||$)x=0;else if(Me.put=Be,Me.ac=He,Me.bc=Ye,Me.ma=O,Me.width=x.width,Me.height=x.height,Me.Da=x.Da,Me.v=x.v,Me.va=x.va,Me.j=x.j,Me.o=x.o,O.$a)e:{e(O.$a==1),x=br();t:for(;;){if(x==null){x=0;break e}if(e(O!=null),O.mc=x,x.c=O.c,x.i=O.i,x.l=O.l,x.l.ma=O,x.l.width=O.c,x.l.height=O.i,x.a=0,ke(x.m,j,ee,Se),!Gi(O.c,O.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Xt(x.s)?(O.ic=1,j=x.c*x.i,x.Ta=null,x.Ua=0,x.V=l(j),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(O.ic=0,x=ur(x,O.c)),!x))break t;x=1;break e}O.mc=null,x=0}else x=Se>=O.c*O.i;O=!x}if(O)return null;m.ga.Lc!=1?m.Ga=0:T=q-C}e(m.ga!=null),e(C+T<=q);e:{if(x=(j=m.ga).c,q=j.l.o,j.$a==0){if(ee=m.rc,Se=m.Vc,Me=m.Fa,$=m.P+1+C*x,te=m.mb,ye=m.nb+C*x,e($<=m.P+m.qc),j.Z!=0)for(e(ra[j.Z]!=null),O=0;O<T;++O)ra[j.Z](ee,Se,Me,$,te,ye,x),ee=te,Se=ye,ye+=x,$+=x;else for(O=0;O<T;++O)o(te,ye,Me,$,x),ee=te,Se=ye,ye+=x,$+=x;m.rc=ee,m.Vc=Se}else{if(e(j.mc!=null),x=C+T,e((O=j.mc)!=null),e(x<=O.i),O.C>=x)x=1;else if(j.ic||lo(),j.ic){j=O.V,ee=O.Ba,Se=O.c;var je=O.i,Le=(Me=1,$=O.$/Se,te=O.$%Se,ye=O.m,Re=O.s,O.$),Ve=Se*je,$e=Se*x,st=Re.wc,nt=Le<$e?bn(Re,te,$):null;e(Le<=Ve),e(x<=je),e(Xt(Re));t:for(;;){for(;!ye.h&&Le<$e;){if(te&st||(nt=bn(Re,te,$)),e(nt!=null),ge(ye),256>(je=Ut(nt.G[0],nt.H[0],ye)))j[ee+Le]=je,++Le,++te>=Se&&(te=0,++$<=x&&!($%16)&&ti(O,$));else{if(!(280>je)){Me=0;break t}je=Ot(je-256,ye);var Rt,_t=Ut(nt.G[4],nt.H[4],ye);if(ge(ye),!(Le>=(_t=tn(Se,_t=Ot(_t,ye)))&&Ve-Le>=je)){Me=0;break t}for(Rt=0;Rt<je;++Rt)j[ee+Le+Rt]=j[ee+Le+Rt-_t];for(Le+=je,te+=je;te>=Se;)te-=Se,++$<=x&&!($%16)&&ti(O,$);Le<$e&&te&st&&(nt=bn(Re,te,$))}e(ye.h==Q(ye))}ti(O,$>x?x:$);break t}!Me||ye.h&&Le<Ve?(Me=0,O.a=ye.h?5:3):O.$=Le,x=Me}else x=Nn(O,O.V,O.Ba,O.c,O.i,x,kr);if(!x){T=0;break e}}C+T>=q&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+C*P}function Ri(m,x,C,T,P,q){for(;0<P--;){var O,j=m,$=x+(C?1:0),te=m,ye=x+(C?0:3);for(O=0;O<T;++O){var Re=te[ye+4*O];Re!=255&&(Re*=32897,j[$+4*O+0]=j[$+4*O+0]*Re>>23,j[$+4*O+1]=j[$+4*O+1]*Re>>23,j[$+4*O+2]=j[$+4*O+2]*Re>>23)}x+=q}}function Si(m,x,C,T,P){for(;0<T--;){var q;for(q=0;q<C;++q){var O=m[x+2*q+0],j=15&(te=m[x+2*q+1]),$=4369*j,te=(240&te|te>>4)*$>>16;m[x+2*q+0]=(240&O|O>>4)*$>>16&240|(15&O|O<<4)*$>>16>>4&15,m[x+2*q+1]=240&te|j}x+=P}}function ji(m,x,C,T,P,q,O,j){var $,te,ye=255;for(te=0;te<P;++te){for($=0;$<T;++$){var Re=m[x+$];q[O+4*$]=Re,ye&=Re}x+=C,O+=j}return ye!=255}function Jo(m,x,C,T,P){var q;for(q=0;q<P;++q)C[T+q]=m[x+q]>>8}function lo(){Ka=Ri,Gr=Si,Al=ji,Fr=Jo}function Wo(m,x,C){K[m]=function(T,P,q,O,j,$,te,ye,Re,ee,Se,Me,je,Le,Ve,$e,st){var nt,Rt=st-1>>1,_t=j[$+0]|te[ye+0]<<16,Zt=Re[ee+0]|Se[Me+0]<<16;e(T!=null);var Nt=3*_t+Zt+131074>>2;for(x(T[P+0],255&Nt,Nt>>16,je,Le),q!=null&&(Nt=3*Zt+_t+131074>>2,x(q[O+0],255&Nt,Nt>>16,Ve,$e)),nt=1;nt<=Rt;++nt){var dn=j[$+nt]|te[ye+nt]<<16,Xn=Re[ee+nt]|Se[Me+nt]<<16,rn=_t+dn+Zt+Xn+524296,At=rn+2*(dn+Zt)>>3;Nt=At+_t>>1,_t=(rn=rn+2*(_t+Xn)>>3)+dn>>1,x(T[P+2*nt-1],255&Nt,Nt>>16,je,Le+(2*nt-1)*C),x(T[P+2*nt-0],255&_t,_t>>16,je,Le+(2*nt-0)*C),q!=null&&(Nt=rn+Zt>>1,_t=At+Xn>>1,x(q[O+2*nt-1],255&Nt,Nt>>16,Ve,$e+(2*nt-1)*C),x(q[O+2*nt+0],255&_t,_t>>16,Ve,$e+(2*nt+0)*C)),_t=dn,Zt=Xn}1&st||(Nt=3*_t+Zt+131074>>2,x(T[P+st-1],255&Nt,Nt>>16,je,Le+(st-1)*C),q!=null&&(Nt=3*Zt+_t+131074>>2,x(q[O+st-1],255&Nt,Nt>>16,Ve,$e+(st-1)*C)))}}function bl(){Ki[au]=Za,Ki[ir]=Ds,Ki[su]=lc,Ki[Vr]=du,Ki[Nl]=Ca,Ki[Ls]=Lo,Ki[_a]=Ta,Ki[Ml]=Ds,Ki[lu]=du,Ki[Rs]=Ca,Ki[uu]=Lo}function As(m){return m&-16384?0>m?0:255:m>>hu}function _o(m,x){return As((19077*m>>8)+(26149*x>>8)-14234)}function uo(m,x,C){return As((19077*m>>8)-(6419*x>>8)-(13320*C>>8)+8708)}function Ya(m,x){return As((19077*m>>8)+(33050*x>>8)-17685)}function Ko(m,x,C,T,P){T[P+0]=_o(m,C),T[P+1]=uo(m,x,C),T[P+2]=Ya(m,x)}function qi(m,x,C,T,P){T[P+0]=Ya(m,x),T[P+1]=uo(m,x,C),T[P+2]=_o(m,C)}function ba(m,x,C,T,P){var q=uo(m,x,C);x=q<<3&224|Ya(m,x)>>3,T[P+0]=248&_o(m,C)|q>>5,T[P+1]=x}function wa(m,x,C,T,P){var q=240&Ya(m,x)|15;T[P+0]=240&_o(m,C)|uo(m,x,C)>>4,T[P+1]=q}function Es(m,x,C,T,P){T[P+0]=255,Ko(m,x,C,T,P+1)}function Ao(m,x,C,T,P){qi(m,x,C,T,P),T[P+3]=255}function pr(m,x,C,T,P){Ko(m,x,C,T,P),T[P+3]=255}function $o(m,x,C){K[m]=function(T,P,q,O,j,$,te,ye,Re){for(var ee=ye+(-2&Re)*C;ye!=ee;)x(T[P+0],q[O+0],j[$+0],te,ye),x(T[P+1],q[O+0],j[$+0],te,ye+C),P+=2,++O,++$,ye+=2*C;1&Re&&x(T[P+0],q[O+0],j[$+0],te,ye)}}function Cs(m,x,C){return C==0?m==0?x==0?6:5:x==0?4:0:C}function wl(m,x,C,T,P){switch(m>>>30){case 3:na(x,C,T,P,0);break;case 2:tr(x,C,T,P);break;case 1:kn(x,C,T,P)}}function Pr(m,x){var C,T,P=x.M,q=x.Nb,O=m.oc,j=m.pc+40,$=m.oc,te=m.pc+584,ye=m.oc,Re=m.pc+600;for(C=0;16>C;++C)O[j+32*C-1]=129;for(C=0;8>C;++C)$[te+32*C-1]=129,ye[Re+32*C-1]=129;for(0<P?O[j-1-32]=$[te-1-32]=ye[Re-1-32]=129:(a(O,j-32-1,127,21),a($,te-32-1,127,9),a(ye,Re-32-1,127,9)),T=0;T<m.za;++T){var ee=x.ya[x.aa+T];if(0<T){for(C=-1;16>C;++C)o(O,j+32*C-4,O,j+32*C+12,4);for(C=-1;8>C;++C)o($,te+32*C-4,$,te+32*C+4,4),o(ye,Re+32*C-4,ye,Re+32*C+4,4)}var Se=m.Gd,Me=m.Hd+T,je=ee.ad,Le=ee.Hc;if(0<P&&(o(O,j-32,Se[Me].y,0,16),o($,te-32,Se[Me].f,0,8),o(ye,Re-32,Se[Me].ea,0,8)),ee.Za){var Ve=O,$e=j-32+16;for(0<P&&(T>=m.za-1?a(Ve,$e,Se[Me].y[15],4):o(Ve,$e,Se[Me+1].y,0,4)),C=0;4>C;C++)Ve[$e+128+C]=Ve[$e+256+C]=Ve[$e+384+C]=Ve[$e+0+C];for(C=0;16>C;++C,Le<<=2)Ve=O,$e=j+xi[C],ui[ee.Ob[C]](Ve,$e),wl(Le,je,16*+C,Ve,$e)}else if(Ve=Cs(T,P,ee.Ob[0]),gr[Ve](O,j),Le!=0)for(C=0;16>C;++C,Le<<=2)wl(Le,je,16*+C,O,j+xi[C]);for(C=ee.Gc,Ve=Cs(T,P,ee.Dd),po[Ve]($,te),po[Ve](ye,Re),Le=je,Ve=$,$e=te,255&(ee=0|C)&&(170&ee?Hr(Le,256,Ve,$e):Sn(Le,256,Ve,$e)),ee=ye,Le=Re,255&(C>>=8)&&(170&C?Hr(je,320,ee,Le):Sn(je,320,ee,Le)),P<m.Ub-1&&(o(Se[Me].y,0,O,j+480,16),o(Se[Me].f,0,$,te+224,8),o(Se[Me].ea,0,ye,Re+224,8)),C=8*q*m.B,Se=m.sa,Me=m.ta+16*T+16*q*m.R,je=m.qa,ee=m.ra+8*T+C,Le=m.Ha,Ve=m.Ia+8*T+C,C=0;16>C;++C)o(Se,Me+C*m.R,O,j+32*C,16);for(C=0;8>C;++C)o(je,ee+C*m.B,$,te+32*C,8),o(Le,Ve+C*m.B,ye,Re+32*C,8)}}function co(m,x,C,T,P,q,O,j,$){var te=[0],ye=[0],Re=0,ee=$!=null?$.kd:0,Se=$??new it;if(m==null||12>C)return 7;Se.data=m,Se.w=x,Se.ha=C,x=[x],C=[C],Se.gb=[Se.gb];e:{var Me=x,je=C,Le=Se.gb;if(e(m!=null),e(je!=null),e(Le!=null),Le[0]=0,12<=je[0]&&!i(m,Me[0],"RIFF")){if(i(m,Me[0]+8,"WEBP")){Le=3;break e}var Ve=ot(m,Me[0]+4);if(12>Ve||4294967286<Ve){Le=3;break e}if(ee&&Ve>je[0]-8){Le=7;break e}Le[0]=Ve,Me[0]+=12,je[0]-=12}Le=0}if(Le!=0)return Le;for(Ve=0<Se.gb[0],C=C[0];;){e:{var $e=m;je=x,Le=C;var st=te,nt=ye,Rt=Me=[0];if((Nt=Re=[Re])[0]=0,8>Le[0])Le=7;else{if(!i($e,je[0],"VP8X")){if(ot($e,je[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var _t=ot($e,je[0]+8),Zt=1+et($e,je[0]+12);if(2147483648<=Zt*($e=1+et($e,je[0]+15))){Le=3;break e}Rt!=null&&(Rt[0]=_t),st!=null&&(st[0]=Zt),nt!=null&&(nt[0]=$e),je[0]+=18,Le[0]-=18,Nt[0]=1}Le=0}}if(Re=Re[0],Me=Me[0],Le!=0)return Le;if(je=!!(2&Me),!Ve&&Re)return 3;if(q!=null&&(q[0]=!!(16&Me)),O!=null&&(O[0]=je),j!=null&&(j[0]=0),O=te[0],Me=ye[0],Re&&je&&$==null){Le=0;break}if(4>C){Le=7;break}if(Ve&&Re||!Ve&&!Re&&!i(m,x[0],"ALPH")){C=[C],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{_t=m,Le=x,Ve=C;var Nt=Se.gb;st=Se.na,nt=Se.P,Rt=Se.Sa,Zt=22,e(_t!=null),e(Ve!=null),$e=Le[0];var dn=Ve[0];for(e(st!=null),e(Rt!=null),st[0]=null,nt[0]=null,Rt[0]=0;;){if(Le[0]=$e,Ve[0]=dn,8>dn){Le=7;break e}var Xn=ot(_t,$e+4);if(4294967286<Xn){Le=3;break e}var rn=8+Xn+1&-2;if(Zt+=rn,0<Nt&&Zt>Nt){Le=3;break e}if(!i(_t,$e,"VP8 ")||!i(_t,$e,"VP8L")){Le=0;break e}if(dn[0]<rn){Le=7;break e}i(_t,$e,"ALPH")||(st[0]=_t,nt[0]=$e+8,Rt[0]=Xn),$e+=rn,dn-=rn}}if(C=C[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Le!=0)break}C=[C],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(Nt=m,Le=x,Ve=C,st=Se.gb[0],nt=Se.Ja,Rt=Se.xa,_t=Le[0],$e=!i(Nt,_t,"VP8 "),Zt=!i(Nt,_t,"VP8L"),e(Nt!=null),e(Ve!=null),e(nt!=null),e(Rt!=null),8>Ve[0])Le=7;else{if($e||Zt){if(Nt=ot(Nt,_t+4),12<=st&&Nt>st-12){Le=3;break e}if(ee&&Nt>Ve[0]-8){Le=7;break e}nt[0]=Nt,Le[0]+=8,Ve[0]-=8,Rt[0]=Zt}else Rt[0]=5<=Ve[0]&&Nt[_t+0]==47&&!(Nt[_t+4]>>5),nt[0]=Ve[0];Le=0}if(C=C[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],x=x[0],Le!=0)break;if(4294967286<Se.Ja)return 3;if(j==null||je||(j[0]=Se.xa?2:1),O=[O],Me=[Me],Se.xa){if(5>C){Le=7;break}j=O,ee=Me,je=q,m==null||5>C?m=0:5<=C&&m[x+0]==47&&!(m[x+4]>>5)?(Ve=[0],Nt=[0],st=[0],ke(nt=new G,m,x,C),pt(nt,Ve,Nt,st)?(j!=null&&(j[0]=Ve[0]),ee!=null&&(ee[0]=Nt[0]),je!=null&&(je[0]=st[0]),m=1):m=0):m=0}else{if(10>C){Le=7;break}j=Me,m==null||10>C||!cl(m,x+3,C-3)?m=0:(ee=m[x+0]|m[x+1]<<8|m[x+2]<<16,je=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=Se.Ja||!je||!m?m=0:(O&&(O[0]=je),j&&(j[0]=m),m=1))}if(!m||(O=O[0],Me=Me[0],Re&&(te[0]!=O||ye[0]!=Me)))return 3;$!=null&&($[0]=Se,$.offset=x-$.w,e(4294967286>x-$.w),e($.offset==$.ha-C));break}return Le==0||Le==7&&Re&&$==null?(q!=null&&(q[0]|=Se.na!=null&&0<Se.na.length),T!=null&&(T[0]=O),P!=null&&(P[0]=Me),0):Le}function Xo(m,x,C){var T=x.width,P=x.height,q=0,O=0,j=T,$=P;if(x.Da=m!=null&&0<m.Da,x.Da&&(j=m.cd,$=m.bd,q=m.v,O=m.j,11>C||(q&=-2,O&=-2),0>q||0>O||0>=j||0>=$||q+j>T||O+$>P))return 0;if(x.v=q,x.j=O,x.va=q+j,x.o=O+$,x.U=j,x.T=$,x.da=m!=null&&0<m.da,x.da){if(!mt(j,$,C=[m.ib],q=[m.hb]))return 0;x.ib=C[0],x.hb=q[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*T/4&&x.hb<3*P/4,x.Kb=0),1}function Sl(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function fo(m,x,C,T){if(T==null||0>=m||0>=x)return 2;if(C!=null){if(C.Da){var P=C.cd,q=C.bd,O=-2&C.v,j=-2&C.j;if(0>O||0>j||0>=P||0>=q||O+P>m||j+q>x)return 2;m=P,x=q}if(C.da){if(!mt(m,x,P=[C.ib],q=[C.hb]))return 2;m=P[0],x=q[0]}}T.width=m,T.height=x;e:{var $=T.width,te=T.height;if(m=T.S,0>=$||0>=te||!(m>=au&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){O=q=P=x=0;var ye=(j=$*mu[m])*te;if(11>m||(q=(te+1)/2*(x=($+1)/2),m==12&&(O=(P=$)*te)),(te=l(ye+2*q+O))==null){m=1;break e}T.sd=te,11>m?(($=T.f.RGBA).eb=te,$.fb=0,$.A=j,$.size=ye):(($=T.f.kb).y=te,$.O=0,$.fa=j,$.Fd=ye,$.f=te,$.N=0+ye,$.Ab=x,$.Cd=q,$.ea=te,$.W=0+ye+q,$.Db=x,$.Ed=q,m==12&&($.F=te,$.J=0+ye+2*q),$.Tc=O,$.lb=P)}if(x=1,P=T.S,q=T.width,O=T.height,P>=au&&13>P)if(11>P)m=T.f.RGBA,x&=(j=Math.abs(m.A))*(O-1)+q<=m.size,x&=j>=q*mu[P],x&=m.eb!=null;else{m=T.f.kb,j=(q+1)/2,ye=(O+1)/2,$=Math.abs(m.fa),te=Math.abs(m.Ab);var Re=Math.abs(m.Db),ee=Math.abs(m.lb),Se=ee*(O-1)+q;x&=$*(O-1)+q<=m.Fd,x&=te*(ye-1)+j<=m.Cd,x=(x&=Re*(ye-1)+j<=m.Ed)&$>=q&te>=j&Re>=j,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,P==12&&(x&=ee>=q,x&=Se<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||C!=null&&C.fd&&(m=Sl(T)),m}var Sa=64,Sr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mr=24,Eo=32,Co=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(m){return m},K.Predictor2=function(m,x,C){return x[C+0]},K.Predictor3=function(m,x,C){return x[C+1]},K.Predictor4=function(m,x,C){return x[C-1]},K.Predictor5=function(m,x,C){return ut(ut(m,x[C+1]),x[C+0])},K.Predictor6=function(m,x,C){return ut(m,x[C-1])},K.Predictor7=function(m,x,C){return ut(m,x[C+0])},K.Predictor8=function(m,x,C){return ut(x[C-1],x[C+0])},K.Predictor9=function(m,x,C){return ut(x[C+0],x[C+1])},K.Predictor10=function(m,x,C){return ut(ut(m,x[C-1]),ut(x[C+0],x[C+1]))},K.Predictor11=function(m,x,C){var T=x[C+0];return 0>=yt(T>>24&255,m>>24&255,(x=x[C-1])>>24&255)+yt(T>>16&255,m>>16&255,x>>16&255)+yt(T>>8&255,m>>8&255,x>>8&255)+yt(255&T,255&m,255&x)?T:m},K.Predictor12=function(m,x,C){var T=x[C+0];return(jt((m>>24&255)+(T>>24&255)-((x=x[C-1])>>24&255))<<24|jt((m>>16&255)+(T>>16&255)-(x>>16&255))<<16|jt((m>>8&255)+(T>>8&255)-(x>>8&255))<<8|jt((255&m)+(255&T)-(255&x)))>>>0},K.Predictor13=function(m,x,C){var T=x[C-1];return(sn((m=ut(m,x[C+0]))>>24&255,T>>24&255)<<24|sn(m>>16&255,T>>16&255)<<16|sn(m>>8&255,T>>8&255)<<8|sn(255&m,255&T))>>>0};var Ts=K.PredictorAdd0;K.PredictorAdd1=Pe,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var Ns=K.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var yi,iu=K.ColorIndexInverseTransform,To=K.MapARGB,No=K.VP8LColorIndexInverseTransformAlpha,Yi=K.MapAlpha,Qo=K.VP8LPredictorsAdd=[];Qo.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var Ms,ks,ea,ta,Mo,Ja,Ur,na,tr,Hr,kn,Sn,Vn,vi,ko,ho,Wa,_l,ic,$c,Xc,Zc,rc,oc,Ka,Gr,Al,Fr,$a=l(511),ru=l(2041),El=l(225),Cl=l(767),ou=0,ia=ru,Tl=El,nr=Cl,Ji=$a,au=0,ir=1,su=2,Vr=3,Nl=4,Ls=5,_a=6,Ml=7,lu=8,Rs=9,uu=10,jr=[2,3,7],Is=[3,3,11],Xa=[280,256,256,256,40],cu=[0,1,1,1,0],kl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Aa=8,Wr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Br=null,Qc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ac=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ef=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$n=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gr=[],ui=[],po=[],Ea=1,sc=2,ra=[],Ki=[];Wo("UpsampleRgbLinePair",Ko,3),Wo("UpsampleBgrLinePair",qi,3),Wo("UpsampleRgbaLinePair",pr,4),Wo("UpsampleBgraLinePair",Ao,4),Wo("UpsampleArgbLinePair",Es,4),Wo("UpsampleRgba4444LinePair",wa,2),Wo("UpsampleRgb565LinePair",ba,2);var Za=K.UpsampleRgbLinePair,lc=K.UpsampleBgrLinePair,Ds=K.UpsampleRgbaLinePair,du=K.UpsampleBgraLinePair,Ca=K.UpsampleArgbLinePair,Lo=K.UpsampleRgba4444LinePair,Ta=K.UpsampleRgb565LinePair,$r=16,Ps=1<<$r-1,Qa=-227,Na=482,hu=6,Ma=0,$i=l(256),pu=l(256),tf=l(256),Sd=l(256),_d=l(Na-Qa),Ad=l(Na-Qa);$o("YuvToRgbRow",Ko,3),$o("YuvToBgrRow",qi,3),$o("YuvToRgbaRow",pr,4),$o("YuvToBgraRow",Ao,4),$o("YuvToArgbRow",Es,4),$o("YuvToRgba4444Row",wa,2),$o("YuvToRgb565Row",ba,2);var xi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Us=[0,2,8],Ll=[8,7,6,4,4,2,2,2,1,1,1,1],Rl=1;this.WebPDecodeRGBA=function(m,x,C,T,P){var q=ir,O=new Ke,j=new ve;O.ba=j,j.S=q,j.width=[j.width],j.height=[j.height];var $=j.width,te=j.height,ye=new _e;if(ye==null||m==null)var Re=2;else e(ye!=null),Re=co(m,x,C,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Re!=0?$=0:($!=null&&($[0]=ye.width[0]),te!=null&&(te[0]=ye.height[0]),$=1),$){j.width=j.width[0],j.height=j.height[0],T!=null&&(T[0]=j.width),P!=null&&(P[0]=j.height);e:{if(T=new qo,(P=new it).data=m,P.w=x,P.ha=C,P.kd=1,x=[0],e(P!=null),((m=co(P.data,P.w,P.ha,null,null,null,x,null,P))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(O!=null),T.data=P.data,T.w=P.w+P.offset,T.ha=P.ha-P.offset,T.put=Be,T.ac=He,T.bc=Ye,T.ma=O,P.xa){if((m=br())==null){O=1;break e}if((function(ee,Se){var Me=[0],je=[0],Le=[0];t:for(;;){if(ee==null)return 0;if(Se==null)return ee.a=2,0;if(ee.l=Se,ee.a=0,ke(ee.m,Se.data,Se.w,Se.ha),!pt(ee.m,Me,je,Le)){ee.a=3;break t}if(ee.xb=sc,Se.width=Me[0],Se.height=je[0],!Gi(Me[0],je[0],1,ee,null))break t;return 1}return e(ee.a!=0),0})(m,T)){if(T=(x=fo(T.width,T.height,O.Oa,O.ba))==0){t:{T=m;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((C=T.l)!=null),e((P=C.ma)!=null),T.xb!=0){if(T.ca=P.ba,T.tb=P.tb,e(T.ca!=null),!Xo(P.Oa,C,Vr)){T.a=2;break n}if(!ur(T,C.width)||C.da)break n;if((C.da||fe(T.ca.S))&&lo(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&lo()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!W(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Nn(T,T.V,T.Ba,T.c,T.i,C.o,gn))break n;P.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(x=m.a)}else x=m.a}else{if((m=new oo)==null){O=1;break e}if(m.Fa=P.na,m.P=P.P,m.qc=P.Sa,bo(m,T)){if((x=fo(T.width,T.height,O.Oa,O.ba))==0){if(m.Aa=0,C=O.Oa,e((P=m)!=null),C!=null){if(0<($=0>($=C.Md)?0:100<$?255:255*$/100)){for(te=ye=0;4>te;++te)12>(Re=P.pb[te]).lc&&(Re.ia=$*Ll[0>Re.lc?0:Re.lc]>>3),ye|=Re.ia;ye&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=C.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}(function(ee,Se){if(ee==null)return 0;if(Se==null)return Mn(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!bo(ee,Se))return 0;if(e(ee.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(ee.L=0);var Me=Us[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=Se.v-Me>>4,ee.zb=Se.j-Me>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=Se.o+15+Me>>4,ee.Hb=Se.va+15+Me>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var je=ee.ed;for(Me=0;4>Me;++Me){var Le;if(ee.Qa.Cb){var Ve=ee.Qa.Lb[Me];ee.Qa.Fb||(Ve+=je.Tb)}else Ve=je.Tb;for(Le=0;1>=Le;++Le){var $e=ee.gd[Me][Le],st=Ve;if(je.Pc&&(st+=je.vd[0],Le&&(st+=je.od[0])),0<(st=0>st?0:63<st?63:st)){var nt=st;0<je.wb&&(nt=4<je.wb?nt>>2:nt>>1)>9-je.wb&&(nt=9-je.wb),1>nt&&(nt=1),$e.dd=nt,$e.tc=2*st+nt,$e.ld=40<=st?2:15<=st?1:0}else $e.tc=0;$e.La=Le}}}Me=0}else Mn(ee,6,"Frame setup failed"),Me=ee.a;if(Me=Me==0){if(Me){ee.$c=0,0<ee.Aa||(ee.Ic=Rl);t:{Me=ee.Ic,je=4*(nt=ee.za);var Rt=32*nt,_t=nt+1,Zt=0<ee.L?nt*(0<ee.Aa?2:1):0,Nt=(ee.Aa==2?2:1)*nt;if(($e=je+832+(Le=3*(16*Me+Us[ee.L])/2*Rt)+(Ve=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=$e)Me=0;else{if($e>ee.Vb){if(ee.Vb=0,ee.Ec=l($e),ee.Fc=0,ee.Ec==null){Me=Mn(ee,1,"no memory during frame initialization.");break t}ee.Vb=$e}$e=ee.Ec,st=ee.Fc,ee.Ac=$e,ee.Bc=st,st+=je,ee.Gd=c(Rt,ul),ee.Hd=0,ee.rb=c(_t+1,ro),ee.sb=1,ee.wa=Zt?c(Zt,Lr):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=nt),e(!0),ee.oc=$e,ee.pc=st,st+=832,ee.ya=c(Nt,sl),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=nt),ee.R=16*nt,ee.B=8*nt,nt=(Rt=Us[ee.L])*ee.R,Rt=Rt/2*ee.B,ee.sa=$e,ee.ta=st+nt,ee.qa=ee.sa,ee.ra=ee.ta+16*Me*ee.R+Rt,ee.Ha=ee.qa,ee.Ia=ee.ra+8*Me*ee.B+Rt,ee.$c=0,st+=Le,ee.mb=Ve?$e:null,ee.nb=Ve?st:null,e(st+Ve<=ee.Fc+ee.Vb),fl(ee),a(ee.Ac,ee.Bc,0,je),Me=1}}if(Me){if(Se.ka=0,Se.y=ee.sa,Se.O=ee.ta,Se.f=ee.qa,Se.N=ee.ra,Se.ea=ee.Ha,Se.Vd=ee.Ia,Se.fa=ee.R,Se.Rc=ee.B,Se.F=null,Se.J=0,!ou){for(Me=-255;255>=Me;++Me)$a[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)ru[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)El[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Cl[255+Me]=0>Me?0:255<Me?255:Me;ou=1}Ur=ao,na=dl,Hr=hr,kn=hl,Sn=pl,tr=Wl,Vn=tu,vi=Yo,ko=I,ho=ne,Wa=nu,_l=A,ic=he,$c=Ee,Xc=Ho,Zc=Go,rc=ja,oc=xl,ui[0]=Ql,ui[1]=Kl,ui[2]=Zl,ui[3]=yl,ui[4]=Ir,ui[5]=vl,ui[6]=Vi,ui[7]=Ha,ui[8]=Ga,ui[9]=Dr,gr[0]=so,gr[1]=ml,gr[2]=gl,gr[3]=Xl,gr[4]=Oo,gr[5]=za,gr[6]=xa,po[0]=ws,po[1]=$l,po[2]=wo,po[3]=eu,po[4]=Bi,po[5]=Ss,po[6]=So,Me=1}else Me=0}Me&&(Me=(function(dn,Xn){for(dn.M=0;dn.M<dn.Va;++dn.M){var rn,At=dn.Jc[dn.M&dn.Xb],ht=dn.m,ii=dn;for(rn=0;rn<ii.za;++rn){var Wt=ht,ln=ii,Pn=ln.Ac,Ii=ln.Bc+4*rn,Xi=ln.zc,jn=ln.ya[ln.aa+rn];if(ln.Qa.Bb?jn.$b=we(Wt,ln.Pa.jb[0])?2+we(Wt,ln.Pa.jb[2]):we(Wt,ln.Pa.jb[1]):jn.$b=0,ln.kc&&(jn.Ad=we(Wt,ln.Bd)),jn.Za=!we(Wt,145)+0,jn.Za){var _i=jn.Ob,rr=0;for(ln=0;4>ln;++ln){var Ai,fn=Xi[0+ln];for(Ai=0;4>Ai;++Ai){fn=Wi[Pn[Ii+Ai]][fn];for(var En=fu[we(Wt,fn[0])];0<En;)En=fu[2*En+we(Wt,fn[En])];fn=-En,Pn[Ii+Ai]=fn}o(_i,rr,Pn,Ii,4),rr+=4,Xi[0+ln]=fn}}else fn=we(Wt,156)?we(Wt,128)?1:3:we(Wt,163)?2:0,jn.Ob[0]=fn,a(Pn,Ii,fn,4),a(Xi,0,fn,4);jn.Dd=we(Wt,142)?we(Wt,114)?we(Wt,183)?1:3:2:0}if(ii.m.Ka)return Mn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(ii=At,Wt=(ht=dn).rb[ht.sb-1],Pn=ht.rb[ht.sb+ht.ja],rn=ht.ya[ht.aa+ht.ja],Ii=ht.kc?rn.Ad:0)Wt.la=Pn.la=0,rn.Za||(Wt.Na=Pn.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var ri,Ln;if(Wt=Pn,Pn=ii,Ii=ht.Pa.Xc,Xi=ht.ya[ht.aa+ht.ja],jn=ht.pb[Xi.$b],ln=Xi.ad,_i=0,rr=ht.rb[ht.sb-1],fn=Ai=0,a(ln,_i,0,384),Xi.Za)var Di=0,oi=Ii[3];else{En=l(16);var Cn=Wt.Na+rr.Na;if(Cn=Br(Pn,Ii[1],Cn,jn.Eb,0,En,0),Wt.Na=rr.Na=(0<Cn)+0,1<Cn)Ur(En,0,ln,_i);else{var bi=En[0]+3>>3;for(En=0;256>En;En+=16)ln[_i+En]=bi}Di=1,oi=Ii[0]}var Un=15&Wt.la,Ei=15&rr.la;for(En=0;4>En;++En){var Ci=1&Ei;for(bi=Ln=0;4>bi;++bi)Un=Un>>1|(Ci=(Cn=Br(Pn,oi,Cn=Ci+(1&Un),jn.Sc,Di,ln,_i))>Di)<<7,Ln=Ln<<2|(3<Cn?3:1<Cn?2:ln[_i+0]!=0),_i+=16;Un>>=4,Ei=Ei>>1|Ci<<7,Ai=(Ai<<8|Ln)>>>0}for(oi=Un,Di=Ei>>4,ri=0;4>ri;ri+=2){for(Ln=0,Un=Wt.la>>4+ri,Ei=rr.la>>4+ri,En=0;2>En;++En){for(Ci=1&Ei,bi=0;2>bi;++bi)Cn=Ci+(1&Un),Un=Un>>1|(Ci=0<(Cn=Br(Pn,Ii[2],Cn,jn.Qc,0,ln,_i)))<<3,Ln=Ln<<2|(3<Cn?3:1<Cn?2:ln[_i+0]!=0),_i+=16;Un>>=2,Ei=Ei>>1|Ci<<5}fn|=Ln<<4*ri,oi|=Un<<4<<ri,Di|=(240&Ei)<<ri}Wt.la=oi,rr.la=Di,Xi.Hc=Ai,Xi.Gc=fn,Xi.ia=43690&fn?0:jn.ia,Ii=!(Ai|fn)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[rn.$b][rn.Za],ht.wa[ht.Y+ht.ja].La|=!Ii),ii.Ka)return Mn(dn,7,"Premature end-of-file encountered.")}if(fl(dn),ht=Xn,ii=1,rn=(At=dn).D,Wt=0<At.L&&At.M>=At.zb&&At.M<=At.Va,At.Aa==0)t:{if(rn.M=At.M,rn.uc=Wt,Pr(At,rn),ii=1,rn=(Ln=At.D).Nb,Wt=(fn=Us[At.L])*At.R,Pn=fn/2*At.B,En=16*rn*At.R,bi=8*rn*At.B,Ii=At.sa,Xi=At.ta-Wt+En,jn=At.qa,ln=At.ra-Pn+bi,_i=At.Ha,rr=At.Ia-Pn+bi,Ei=(Un=Ln.M)==0,Ai=Un>=At.Va-1,At.Aa==2&&Pr(At,Ln),Ln.uc)for(Ci=(Cn=At).D.M,e(Cn.D.uc),Ln=Cn.yb;Ln<Cn.Hb;++Ln){Di=Ln,oi=Ci;var Bn=(_n=(Ti=Cn).D).Nb;ri=Ti.R;var _n=_n.wa[_n.Y+Di],or=Ti.sa,ci=Ti.ta+16*Bn*ri+16*Di,zt=_n.dd,Gt=_n.tc;if(Gt!=0)if(e(3<=Gt),Ti.L==1)0<Di&&Zc(or,ci,ri,Gt+4),_n.La&&oc(or,ci,ri,Gt),0<oi&&Xc(or,ci,ri,Gt+4),_n.La&&rc(or,ci,ri,Gt);else{var Tn=Ti.B,_r=Ti.qa,Xr=Ti.ra+8*Bn*Tn+8*Di,yr=Ti.Ha,Ti=Ti.Ia+8*Bn*Tn+8*Di;Bn=_n.ld,0<Di&&(vi(or,ci,ri,Gt+4,zt,Bn),ho(_r,Xr,yr,Ti,Tn,Gt+4,zt,Bn)),_n.La&&(_l(or,ci,ri,Gt,zt,Bn),$c(_r,Xr,yr,Ti,Tn,Gt,zt,Bn)),0<oi&&(Vn(or,ci,ri,Gt+4,zt,Bn),ko(_r,Xr,yr,Ti,Tn,Gt+4,zt,Bn)),_n.La&&(Wa(or,ci,ri,Gt,zt,Bn),ic(_r,Xr,yr,Ti,Tn,Gt,zt,Bn))}}if(At.ia&&alert("todo:DitherRow"),ht.put!=null){if(Ln=16*Un,Un=16*(Un+1),Ei?(ht.y=At.sa,ht.O=At.ta+En,ht.f=At.qa,ht.N=At.ra+bi,ht.ea=At.Ha,ht.W=At.Ia+bi):(Ln-=fn,ht.y=Ii,ht.O=Xi,ht.f=jn,ht.N=ln,ht.ea=_i,ht.W=rr),Ai||(Un-=fn),Un>ht.o&&(Un=ht.o),ht.F=null,ht.J=null,At.Fa!=null&&0<At.Fa.length&&Ln<Un&&(ht.J=Gn(At,ht,Ln,Un-Ln),ht.F=At.mb,ht.F==null&&ht.F.length==0)){ii=Mn(At,3,"Could not decode alpha data.");break t}Ln<ht.j&&(fn=ht.j-Ln,Ln=ht.j,e(!(1&fn)),ht.O+=At.R*fn,ht.N+=At.B*(fn>>1),ht.W+=At.B*(fn>>1),ht.F!=null&&(ht.J+=ht.width*fn)),Ln<Un&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Ln-ht.j,ht.U=ht.va-ht.v,ht.T=Un-Ln,ii=ht.put(ht))}rn+1!=At.Ic||Ai||(o(At.sa,At.ta-Wt,Ii,Xi+16*At.R,Wt),o(At.qa,At.ra-Pn,jn,ln+8*At.B,Pn),o(At.Ha,At.Ia-Pn,_i,rr+8*At.B,Pn))}if(!ii)return Mn(dn,6,"Output aborted.")}return 1})(ee,Se)),Se.bc!=null&&Se.bc(Se),Me&=1}return Me?(ee.cb=0,Me):0})(m,T)||(x=m.a)}}else x=m.a}x==0&&O.Oa!=null&&O.Oa.fd&&(x=Sl(O.ba))}O=x}q=O!=0?null:11>q?j.f.RGBA.eb:j.f.kb.y}else q=null;return q};var mu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(K,X){for(var F="",V=0;V<4;V++)F+=String.fromCharCode(K[X++]);return F}function y(K,X){return K[X+0]|K[X+1]<<8}function w(K,X){return(K[X+0]|K[X+1]<<8|K[X+2]<<16)>>>0}function E(K,X){return(K[X+0]|K[X+1]<<8|K[X+2]<<16|K[X+3]<<24)>>>0}new h;var S=[0],U=[0],N=[],B=new h,L=t,R=(function(K,X){var F={},V=0,oe=!1,ae=0,Te=0;if(F.frames=[],!(function(k,G){for(var z=0;z<4;z++)if(k[G+z]!="RIFF".charCodeAt(z))return!0;return!1})(K,X)){for(E(K,X+=4),X+=8;X<K.length;){var Z=d(K,X),de=E(K,X+=4);X+=4;var re=de+(1&de);switch(Z){case"VP8 ":case"VP8L":F.frames[V]===void 0&&(F.frames[V]={}),(Y=F.frames[V]).src_off=oe?Te:X-8,Y.src_size=ae+de+8,V++,oe&&(oe=!1,ae=0,Te=0);break;case"VP8X":(Y=F.header={}).feature_flags=K[X];var ke=X+4;Y.canvas_width=1+w(K,ke),ke+=3,Y.canvas_height=1+w(K,ke),ke+=3;break;case"ALPH":oe=!0,ae=re+8,Te=X-8;break;case"ANIM":(Y=F.header).bgcolor=E(K,X),ke=X+4,Y.loop_count=y(K,ke),ke+=2;break;case"ANMF":var qe,Y;(Y=F.frames[V]={}).offset_x=2*w(K,X),X+=3,Y.offset_y=2*w(K,X),X+=3,Y.width=1+w(K,X),X+=3,Y.height=1+w(K,X),X+=3,Y.duration=w(K,X),X+=3,qe=K[X++],Y.dispose=1&qe,Y.blend=qe>>1&1}Z!="ANMF"&&(X+=re)}return F}})(L,0);R.response=L,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,J=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,S=[D.canvas_height],U=[D.canvas_width];for(var le=0;le<J.length&&J[le].blend!=0;le++);}var pe=J[0],ue=B.WebPDecodeRGBA(L,pe.src_off,pe.src_size,U,S);pe.rgba=ue,pe.imgwidth=U[0],pe.imgheight=S[0];for(var se=0;se<U[0]*S[0]*4;se++)N[se]=ue[se];return this.width=U,this.height=S,this.data=N,this}(function(t){var e,i,o,a,l,c,f,h,d,y=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new h,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,h=this.internal.Matrix,d=new y}]);var w=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=k;Object.defineProperty(this,"pdf",{get:function(){return G}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(W){z=!!W}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(W){Q=!!W}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(W){isNaN(W)||(ie=W)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(W){isNaN(W)||(ge=W)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(W){var at;typeof W=="number"?at=[W,W,W,W]:((at=new Array(4))[0]=W[0],at[1]=W.length>=2?W[1]:at[0],at[2]=W.length>=3?W[2]:at[0],at[3]=W.length>=4?W[3]:at[1]),d.margin=at}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(W){Ae=W}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(W){Ne=W}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(W){we=W}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(W){W instanceof y&&(d=W)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(W){d.path=W}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(W){me=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var at;at=E(W),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var at=E(W);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Xe=null,et=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(W){Xe=null,et=null,ot=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var at;if(this.ctx.font=W,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var wt=at[1];at[2];var mt=at[3],ze=at[4];at[5];var St=at[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(ft==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Mt=(function(dt){var Yt,bt,Ct=[],Tt=dt.trim();if(Tt==="")return ap;if(Tt in gm)return[gm[Tt]];for(;Tt!=="";){switch(bt=null,Yt=(Tt=vm(Tt)).charAt(0)){case'"':case"'":bt=c3(Tt.substring(1),Yt);break;default:bt=f3(Tt)}if(bt===null||(Ct.push(bt[0]),(Tt=vm(bt[1]))!==""&&Tt.charAt(0)!==","))return ap;Tt=Tt.replace(/^,/,"")}return Ct})(St);if(this.fontFaces){var ut=(function(dt,Yt){var bt=dt.getFontList(),Ct=JSON.stringify(bt);if(Xe===null||et!==Ct){var Tt=(function(qt){var rt=[];return Object.keys(qt).forEach(function(Ht){qt[Ht].forEach(function(fe){var xe=null;switch(fe){case"bold":xe={family:Ht,weight:"bold"};break;case"italic":xe={family:Ht,style:"italic"};break;case"bolditalic":xe={family:Ht,weight:"bold",style:"italic"};break;case"":case"normal":xe={family:Ht}}xe!==null&&(xe.ref={name:Ht,style:fe},rt.push(xe))})}),rt})(bt);Xe=(function(qt){for(var rt={},Ht=0;Ht<qt.length;++Ht){var fe=op(qt[Ht]),xe=fe.family,Fe=fe.stretch,ve=fe.style,_e=fe.weight;rt[xe]=rt[xe]||{},rt[xe][Fe]=rt[xe][Fe]||{},rt[xe][Fe][ve]=rt[xe][Fe][ve]||{},rt[xe][Fe][ve][_e]=fe}return rt})(Tt.concat(Yt)),et=Ct}return Xe})(this.pdf,this.fontFaces),jt=Mt.map(function(dt){return{family:dt,stretch:"normal",weight:mt,style:wt}}),sn=(function(dt,Yt,bt){for(var Ct=(bt=bt||{}).defaultFontFamily||"times",Tt=Object.assign({},u3,bt.genericFontFamilies||{}),qt=null,rt=null,Ht=0;Ht<Yt.length;++Ht)if(Tt[(qt=op(Yt[Ht])).family]&&(qt.family=Tt[qt.family]),dt.hasOwnProperty(qt.family)){rt=dt[qt.family];break}if(!(rt=rt||dt[Ct]))throw new Error("Could not find a font-family for the rule '"+ym(qt)+"' and default family '"+Ct+"'.");if(rt=(function(fe,xe){if(xe[fe])return xe[fe];var Fe=xp[fe],ve=Fe<=xp.normal?-1:1,_e=mm(xe,Qy,Fe,ve);if(!_e)throw new Error("Could not find a matching font-stretch value for "+fe);return _e})(qt.stretch,rt),rt=(function(fe,xe){if(xe[fe])return xe[fe];for(var Fe=Zy[fe],ve=0;ve<Fe.length;++ve)if(xe[Fe[ve]])return xe[Fe[ve]];throw new Error("Could not find a matching font-style for "+fe)})(qt.style,rt),!(rt=(function(fe,xe){if(xe[fe])return xe[fe];if(fe===400&&xe[500])return xe[500];if(fe===500&&xe[400])return xe[400];var Fe=l3[fe],ve=mm(xe,e5,Fe,fe<400?-1:1);if(!ve)throw new Error("Could not find a matching font-weight for value "+fe);return ve})(qt.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+ym(qt)+"'.");return rt})(ut,jt);this.pdf.setFont(sn.ref.name,sn.ref.style)}else{var yt="";(mt==="bold"||parseInt(mt,10)>=700||wt==="bold")&&(yt="bold"),wt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var Pe="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Mt.length;lt++){if(this.pdf.internal.getFont(Mt[lt],yt,{noFallback:!0,disableWarning:!0})!==void 0){Pe=Mt[lt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(Mt[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pe=Mt[lt],yt="bold";else if(this.pdf.internal.getFont(Mt[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pe=Mt[lt],yt="normal";break}}if(Pe===""){for(var vt=0;vt<Mt.length;vt++)if(ct[Mt[vt]]){Pe=ct[Mt[vt]];break}}Pe=Pe===""?"Times":Pe,this.pdf.setFont(Pe,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};w.prototype.setLineDash=function(k){this.lineDash=k},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){J.call(this,"fill",!1)},w.prototype.stroke=function(){J.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(k,G){if(isNaN(k)||isNaN(G))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new c(k,G));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(k,G)},w.prototype.closePath=function(){var k=new c(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Hn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){k=new c(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},w.prototype.lineTo=function(k,G){if(isNaN(k)||isNaN(G))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new c(k,G));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(z.x,z.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},w.prototype.quadraticCurveTo=function(k,G,z,Q){if(isNaN(z)||isNaN(Q)||isNaN(k)||isNaN(G))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new c(z,Q)),ge=this.ctx.transform.applyToPoint(new c(k,G));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new c(ie.x,ie.y)},w.prototype.bezierCurveTo=function(k,G,z,Q,ie,ge){if(isNaN(ie)||isNaN(ge)||isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new c(ie,ge)),Ne=this.ctx.transform.applyToPoint(new c(k,G)),we=this.ctx.transform.applyToPoint(new c(z,Q));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:we.x,y2:we.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new c(Ae.x,Ae.y)},w.prototype.arc=function(k,G,z,Q,ie,ge){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q)||isNaN(ie))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new c(k,G));k=Ae.x,G=Ae.y;var Ne=this.ctx.transform.applyToPoint(new c(0,z)),we=this.ctx.transform.applyToPoint(new c(0,0));z=Math.sqrt(Math.pow(Ne.x-we.x,2)+Math.pow(Ne.y-we.y,2))}Math.abs(ie-Q)>=2*Math.PI&&(Q=0,ie=2*Math.PI),this.path.push({type:"arc",x:k,y:G,radius:z,startAngle:Q,endAngle:ie,counterclockwise:ge})},w.prototype.arcTo=function(k,G,z,Q,ie){throw new Error("arcTo not implemented.")},w.prototype.rect=function(k,G,z,Q){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,G),this.lineTo(k+z,G),this.lineTo(k+z,G+Q),this.lineTo(k,G+Q),this.lineTo(k,G),this.lineTo(k+z,G),this.lineTo(k,G)},w.prototype.fillRect=function(k,G,z,Q){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,G,z,Q),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},w.prototype.strokeRect=function(k,G,z,Q){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(k,G,z,Q),this.stroke())},w.prototype.clearRect=function(k,G,z,Q){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,G,z,Q))},w.prototype.save=function(k){k=typeof k!="boolean"||k;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},w.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(k){var G,z,Q,ie;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))G=0,z=0,Q=0,ie=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ge!==null)G=parseInt(ge[1]),z=parseInt(ge[2]),Q=parseInt(ge[3]),ie=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)G=parseInt(ge[1]),z=parseInt(ge[2]),Q=parseInt(ge[3]),ie=parseFloat(ge[4]);else{if(ie=1,typeof k=="string"&&k.charAt(0)!=="#"){var Ae=new jy(k);k=Ae.ok?Ae.toHex():"#000000"}k.length===4?(G=k.substring(1,2),G+=G,z=k.substring(2,3),z+=z,Q=k.substring(3,4),Q+=Q):(G=k.substring(1,3),z=k.substring(3,5),Q=k.substring(5,7)),G=parseInt(G,16),z=parseInt(z,16),Q=parseInt(Q,16)}}return{r:G,g:z,b:Q,a:ie,style:k}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(k,G,z,Q){if(isNaN(G)||isNaN(z)||typeof k!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!S.call(this)){var ie=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:k,x:G,y:z,scale:ge,angle:ie,align:this.textAlign,maxWidth:Q})}},w.prototype.strokeText=function(k,G,z,Q){if(isNaN(G)||isNaN(z)||typeof k!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Q=isNaN(Q)?void 0:Q;var ie=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:k,x:G,y:z,scale:ge,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Q})}},w.prototype.measureText=function(k){if(typeof k!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,z=this.pdf.internal.scaleFactor,Q=G.internal.getFontSize(),ie=G.getStringUnitWidth(k)*Q/G.internal.scaleFactor;return new function(ge){var Ae=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:ie*=Math.round(96*z/72*1e4)/1e4})},w.prototype.scale=function(k,G){if(isNaN(k)||isNaN(G))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new h(k,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.rotate=function(k){if(isNaN(k))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},w.prototype.translate=function(k,G){if(isNaN(k)||isNaN(G))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new h(1,0,0,1,k,G);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.transform=function(k,G,z,Q,ie,ge){if(isNaN(k)||isNaN(G)||isNaN(z)||isNaN(Q)||isNaN(ie)||isNaN(ge))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new h(k,G,z,Q,ie,ge);this.ctx.transform=this.ctx.transform.multiply(Ae)},w.prototype.setTransform=function(k,G,z,Q,ie,ge){k=isNaN(k)?1:k,G=isNaN(G)?0:G,z=isNaN(z)?0:z,Q=isNaN(Q)?1:Q,ie=isNaN(ie)?0:ie,ge=isNaN(ge)?0:ge,this.ctx.transform=new h(k,G,z,Q,ie,ge)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(k,G,z,Q,ie,ge,Ae,Ne,we){var me=this.pdf.getImageProperties(k),Xe=1,et=1,ot=1,W=1;Q!==void 0&&Ne!==void 0&&(ot=Ne/Q,W=we/ie,Xe=me.width/Q*Ne/Q,et=me.height/ie*we/ie),ge===void 0&&(ge=G,Ae=z,G=0,z=0),Q!==void 0&&Ne===void 0&&(Ne=Q,we=ie),Q===void 0&&Ne===void 0&&(Ne=me.width,we=me.height);var at=this.ctx.transform.decompose(),wt=re(at.rotate.shx),mt=new h,ze=(mt=(mt=(mt=mt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new f(ge-G*ot,Ae-z*W,Q*Xe,ie*et));if(this.autoPaging){for(var St,ft=B.call(this,ze),Mt=[],ut=0;ut<ft.length;ut+=1)Mt.indexOf(ft[ut])===-1&&Mt.push(ft[ut]);D(Mt);for(var jt=Mt[0],sn=Mt[Mt.length-1],yt=jt;yt<sn+1;yt++){this.pdf.setPage(yt);var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=yt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=yt===1?0:lt+(yt-2)*vt;if(this.ctx.clip_path.length!==0){var Yt=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(St,this.posX+this.margin[3],-dt+ct+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=Yt}var bt=JSON.parse(JSON.stringify(ze));bt=R([bt],this.posX+this.margin[3],-dt+ct+this.ctx.prevPageLastElemOffset)[0];var Ct=(yt>jt||yt<sn)&&N.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,vt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,wt),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,wt)};var B=function(k,G,z){var Q=[];G=G||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Q.push(Math.floor((k.y+ie)/z)+1);break;case"arc":Q.push(Math.floor((k.y+ie-k.radius)/z)+1),Q.push(Math.floor((k.y+ie+k.radius)/z)+1);break;case"qct":var ge=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Q.push(Math.floor((ge.y+ie)/z)+1),Q.push(Math.floor((ge.y+ge.h+ie)/z)+1);break;case"bct":var Ae=qe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Q.push(Math.floor((Ae.y+ie)/z)+1),Q.push(Math.floor((Ae.y+Ae.h+ie)/z)+1);break;case"rect":Q.push(Math.floor((k.y+ie)/z)+1),Q.push(Math.floor((k.y+k.h+ie)/z)+1)}for(var Ne=0;Ne<Q.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<Q[Ne];)L.call(this);return Q},L=function(){var k=this.fillStyle,G=this.strokeStyle,z=this.font,Q=this.lineCap,ie=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=G,this.font=z,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=ge},R=function(k,G,z){for(var Q=0;Q<k.length;Q++)switch(k[Q].type){case"bct":k[Q].x2+=G,k[Q].y2+=z;case"qct":k[Q].x1+=G,k[Q].y1+=z;default:k[Q].x+=G,k[Q].y+=z}return k},D=function(k){return k.sort(function(G,z){return G-z})},J=function(k,G){var z=this.fillStyle,Q=this.strokeStyle,ie=this.lineCap,ge=this.lineWidth,Ae=Math.abs(ge*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var we,me,Xe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),ot=[],W=0;W<et.length;W++)if(et[W].x!==void 0)for(var at=B.call(this,et[W]),wt=0;wt<at.length;wt+=1)ot.indexOf(at[wt])===-1&&ot.push(at[wt]);for(var mt=0;mt<ot.length;mt++)for(;this.pdf.internal.getNumberOfPages()<ot[mt];)L.call(this);D(ot);for(var ze=ot[0],St=ot[ot.length-1],ft=ze;ft<St+1;ft++){this.pdf.setPage(ft),this.fillStyle=z,this.strokeStyle=Q,this.lineCap=ie,this.lineWidth=Ae,this.lineJoin=Ne;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=ft===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=ft===1?0:jt+(ft-2)*sn;if(this.ctx.clip_path.length!==0){var Pe=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(we,this.posX+this.margin[3],-yt+ut+this.ctx.prevPageLastElemOffset),le.call(this,k,!0),this.path=Pe}if(me=JSON.parse(JSON.stringify(Xe)),this.path=R(me,this.posX+this.margin[3],-yt+ut+this.ctx.prevPageLastElemOffset),G===!1||ft===0){var ct=(ft>ze||ft<St)&&N.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,sn,null).clip().discardPath()),le.call(this,k,G),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=Xe}else this.lineWidth=Ae,le.call(this,k,G),this.lineWidth=ge},le=function(k,G){if((k!=="stroke"||G||!U.call(this))&&(k==="stroke"||G||!S.call(this))){for(var z,Q,ie=[],ge=this.path,Ae=0;Ae<ge.length;Ae++){var Ne=ge[Ae];switch(Ne.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:Ne,deltas:[],abs:[]});break;case"lt":var we=ie.length;if(ge[Ae-1]&&!isNaN(ge[Ae-1].x)&&(z=[Ne.x-ge[Ae-1].x,Ne.y-ge[Ae-1].y],we>0)){for(;we>=0;we--)if(ie[we-1].close!==!0&&ie[we-1].begin!==!0){ie[we-1].deltas.push(z),ie[we-1].abs.push(Ne);break}}break;case"bct":z=[Ne.x1-ge[Ae-1].x,Ne.y1-ge[Ae-1].y,Ne.x2-ge[Ae-1].x,Ne.y2-ge[Ae-1].y,Ne.x-ge[Ae-1].x,Ne.y-ge[Ae-1].y],ie[ie.length-1].deltas.push(z);break;case"qct":var me=ge[Ae-1].x+2/3*(Ne.x1-ge[Ae-1].x),Xe=ge[Ae-1].y+2/3*(Ne.y1-ge[Ae-1].y),et=Ne.x+2/3*(Ne.x1-Ne.x),ot=Ne.y+2/3*(Ne.y1-Ne.y),W=Ne.x,at=Ne.y;z=[me-ge[Ae-1].x,Xe-ge[Ae-1].y,et-ge[Ae-1].x,ot-ge[Ae-1].y,W-ge[Ae-1].x,at-ge[Ae-1].y],ie[ie.length-1].deltas.push(z);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(Ne)}}Q=G?null:k==="stroke"?"stroke":"fill";for(var wt=!1,mt=0;mt<ie.length;mt++)if(ie[mt].arc)for(var ze=ie[mt].abs,St=0;St<ze.length;St++){var ft=ze[St];ft.type==="arc"?se.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,G,!wt):oe.call(this,ft.x,ft.y),wt=!0}else if(ie[mt].close===!0)this.pdf.internal.out("h"),wt=!1;else if(ie[mt].begin!==!0){var Mt=ie[mt].start.x,ut=ie[mt].start.y;ae.call(this,ie[mt].deltas,Mt,ut),wt=!0}Q&&K.call(this,Q),G&&X.call(this)}},pe=function(k){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-z;case"top":return k+G-z;case"hanging":return k+G-2*z;case"middle":return k+G/2-z;default:return k}},ue=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(G,z){this.colorStops.push([G,z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(k,G,z,Q,ie,ge,Ae,Ne,we){for(var me=Z.call(this,z,Q,ie,ge),Xe=0;Xe<me.length;Xe++){var et=me[Xe];Xe===0&&(we?F.call(this,et.x1+k,et.y1+G):oe.call(this,et.x1+k,et.y1+G)),Te.call(this,k,G,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ne?X.call(this):K.call(this,Ae)},K=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(k,G){this.pdf.internal.out(i(k)+" "+o(G)+" m")},V=function(k){var G;switch(k.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var z,Q,ie,ge=this.pdf.getTextDimensions(k.text),Ae=pe.call(this,k.y),Ne=ue.call(this,Ae)-ge.h,we=this.ctx.transform.applyToPoint(new c(k.x,Ae));if(this.autoPaging){var me=this.ctx.transform.decompose(),Xe=new h;Xe=(Xe=(Xe=Xe.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var et=this.ctx.transform.applyToRectangle(new f(k.x,Ae,ge.w,ge.h)),ot=Xe.applyToRectangle(new f(k.x,Ne,ge.w,ge.h)),W=B.call(this,ot),at=[],wt=0;wt<W.length;wt+=1)at.indexOf(W[wt])===-1&&at.push(W[wt]);D(at);for(var mt=at[0],ze=at[at.length-1],St=mt;St<ze+1;St++){this.pdf.setPage(St);var ft=St===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],jt=ut-this.margin[0],sn=this.pdf.internal.pageSize.width-this.margin[1],yt=sn-this.margin[3],Pe=St===1?0:Mt+(St-2)*jt;if(this.ctx.clip_path.length!==0){var ct=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(z,this.posX+this.margin[3],-1*Pe+ft),le.call(this,"fill",!0),this.path=ct}var lt=R([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Pe+ft+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*k.scale),ie=this.lineWidth,this.lineWidth=ie*k.scale);var vt=this.autoPaging!=="text";if(vt||lt.y+lt.h<=ut){if(vt||lt.y>=ft&&lt.x<=sn){var dt=vt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||sn-lt.x)[0],Yt=R([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Pe+ft+this.ctx.prevPageLastElemOffset)[0],bt=vt&&(St>mt||St<ze)&&N.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,jt,null).clip().discardPath()),this.pdf.text(dt,Yt.x,Yt.y,{angle:k.angle,align:G,renderingMode:k.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else lt.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-lt.y);k.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ie)}}else k.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*k.scale),ie=this.lineWidth,this.lineWidth=ie*k.scale),this.pdf.text(k.text,we.x+this.posX,we.y+this.posY,{angle:k.angle,align:G,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ie)},oe=function(k,G,z,Q){z=z||0,Q=Q||0,this.pdf.internal.out(i(k+z)+" "+o(G+Q)+" l")},ae=function(k,G,z){return this.pdf.lines(k,G,z,null,null)},Te=function(k,G,z,Q,ie,ge,Ae,Ne){this.pdf.internal.out([e(a(z+k)),e(l(Q+G)),e(a(ie+k)),e(l(ge+G)),e(a(Ae+k)),e(l(Ne+G)),"c"].join(" "))},Z=function(k,G,z,Q){for(var ie=2*Math.PI,ge=Math.PI/2;G>z;)G-=ie;var Ae=Math.abs(z-G);Ae<ie&&Q&&(Ae=ie-Ae);for(var Ne=[],we=Q?-1:1,me=G;Ae>1e-5;){var Xe=me+we*Math.min(Ae,ge);Ne.push(de.call(this,k,me,Xe)),Ae-=Math.abs(Xe-me),me=Xe}return Ne},de=function(k,G,z){var Q=(z-G)/2,ie=k*Math.cos(Q),ge=k*Math.sin(Q),Ae=ie,Ne=-ge,we=Ae*Ae+Ne*Ne,me=we+Ae*ie+Ne*ge,Xe=4/3*(Math.sqrt(2*we*me)-me)/(Ae*ge-Ne*ie),et=Ae-Xe*Ne,ot=Ne+Xe*Ae,W=et,at=-ot,wt=Q+G,mt=Math.cos(wt),ze=Math.sin(wt);return{x1:k*Math.cos(G),y1:k*Math.sin(G),x2:et*mt-ot*ze,y2:et*ze+ot*mt,x3:W*mt-at*ze,y3:W*ze+at*mt,x4:k*Math.cos(z),y4:k*Math.sin(z)}},re=function(k){return 180*k/Math.PI},ke=function(k,G,z,Q,ie,ge){var Ae=k+.5*(z-k),Ne=G+.5*(Q-G),we=ie+.5*(z-ie),me=ge+.5*(Q-ge),Xe=Math.min(k,ie,Ae,we),et=Math.max(k,ie,Ae,we),ot=Math.min(G,ge,Ne,me),W=Math.max(G,ge,Ne,me);return new f(Xe,ot,et-Xe,W-ot)},qe=function(k,G,z,Q,ie,ge,Ae,Ne){var we,me,Xe,et,ot,W,at,wt,mt,ze,St,ft,Mt,ut,jt=z-k,sn=Q-G,yt=ie-z,Pe=ge-Q,ct=Ae-ie,lt=Ne-ge;for(me=0;me<41;me++)mt=(at=(Xe=k+(we=me/40)*jt)+we*((ot=z+we*yt)-Xe))+we*(ot+we*(ie+we*ct-ot)-at),ze=(wt=(et=G+we*sn)+we*((W=Q+we*Pe)-et))+we*(W+we*(ge+we*lt-W)-wt),me==0?(St=mt,ft=ze,Mt=mt,ut=ze):(St=Math.min(St,mt),ft=Math.min(ft,ze),Mt=Math.max(Mt,mt),ut=Math.max(ut,ze));return new f(Math.round(St),Math.round(ft),Math.round(Mt-St),Math.round(ut-ft))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,G,z=(k=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:G}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Bt.API),(function(t){var e=function(c){var f,h,d,y,w,E,S,U,N,B;for(h=[],d=0,y=(c+=f="\0\0\0\0".slice(c.length%4||4)).length;y>d;d+=4)(w=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(E=(w=((w=((w=((w=(w-(B=w%85))/85)-(N=w%85))/85)-(U=w%85))/85)-(S=w%85))/85)%85,h.push(E+33,S+33,U+33,N+33,B+33)):h.push(122);return(function(L,R){for(var D=R;D>0;D--)L.pop()})(h,f.length),String.fromCharCode.apply(String,h)+"~>"},i=function(c){var f,h,d,y,w,E=String,S="length",U=255,N="charCodeAt",B="slice",L="replace";for(c[B](-2),c=c[B](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),d=[],y=0,w=(c+=f="uuuuu"[B](c[S]%5||5))[S];w>y;y+=5)h=52200625*(c[N](y)-33)+614125*(c[N](y+1)-33)+7225*(c[N](y+2)-33)+85*(c[N](y+3)-33)+(c[N](y+4)-33),d.push(U&h>>24,U&h>>16,U&h>>8,U&h);return(function(R,D){for(var J=D;J>0;J--)R.pop()})(d,f[S]),E.fromCharCode.apply(E,d)},o=function(c){return c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),f.test(c)===!1)return"";for(var h="",d=0;d<c.length;d+=2)h+=String.fromCharCode("0x"+(c[d]+c[d+1]));return h},l=function(c){for(var f=new Uint8Array(c.length),h=c.length;h--;)f[h]=c.charCodeAt(h);return(f=dp(f)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};t.processDataByFilters=function(c,f){var h=0,d=c||"",y=[];for(typeof(f=f||[])=="string"&&(f=[f]),h=0;h<f.length;h+=1)switch(f[h]){case"ASCII85Decode":case"/ASCII85Decode":d=i(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=o(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=l(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[h]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(Bt.API),(function(t){t.loadFile=function(e,i,o){return(function(a,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=(function(h,d,y){var w=new XMLHttpRequest,E=0,S=function(U){var N=U.length,B=[],L=String.fromCharCode;for(E=0;E<N;E+=1)B.push(L(255&U.charCodeAt(E)));return B.join("")};if(w.open("GET",h,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?y(S(this.responseText)):y(void 0)}),w.send(null),d&&w.status===200)return S(w.responseText)})(a,l,c)}catch{}return f})(e,i,o)},t.loadImageFile=t.loadFile})(Bt.API),(function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):zh(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function i(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):zh(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var o=function(f){var h=Hn(f);return h==="undefined"?"undefined":h==="string"||f instanceof String?"string":h==="number"||f instanceof Number?"number":h==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(f,h){var d=document.createElement(f);for(var y in h.className&&(d.className=h.className),h.innerHTML&&h.dompurify&&(d.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)d.style[y]=h.style[y];return d},l=function f(h,d){for(var y=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(f(w,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(y.width=h.width,y.height=h.height,y.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(y.value=h.value),y.addEventListener("load",function(){y.scrollTop=h.scrollTop,y.scrollLeft=h.scrollLeft},!0)),y},c=function f(h){var d=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),y=f.convert(Promise.resolve(),d);return(y=y.setProgress(1,f,1,[f])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(f,h){return f.__proto__=h||c.prototype,f},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(f,h){return this.then(function(){switch(h=h||(function(d){switch(o(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(f),h){case"string":return this.then(i).then(function(d){return this.set({src:a("div",{innerHTML:f,dompurify:d})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},c.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(h){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,h(this.prop.container,d)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(h){var d=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var S=0;S<y.length;++S){var U=y[S],N=U.src.find(function(B){return B.format==="truetype"});N&&d.addFont(N.url,U.ref.name,U.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),h(this.prop.container,E)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(f,h,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(f,h):this.outputPdf(f,h)},c.prototype.outputPdf=function(f,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,h)})},c.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},c.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(f){if(o(f)!=="object")return this;var h=Object.keys(f||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=f[d]};switch(d){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[d]=f[d]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(f,h){return this.then(function(){var d=f in c.template.prop?this.prop[f]:this.opt[f];return h?h(d):d})},c.prototype.setMargin=function(f){return this.then(function(){switch(o(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},c.prototype.setPageSize=function(f){function h(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(f=f||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:h(f.inner.width,f.k),height:h(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},c.prototype.setProgress=function(f,h,d,y){return f!=null&&(this.progress.val=f),h!=null&&(this.progress.state=h),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(f,h,d,y){return this.setProgress(f?this.progress.val+f:null,h||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},c.prototype.then=function(f,h){var d=this;return this.thenCore(f,h,function(y,w){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,y),E}).then(y,w).then(function(E){return d.updateProgress(1),E})})},c.prototype.thenCore=function(f,h,d){d=d||Promise.prototype.then;var y=this;f&&(f=f.bind(y)),h&&(h=h.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:c.convert(Object.assign({},y),Promise.prototype),E=d.call(w,f,h);return c.convert(E,y.__proto__)},c.prototype.thenExternal=function(f,h){return Promise.prototype.then.call(this,f,h)},c.prototype.thenList=function(f){var h=this;return f.forEach(function(d){h=h.thenCore(d)}),h},c.prototype.catch=function(f){f&&(f=f.bind(this));var h=Promise.prototype.catch.call(this,f);return c.convert(h,this)},c.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},c.prototype.error=function(f){return this.then(function(){throw new Error(f)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Bt.getPageSize=function(f,h,d){if(Hn(f)==="object"){var y=f;f=y.orientation,h=y.unit||h,d=y.format||d}h=h||"mm",d=d||"a4",f=(""+(f||"P")).toLowerCase();var w,E=(""+d).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+h}var U,N=0,B=0;if(S.hasOwnProperty(E))N=S[E][1]/w,B=S[E][0]/w;else try{N=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(f==="p"||f==="portrait")f="p",B>N&&(U=B,B=N,N=U);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",N>B&&(U=B,B=N,N=U)}return{width:B,height:N,unit:h,k:w,orientation:f}},t.html=function(f,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(op):null;var d=new c(h);return h.worker?d:d.from(f).doCallback()}})(Bt.API),Bt.API.addJS=function(t){return bm=t,this.internal.events.subscribe("postPutResources",function(){$f=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($f+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$f!==void 0&&xm!==void 0&&this.internal.out("/Names <</JavaScript "+$f+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var i=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=i.outline.render().split(/\r\n/),l=0;l<a.length;l++){var c=a[l],f=o.exec(c);if(f!=null){var h=f[1];i.internal.newObjectDeferredBegin(h,!1)}i.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(l=0;l<d;l++){var w=i.internal.newObject();y.push(w);var E=i.internal.getPageInfo(l+1);i.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var S=i.internal.newObject();for(i.internal.write("<< /Names [ "),l=0;l<y.length;l++)i.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");i.internal.write(" ] >>","endobj"),e=i.internal.newObject(),i.internal.write("<< /Dests "+S+" 0 R"),i.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var i=this;i.outline.root.children.length>0&&(i.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&i.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var i=this;i.outline={createNamedDestinations:!1,root:{children:[]}},i.outline.add=function(o,a,l){var c={title:a,options:l,children:[]};return o==null&&(o=this.root),o.children.push(c),c},i.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=i,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},i.outline.genIds_r=function(o){o.id=i.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},i.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},i.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var c=o.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var h=i.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<o.children.length;d++)this.renderItems(o.children[d])},i.outline.line=function(o){this.ctx.val+=o+`\r
`},i.outline.makeRef=function(o){return o.id+" 0 R"},i.outline.makeString=function(o){return"("+i.internal.pdfEscape(o)+")"},i.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},i.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},i.outline.count_r=function(o,a){for(var l=0;l<a.children.length;l++)o.count++,this.count_r(o,a.children[l]);return o.count}}])})(Bt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(i,o,a,l,c,f){var h,d=this.decode.DCT_DECODE,y=null;if(typeof i=="string"||this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i)){switch(i=c||i,i=this.__addimage__.isArrayBuffer(i)?new Uint8Array(i):i,h=(function(w){for(var E,S=256*w.charCodeAt(4)+w.charCodeAt(5),U=w.length,N={width:0,height:0,numcomponents:1},B=4;B<U;B+=2){if(B+=S,e.indexOf(w.charCodeAt(B+1))!==-1){E=256*w.charCodeAt(B+5)+w.charCodeAt(B+6),N={width:256*w.charCodeAt(B+7)+w.charCodeAt(B+8),height:E,numcomponents:w.charCodeAt(B+9)};break}S=256*w.charCodeAt(B+2)+w.charCodeAt(B+3)}return N})(i=this.__addimage__.isArrayBufferView(i)?this.__addimage__.arrayBufferToBinaryString(i):i),h.numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}y={data:i,width:h.width,height:h.height,colorSpace:f,bitsPerComponent:8,filter:d,index:o,alias:a}}return y}})(Bt.API),Bt.API.processPNG=function(t,e,i,o){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,l=Ww(t,{checkCrc:!0}),c=l.width,f=l.height,h=l.channels,d=l.palette,y=l.depth;a=d&&h===1?(function(se){for(var K=se.width,X=se.height,F=se.data,V=se.palette,oe=se.depth,ae=!1,Te=[],Z=[],de=void 0,re=!1,ke=0,qe=0;qe<V.length;qe++){var Y=A2(V[qe],4),k=Y[0],G=Y[1],z=Y[2],Q=Y[3];Te.push(k,G,z),Q!=null&&(Q===0?(ke++,Z.length<1&&Z.push(qe)):Q<255&&(re=!0))}if(re||ke>1){ae=!0,Z=void 0;var ie=K*X;de=new Uint8Array(ie);for(var ge=new DataView(F.buffer),Ae=0;Ae<ie;Ae++){var Ne=sp(ge,Ae,oe),we=A2(V[Ne],4)[3];de[Ae]=we}}else ke===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:F,alphaBytes:de,needSMask:ae,palette:Te,mask:Z}})(l):h===2||h===4?(function(se){for(var K=se.data,X=se.width,F=se.height,V=se.channels,oe=se.depth,ae=V===2?"DeviceGray":"DeviceRGB",Te=V-1,Z=X*F,de=Te,re=Z*de,ke=1*Z,qe=Math.ceil(re*oe/8),Y=Math.ceil(ke*oe/8),k=new Uint8Array(qe),G=new Uint8Array(Y),z=new DataView(K.buffer),Q=new DataView(k.buffer),ie=new DataView(G.buffer),ge=!1,Ae=0;Ae<Z;Ae++){for(var Ne=Ae*V,we=0;we<de;we++)Mm(Q,sp(z,Ne+we,oe),Ae*de+we,oe);var me=sp(z,Ne+de,oe);me<(1<<oe)-1&&(ge=!0),Mm(ie,me,1*Ae,oe)}return{colorSpace:ae,colorsPerPixel:Te,sMaskBitsPerComponent:ge?oe:void 0,colorBytes:k,alphaBytes:G,needSMask:ge}})(l):(function(se){var K=se.data,X=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(F){for(var V=F.length,oe=new Uint8Array(2*V),ae=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),Te=0;Te<V;Te++)ae.setUint16(2*Te,F[Te],!1);return oe})(K):K,needSMask:!1}})(l);var w,E,S,U=a,N=U.colorSpace,B=U.colorsPerPixel,L=U.sMaskBitsPerComponent,R=U.colorBytes,D=U.alphaBytes,J=U.needSMask,le=U.palette,pe=U.mask,ue=null;return o!==Bt.API.image_compression.NONE&&typeof dp=="function"?(ue=(function(se){var K;switch(se){case Bt.API.image_compression.FAST:K=11;break;case Bt.API.image_compression.MEDIUM:K=13;break;case Bt.API.image_compression.SLOW:K=14;break;default:K=12}return K})(o),w=this.decode.FLATE_DECODE,E="/Predictor ".concat(ue," /Colors ").concat(B," /BitsPerComponent ").concat(y," /Columns ").concat(c),t=Am(R,Math.ceil(c*B*y/8),B,y,o),J&&(S=Am(D,Math.ceil(c*L/8),1,L,o))):(w=void 0,E=void 0,t=R,J&&(S=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:i,data:t,index:e,filter:w,decodeParameters:E,transparency:pe,palette:le,sMask:S,predictor:ue,width:c,height:f,bitsPerComponent:y,sMaskBitsPerComponent:L,colorSpace:N}}},(function(t){t.processGIF89A=function(e,i,o,a){var l=new m3(e),c=l.width,f=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:c,height:f},y=new lp(100).encode(d,100);return t.processJPEG.call(this,y,i,o,a)},t.processGIF87A=t.processGIF89A})(Bt.API),fa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:o,blue:i,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(i){Qn.log("bit decode error:"+i)}},fa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),i=e%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var l=this.datav.getUint8(this.pos++,!0),c=o*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var h=this.palette[l>>7-f&1];this.data[c+4*f]=h.blue,this.data[c+4*f+1]=h.green,this.data[c+4*f+2]=h.red,this.data[c+4*f+3]=255}i!==0&&(this.pos+=4-i)}},fa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,a=0;a<t;a++){var l=this.datav.getUint8(this.pos++,!0),c=o*this.width*4+2*a*4,f=l>>4,h=15&l,d=this.palette[f];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*a+1>=this.width)break;d=this.palette[h],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},fa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+4*o;if(a<this.palette.length){var c=this.palette[a];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},fa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,f=(l>>5&e)/e*255|0,h=(l>>10&e)/e*255|0,d=l>>15?255:0,y=o*this.width*4+4*a;this.data[y]=h,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=d}this.pos+=t}},fa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&e)/e*255|0,h=(c>>5&i)/i*255|0,d=(c>>11)/e*255|0,y=a*this.width*4+4*l;this.data[y]=d,this.data[y+1]=h,this.data[y+2]=f,this.data[y+3]=255}this.pos+=t}},fa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=255}this.pos+=this.width%4}},fa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=c}},fa.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,i,o,a){var l=new fa(e,!1),c=l.width,f=l.height,h={data:l.getData(),width:c,height:f},d=new lp(100).encode(h,100);return t.processJPEG.call(this,d,i,o,a)}})(Bt.API),Lm.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,i,o,a){var l=new Lm(e),c=l.width,f=l.height,h={data:l.getData(),width:c,height:f},d=new lp(100).encode(h,100);return t.processJPEG.call(this,d,i,o,a)}})(Bt.API),Bt.API.processRGBA=function(t,e,i){for(var o=t.data,a=o.length,l=new Uint8Array(a/4*3),c=new Uint8Array(a/4),f=0,h=0,d=0;d<a;d+=4){var y=o[d],w=o[d+1],E=o[d+2],S=o[d+3];l[f++]=y,l[f++]=w,l[f++]=E,c[h++]=S}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:U,index:e,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qu=Bt.API,Xf=qu.getCharWidthsArray=function(t,e){var i,o,a=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:a.metadata.Unicode.widths,h=f.fof?f.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,y=d.fof?d.fof:1,w=e.doKerning!==!1,E=0,S=t.length,U=0,N=f[0]||h,B=[];for(i=0;i<S;i++)o=t.charCodeAt(i),typeof a.metadata.widthOfString=="function"?B.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+c*(1e3/l)||0)/1e3):(E=w&&Hn(d[o])==="object"&&!isNaN(parseInt(d[o][U],10))?d[o][U]/y:0,B.push((f[o]||N)/h+E)),U=o;return B},wm=qu.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),o=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return qu.processArabic&&(t=qu.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,i,a)/i:Xf.apply(this,arguments).reduce(function(l,c){return l+c},0)},Sm=function(t,e,i,o){for(var a=[],l=0,c=t.length,f=0;l!==c&&f+e[l]<i;)f+=e[l],l++;a.push(t.slice(0,l));var h=l;for(f=0;l!==c;)f+e[l]>o&&(a.push(t.slice(h,l)),f=0,h=l),f+=e[l],l++;return h!==l&&a.push(t.slice(h,l)),a},_m=function(t,e,i){i||(i={});var o,a,l,c,f,h,d,y=[],w=[y],E=i.textIndent||0,S=0,U=0,N=t.split(" "),B=Xf.apply(this,[" ",i])[0];if(h=i.lineIndent===-1?N[0].length+2:i.lineIndent||0){var L=Array(h).join(" "),R=[];N.map(function(J){(J=J.split(/\s*\n/)).length>1?R=R.concat(J.map(function(le,pe){return(pe&&le.length?`
`:"")+le})):R.push(J[0])}),N=R,h=wm.apply(this,[L,i])}for(l=0,c=N.length;l<c;l++){var D=0;if(o=N[l],h&&o[0]==`
`&&(o=o.substr(1),D=1),E+S+(U=(a=Xf.apply(this,[o,i])).reduce(function(J,le){return J+le},0))>e||D){if(U>e){for(f=Sm.apply(this,[o,a,e-(E+S),e]),y.push(f.shift()),y=[f.pop()];f.length;)w.push([f.shift()]);U=a.slice(o.length-(y[0]?y[0].length:0)).reduce(function(J,le){return J+le},0)}else y=[o];w.push(y),E=U+h,S=B}else y.push(o),E+=S+U,S=B}return d=h?function(J,le){return(le?L:"")+J.join(" ")}:function(J){return J.join(" ")},w.map(d)},qu.splitTextToSize=function(t,e,i){var o,a=(i=i||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),E="Unicode";return w.metadata[E]?{widths:w.metadata[E].widths||{0:1},kerning:w.metadata[E].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,i);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;l.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=i.lineIndent;var f,h,d=[];for(f=0,h=o.length;f<h;f++)d=d.concat(_m.apply(this,[o[f],c,l]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",i="klmnopqrstuvwxyz",o={},a={},l=0;l<16;l++)o[i[l]]=e[l],a[e[l]]=i[l];var c=function(E){return"0x"+parseInt(E,10).toString(16)},f=t.__fontmetrics__.compress=function(E){var S,U,N,B,L=["{"];for(var R in E){if(S=E[R],isNaN(parseInt(R,10))?U="'"+R+"'":(R=parseInt(R,10),U=(U=c(R).slice(2)).slice(0,-1)+a[U.slice(-1)]),typeof S=="number")S<0?(N=c(S).slice(3),B="-"):(N=c(S).slice(2),B=""),N=B+N.slice(0,-1)+a[N.slice(-1)];else{if(Hn(S)!=="object")throw new Error("Don't know what to do with value type "+Hn(S)+".");N=f(S)}L.push(U+N)}return L.push("}"),L.join("")},h=t.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,U,N,B,L={},R=1,D=L,J=[],le="",pe="",ue=E.length-1,se=1;se<ue;se+=1)(B=E[se])=="'"?S?(N=S.join(""),S=void 0):S=[]:S?S.push(B):B=="{"?(J.push([D,N]),D={},N=void 0):B=="}"?((U=J.pop())[0][U[1]]=D,N=void 0,D=U[0]):B=="-"?R=-1:N===void 0?o.hasOwnProperty(B)?(le+=o[B],N=parseInt(le,16)*R,R=1,le=""):le+=B:o.hasOwnProperty(B)?(pe+=o[B],D[N]=parseInt(pe,16)*R,R=1,N=void 0,pe=""):pe+=B;return L},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(E){var S=E.font,U=w.Unicode[S.postScriptName];U&&(S.metadata.Unicode={},S.metadata.Unicode.widths=U.widths,S.metadata.Unicode.kerning=U.kerning);var N=y.Unicode[S.postScriptName];N&&(S.metadata.Unicode.encoding=N,S.encoding=N.codePages[0])}])})(Bt.API),(function(t){var e=function(i){for(var o=i.length,a=new Uint8Array(o),l=0;l<o;l++)a[l]=i.charCodeAt(l);return a};t.API.events.push(["addFont",function(i){var o=void 0,a=i.font,l=i.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(td(f)),c.metadata=t.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,o)}}])})(Bt),Bt.API.addSvgAsImage=function(t,e,i,o,a,l,c,f){if(isNaN(e)||isNaN(i))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=o,h.height=a;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Qt.canvg?Promise.resolve(Qt.canvg):zh(()=>import("./index.es-DTEnw9i6.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){w.addImage(h.toDataURL("image/jpeg",1),e,i,o,a,c,f)})},Bt.API.putTotalPages=function(t){var e,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),i=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(e,i);return this},Bt.API.viewerPreferences=function(t,e){var i;t=t||{},e=e||!1;var o,a,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),h=[],d=0,y=0,w=0;function E(U,N){var B,L=!1;for(B=0;B<U.length;B+=1)U[B]===N&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var S=f.length;for(w=0;w<S;w+=1)i[f[w]].value=i[f[w]].defaultValue,i[f[w]].explicitSet=!1}if(Hn(t)==="object"){for(a in t)if(l=t[a],E(f,a)&&l!==void 0){if(i[a].type==="boolean"&&typeof l=="boolean")i[a].value=l;else if(i[a].type==="name"&&E(i[a].valueSet,l))i[a].value=l;else if(i[a].type==="integer"&&Number.isInteger(l))i[a].value=l;else if(i[a].type==="array"){for(d=0;d<l.length;d+=1)if(o=!0,l[d].length===1&&typeof l[d][0]=="number")h.push(String(l[d]-1));else if(l[d].length>1){for(y=0;y<l[d].length;y+=1)typeof l[d][y]!="number"&&(o=!1);o===!0&&h.push([l[d][0]-1,l[d][1]-1].join(" "))}i[a].value="["+h.join(" ")+"]"}else i[a].value=i[a].defaultValue;i[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,N=[];for(U in i)i[U].explicitSet===!0&&(i[U].type==="name"?N.push("/"+U+" /"+i[U].value):N.push("/"+U+" "+i[U].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},(function(t){var e=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),d=l.length+c.length+f.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+l+c+f+h),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",e)),this}})(Bt.API),(function(t){var e=t.API,i=e.pdfEscape16=function(l,c){for(var f,h=c.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],w=0,E=l.length;w<E;++w){if(f=c.metadata.characterToGlyph(l.charCodeAt(w)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=l.charCodeAt(w),h.indexOf(f)==-1&&(h.push(f),h.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return y.join("");f=f.toString(16),y.push(d[4-f.length],f)}return y.join("")},o=function(l){var c,f,h,d,y,w,E;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],w=0,E=(f=Object.keys(l).sort(function(S,U){return S-U})).length;w<E;w++)c=f[w],h.length>=100&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(d=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+d+">"));return h.length&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(c){var f=c.font,h=c.out,d=c.newObject,y=c.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="Identity-H"){for(var w=f.metadata.Unicode.widths,E=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),S="",U=0;U<E.length;U++)S+=String.fromCharCode(E[U]);var N=d();y({data:S,addLength1:!0,objectId:N}),h("endobj");var B=d();y({data:o(f.metadata.toUnicode),addLength1:!0,objectId:B}),h("endobj");var L=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Hu(f.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),h("/Flags "+f.metadata.flags),h("/StemV "+f.metadata.stemV),h("/ItalicAngle "+f.metadata.italicAngle),h("/Ascent "+f.metadata.ascender),h("/Descent "+f.metadata.decender),h("/CapHeight "+f.metadata.capHeight),h(">>"),h("endobj");var R=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+Hu(f.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+t.API.PDFObject.convert(w)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+f.encoding+")"),h(">>"),h(">>"),h("endobj"),f.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+B+" 0 R"),h("/BaseFont /"+Hu(f.fontName)),h("/Encoding /"+f.encoding),h("/DescendantFonts ["+R+" 0 R]"),h(">>"),h("endobj"),f.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(c){var f=c.font,h=c.out,d=c.newObject,y=c.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var w=f.metadata.rawData,E="",S=0;S<w.length;S++)E+=String.fromCharCode(w[S]);var U=d();y({data:E,addLength1:!0,objectId:U}),h("endobj");var N=d();y({data:o(f.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var B=d();h("<<"),h("/Descent "+f.metadata.decender),h("/CapHeight "+f.metadata.capHeight),h("/StemV "+f.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+U+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),h("/FontName /"+Hu(f.fontName)),h("/ItalicAngle "+f.metadata.italicAngle),h("/Ascent "+f.metadata.ascender),h(">>"),h("endobj"),f.objectNumber=d();for(var L=0;L<f.metadata.hmtx.widths.length;L++)f.metadata.hmtx.widths[L]=parseInt(f.metadata.hmtx.widths[L]*(1e3/f.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Hu(f.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),h("endobj"),f.isAlreadyPutted=!0}})(l)}]);var a=function(l){var c,f=l.text||"",h=l.x,d=l.y,y=l.options||{},w=l.mutex||{},E=w.pdfEscape,S=w.activeFontKey,U=w.fonts,N=S,B="",L=0,R="",D=U[N].encoding;if(U[N].encoding!=="Identity-H")return{text:f,x:h,y:d,options:y,mutex:w};for(R=f,N=S,Array.isArray(f)&&(R=f[0]),L=0;L<R.length;L+=1)U[N].metadata.hasOwnProperty("cmap")&&(c=U[N].metadata.cmap.unicode.codeMap[R[L].charCodeAt(0)]),c||R[L].charCodeAt(0)<256&&U[N].metadata.hasOwnProperty("Unicode")?B+=R[L]:B+="";var J="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?J=E(B,N).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(J=i(B,U[N])),w.isHex=!0,{text:J,x:h,y:d,options:y,mutex:w}};e.events.push(["postProcessText",function(l){var c=l.text||"",f=[],h={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?f.push([a(Object.assign({},h,{text:c[d][0]})).text,c[d][1],c[d][2]]):f.push(a(Object.assign({},h,{text:c[d]})).text);l.text=f}else l.text=a(Object.assign({},h,{text:c})).text}])})(Bt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0},t.addFileToVFS=function(i,o){return e.call(this),this.internal.vFS[i]=o,this},t.getFileFromVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0?this.internal.vFS[i]:null}})(Bt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,l,c,f,h,d,y,w=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var J=function(F){var V=F.charCodeAt(),oe=V>>8,ae=N[oe];return ae!==void 0?w[256*ae+(255&V)]:oe===252||oe===253?"AL":L.test(oe)?"L":oe===8?"R":"N"},le=function(F){for(var V,oe=0;oe<F.length;oe++){if((V=J(F.charAt(oe)))==="L")return!1;if(V==="R")return!0}return!1},pe=function(F,V,oe,ae){var Te,Z,de,re,ke=V[ae];switch(ke){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(ke="AN");break;case"AL":R=!0,ke="R";break;case"WS":case"BN":ke="N";break;case"CS":ae<1||ae+1>=V.length||(Te=oe[ae-1])!=="EN"&&Te!=="AN"||(Z=V[ae+1])!=="EN"&&Z!=="AN"?ke="N":R&&(Z="AN"),ke=Z===Te?Z:"N";break;case"ES":ke=(Te=ae>0?oe[ae-1]:"B")==="EN"&&ae+1<V.length&&V[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&oe[ae-1]==="EN"){ke="EN";break}if(R){ke="N";break}for(de=ae+1,re=V.length;de<re&&V[de]==="ET";)de++;ke=de<re&&V[de]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(re=V.length,de=ae+1;de<re&&V[de]==="NSM";)de++;if(de<re){var qe=F[ae],Y=qe>=1425&&qe<=2303||qe===64286;if(Te=V[de],Y&&(Te==="R"||Te==="AL")){ke="R";break}}}ke=ae<1||(Te=V[ae-1])==="B"?"N":oe[ae-1];break;case"B":R=!1,a=!0,ke=D;break;case"S":l=!0,ke="N"}return ke},ue=function(F,V,oe){var ae=F.split("");return oe&&se(ae,oe,{hiLevel:D}),ae.reverse(),V&&V.reverse(),ae.join("")},se=function(F,V,oe){var ae,Te,Z,de,re,ke=-1,qe=F.length,Y=0,k=[],G=D?S:E,z=[];for(R=!1,a=!1,l=!1,Te=0;Te<qe;Te++)z[Te]=J(F[Te]);for(Z=0;Z<qe;Z++){if(re=Y,k[Z]=pe(F,z,k,Z),ae=240&(Y=G[re][U[k[Z]]]),Y&=15,V[Z]=de=G[Y][5],ae>0)if(ae===16){for(Te=ke;Te<Z;Te++)V[Te]=1;ke=-1}else ke=-1;if(G[Y][6])ke===-1&&(ke=Z);else if(ke>-1){for(Te=ke;Te<Z;Te++)V[Te]=de;ke=-1}z[Z]==="B"&&(V[Z]=0),oe.hiLevel|=de}l&&(function(Q,ie,ge){for(var Ae=0;Ae<ge;Ae++)if(Q[Ae]==="S"){ie[Ae]=D;for(var Ne=Ae-1;Ne>=0&&Q[Ne]==="WS";Ne--)ie[Ne]=D}})(z,V,qe)},K=function(F,V,oe,ae,Te){if(!(Te.hiLevel<F)){if(F===1&&D===1&&!a)return V.reverse(),void(oe&&oe.reverse());for(var Z,de,re,ke,qe=V.length,Y=0;Y<qe;){if(ae[Y]>=F){for(re=Y+1;re<qe&&ae[re]>=F;)re++;for(ke=Y,de=re-1;ke<de;ke++,de--)Z=V[ke],V[ke]=V[de],V[de]=Z,oe&&(Z=oe[ke],oe[ke]=oe[de],oe[de]=Z);Y=re}Y++}}},X=function(F,V,oe){var ae=F.split(""),Te={hiLevel:D};return oe||(oe=[]),se(ae,oe,Te),(function(Z,de,re){if(re.hiLevel!==0&&y)for(var ke,qe=0;qe<Z.length;qe++)de[qe]===1&&(ke=B.indexOf(Z[qe]))>=0&&(Z[qe]=B[ke+1])})(ae,oe,Te),K(2,ae,V,oe,Te),K(1,ae,V,oe,Te),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(F,V,oe){if((function(Te,Z){if(Z)for(var de=0;de<Te.length;de++)Z[de]=de;f===void 0&&(f=le(Te)),d===void 0&&(d=le(Te))})(F,V),c||!h||d)if(c&&h&&f^d)D=f?1:0,F=ue(F,V,oe);else if(!c&&h&&d)D=f?1:0,F=X(F,V,oe),F=ue(F,V);else if(!c||f||h||d){if(c&&!h&&f^d)F=ue(F,V),f?(D=0,F=X(F,V,oe)):(D=1,F=X(F,V,oe),F=ue(F,V));else if(c&&f&&!h&&d)D=1,F=X(F,V,oe),F=ue(F,V);else if(!c&&!h&&f^d){var ae=y;f?(D=1,F=X(F,V,oe),D=0,y=!1,F=X(F,V,oe),y=ae):(D=0,F=X(F,V,oe),F=ue(F,V),D=1,y=!1,F=X(F,V,oe),y=ae,F=ue(F,V))}}else D=0,F=X(F,V,oe);else D=f?1:0,F=X(F,V,oe);return F},this.__bidiEngine__.setOptions=function(F){F&&(c=F.isInputVisual,h=F.isOutputVisual,f=F.isInputRtl,d=F.isOutputRtl,y=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,i.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(c=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?c.push([i.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):c.push([i.doBidiReorder(a[f])]);o.text=c}else o.text=i.doBidiReorder(a);i.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function t(e){var i;if(this.rawData=e,i=this.contents=new rl(e),this.contents.pos=4,i.readString(4)==="ttcf")throw new Error("TTCF not supported.");i.pos=0,this.parse(),this.subset=new k3(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new g3(this.contents),this.head=new v3(this),this.name=new _3(this),this.cmap=new n5(this),this.toUnicode={},this.hhea=new x3(this),this.maxp=new A3(this),this.hmtx=new E3(this),this.post=new w3(this),this.os2=new b3(this),this.loca=new M3(this),this.glyf=new C3(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,i,o,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,h,d;for(d=[],c=0,f=(h=this.bbox).length;c<f;c++)e=h[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),32768&(i=a>>16)&&(i=-(1+(65535^i))),this.italicAngle=+(i+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var i;return((i=this.cmap.unicode)!=null?i.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var i;return i=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*i},t.prototype.widthOfString=function(e,i,o){var a,l,c,f;for(c=0,l=0,f=(e=""+e).length;0<=f?l<f:l>f;l=0<=f?++l:--l)a=e.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/i)||0;return c*(i/1e3)},t.prototype.lineHeight=function(e,i){var o;return i==null&&(i=!1),o=i?this.lineGap:0,(this.ascender+o-this.decender)/1e3*e},t})();var ga,rl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var i,o;for(o=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)o[i]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(e){var i,o,a;for(a=[],i=0,o=e.length;0<=o?i<o:i>o;i=0<=o?++i:--i)a.push(this.writeByte(e.charCodeAt(i)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,i,o,a,l,c,f,h;return e=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),f=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^i)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^l)+65536*(255^c)+256*(255^f)+(255^h)+1):72057594037927940*e+281474976710656*i+1099511627776*o+4294967296*a+16777216*l+65536*c+256*f+h},t.prototype.writeLongLong=function(e){var i,o;return i=Math.floor(e/4294967296),o=4294967295&e,this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var i,o;for(i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push(this.readByte());return i},t.prototype.write=function(e){var i,o,a,l;for(l=[],o=0,a=e.length;o<a;o++)i=e[o],l.push(this.writeByte(i));return l},t})(),g3=(function(){var t;function e(i){var o,a,l;for(this.scalarType=i.readInt(),this.tableCount=i.readShort(),this.searchRange=i.readShort(),this.entrySelector=i.readShort(),this.rangeShift=i.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)o={tag:i.readString(4),checksum:i.readInt(),offset:i.readInt(),length:i.readInt()},this.tables[o.tag]=o}return e.prototype.encode=function(i){var o,a,l,c,f,h,d,y,w,E,S,U,N;for(N in S=Object.keys(i).length,h=Math.log(2),w=16*Math.floor(Math.log(S)/h),c=Math.floor(w/h),y=16*S-w,(a=new rl).writeInt(this.scalarType),a.writeShort(S),a.writeShort(w),a.writeShort(c),a.writeShort(y),l=16*S,d=a.pos+l,f=null,U=[],i)for(E=i[N],a.writeString(N),a.writeInt(t(E)),a.writeInt(d),a.writeInt(E.length),U=U.concat(E),N==="head"&&(f=d),d+=E.length;d%4;)U.push(0),d++;return a.write(U),o=2981146554-t(a.data),a.pos=f+8,a.writeUInt32(o),a.data},t=function(i){var o,a,l,c;for(i=i5.call(i);i.length%4;)i.push(0);for(l=new rl(i),a=0,o=0,c=i.length;o<c;o=o+=4)a+=l.readUInt32();return 4294967295&a},e})(),y3={}.hasOwnProperty,qa=function(t,e){for(var i in e)y3.call(e,i)&&(t[i]=e[i]);function o(){this.constructor=t}return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};ga=(function(){function t(e){var i;this.file=e,i=this.file.directory.tables[this.tag],this.exists=!!i,i&&(this.offset=i.offset,this.length=i.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var v3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new rl).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t})(),Rm=(function(){function t(e,i){var o,a,l,c,f,h,d,y,w,E,S,U,N,B,L,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=i+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(S=e.readUInt16(),E=S/2,e.pos+=6,l=(function(){var J,le;for(le=[],h=J=0;0<=E?J<E:J>E;h=0<=E?++J:--J)le.push(e.readUInt16());return le})(),e.pos+=2,N=(function(){var J,le;for(le=[],h=J=0;0<=E?J<E:J>E;h=0<=E?++J:--J)le.push(e.readUInt16());return le})(),d=(function(){var J,le;for(le=[],h=J=0;0<=E?J<E:J>E;h=0<=E?++J:--J)le.push(e.readUInt16());return le})(),y=(function(){var J,le;for(le=[],h=J=0;0<=E?J<E:J>E;h=0<=E?++J:--J)le.push(e.readUInt16());return le})(),a=(this.length-e.pos+this.offset)/2,f=(function(){var J,le;for(le=[],h=J=0;0<=a?J<a:J>a;h=0<=a?++J:--J)le.push(e.readUInt16());return le})(),h=L=0,D=l.length;L<D;h=++L)for(B=l[h],o=R=U=N[h];U<=B?R<=B:R>=B;o=U<=B?++R:--R)y[h]===0?c=o+d[h]:(c=f[y[h]/2+(o-U)-(E-h)]||0)!==0&&(c+=d[h]),this.codeMap[o]=65535&c}e.pos=w}return t.encode=function(e,i){var o,a,l,c,f,h,d,y,w,E,S,U,N,B,L,R,D,J,le,pe,ue,se,K,X,F,V,oe,ae,Te,Z,de,re,ke,qe,Y,k,G,z,Q,ie,ge,Ae,Ne,we,me,Xe;switch(ae=new rl,c=Object.keys(e).sort(function(et,ot){return et-ot}),i){case"macroman":for(N=0,B=(function(){var et=[];for(U=0;U<256;++U)et.push(0);return et})(),R={0:0},l={},Te=0,ke=c.length;Te<ke;Te++)R[Ne=e[a=c[Te]]]==null&&(R[Ne]=++N),l[a]={old:e[a],new:R[e[a]]},B[a]=R[e[a]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(B),{charMap:l,subtable:ae.data,maxGlyphID:N+1};case"unicode":for(V=[],w=[],D=0,R={},o={},L=d=null,Z=0,qe=c.length;Z<qe;Z++)R[le=e[a=c[Z]]]==null&&(R[le]=++D),o[a]={old:le,new:R[le]},f=R[le]-a,L!=null&&f===d||(L&&w.push(L),V.push(a),d=f),L=a;for(L&&w.push(L),w.push(65535),V.push(65535),X=2*(K=V.length),se=2*Math.pow(Math.log(K)/Math.LN2,2),E=Math.log(se/2)/Math.LN2,ue=2*K-se,h=[],pe=[],S=[],U=de=0,Y=V.length;de<Y;U=++de){if(F=V[U],y=w[U],F===65535){h.push(0),pe.push(0);break}if(F-(oe=o[F].new)>=32768)for(h.push(0),pe.push(2*(S.length+K-U)),a=re=F;F<=y?re<=y:re>=y;a=F<=y?++re:--re)S.push(o[a].new);else h.push(oe-F),pe.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*K+2*S.length),ae.writeUInt16(0),ae.writeUInt16(X),ae.writeUInt16(se),ae.writeUInt16(E),ae.writeUInt16(ue),ge=0,k=w.length;ge<k;ge++)a=w[ge],ae.writeUInt16(a);for(ae.writeUInt16(0),Ae=0,G=V.length;Ae<G;Ae++)a=V[Ae],ae.writeUInt16(a);for(we=0,z=h.length;we<z;we++)f=h[we],ae.writeUInt16(f);for(me=0,Q=pe.length;me<Q;me++)J=pe[me],ae.writeUInt16(J);for(Xe=0,ie=S.length;Xe<ie;Xe++)N=S[Xe],ae.writeUInt16(N);return{charMap:o,subtable:ae.data,maxGlyphID:D+1}}},t})(),n5=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,o,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)i=new Rm(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var o,a;return i==null&&(i="macroman"),o=Rm.encode(e,i),(a=new rl).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},t})(),x3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),b3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var i,o;for(o=[],i=0;i<10;++i)o.push(e.readByte());return o})(),this.charRange=(function(){var i,o;for(o=[],i=0;i<4;++i)o.push(e.readInt());return o})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(e.readInt());return o})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),w3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="post",t.prototype.parse=function(e){var i,o,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(o=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)i=e.readByte(),a.push(this.names.push(e.readString(i)));return a;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 262144:return this.map=(function(){var c,f,h;for(h=[],l=c=0,f=this.file.maxp.numGlyphs;0<=f?c<f:c>f;l=0<=f?++c:--c)h.push(e.readUInt32());return h}).call(this)}},t})(),S3=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="name",t.prototype.parse=function(e){var i,o,a,l,c,f,h,d,y,w,E;for(e.pos=this.offset,e.readShort(),i=e.readShort(),f=e.readShort(),o=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+f+e.readShort()});for(h={},l=y=0,w=o.length;y<w;l=++y)a=o[l],e.pos=a.offset,d=e.readString(a.length),c=new S3(d,a),h[E=a.nameID]==null&&(h[E]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),A3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),E3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,o,a,l,c,f,h;for(e.pos=this.offset,this.metrics=[],i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],i=d=0;0<=a?d<a:d>a;i=0<=a?++d:--d)y.push(e.readInt16());return y})(),this.widths=(function(){var d,y,w,E;for(E=[],d=0,y=(w=this.metrics).length;d<y;d++)l=w[d],E.push(l.advance);return E}).call(this),o=this.widths[this.widths.length-1],h=[],i=c=0;0<=a?c<a:c>a;i=0<=a?++c:--c)h.push(this.widths.push(o));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),i5=[].slice,C3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,o,a,l,c,f,h,d,y,w;return e in this.cache?this.cache[e]:(l=this.file.loca,i=this.file.contents,o=l.indexOf(e),(a=l.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+o,c=(f=new rl(i.read(a))).readShort(),d=f.readShort(),w=f.readShort(),h=f.readShort(),y=f.readShort(),this.cache[e]=c===-1?new N3(f,d,w,h,y):new T3(f,c,d,w,h,y),this.cache[e]))},t.prototype.encode=function(e,i,o){var a,l,c,f,h;for(c=[],l=[],f=0,h=i.length;f<h;f++)a=e[i[f]],l.push(c.length),a&&(c=c.concat(a.encode(o)));return l.push(c.length),{table:c,offsets:l}},t})(),T3=(function(){function t(e,i,o,a,l,c){this.raw=e,this.numberOfContours=i,this.xMin=o,this.yMin=a,this.xMax=l,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),N3=(function(){function t(e,i,o,a,l){var c,f;for(this.raw=e,this.xMin=i,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return t.prototype.encode=function(){var e,i,o;for(i=new rl(i5.call(this.raw.data)),e=0,o=this.glyphIDs.length;e<o;++e)i.pos=this.glyphOffsets[e];return i.data},t})(),M3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,ga),t.prototype.tag="loca",t.prototype.parse=function(e){var i,o;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var o=new Uint32Array(this.offsets.length),a=0,l=0,c=0;c<o.length;++c)if(o[c]=a,l<i.length&&i[l]==c){++l,o[c]=a;var f=this.offsets[c],h=this.offsets[c+1]-f;h>0&&(a+=h)}for(var d=new Array(4*o.length),y=0;y<o.length;++y)d[4*y+3]=255&o[y],d[4*y+2]=(65280&o[y])>>8,d[4*y+1]=(16711680&o[y])>>16,d[4*y]=(4278190080&o[y])>>24;return d},t})(),k3=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,i,o,a,l;for(i in a=this.font.cmap.tables[0].codeMap,e={},l=this.subset)o=l[i],e[i]=a[o];return e},t.prototype.glyphsFor=function(e){var i,o,a,l,c,f,h;for(a={},c=0,f=e.length;c<f;c++)a[l=e[c]]=this.font.glyf.glyphFor(l);for(l in i=[],a)(o=a[l])!=null&&o.compound&&i.push.apply(i,o.glyphIDs);if(i.length>0)for(l in h=this.glyphsFor(i))o=h[l],a[l]=o;return a},t.prototype.encode=function(e,i){var o,a,l,c,f,h,d,y,w,E,S,U,N,B,L;for(a in o=n5.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),S={0:0},L=o.charMap)S[(h=L[a]).old]=h.new;for(U in E=o.maxGlyphID,c)U in S||(S[U]=E++);return y=(function(R){var D,J;for(D in J={},R)J[R[D]]=D;return J})(S),w=Object.keys(y).sort(function(R,D){return R-D}),N=(function(){var R,D,J;for(J=[],R=0,D=w.length;R<D;R++)f=w[R],J.push(y[f]);return J})(),l=this.font.glyf.encode(c,N,S),d=this.font.loca.encode(l.offsets,N),B={cmap:this.font.cmap.raw(),glyf:l.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(i)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t})();Bt.API.PDFObject=(function(){var t;function e(){}return t=function(i,o){return(Array(o+1).join("0")+i).slice(-o)},e.convert=function(i){var o,a,l,c;if(Array.isArray(i))return"["+(function(){var f,h,d;for(d=[],f=0,h=i.length;f<h;f++)o=i[f],d.push(e.convert(o));return d})().join(" ")+"]";if(typeof i=="string")return"/"+i;if(i!=null&&i.isString)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if({}.toString.call(i)==="[object Object]"){for(a in l=["<<"],i)c=i[a],l.push("/"+a+" "+e.convert(c));return l.push(">>"),l.join(`
`)}return""+i},e})();const Zf=({label:t,mode:e})=>{const{snapModes:i,toggleSnapMode:o}=il(),a=i.has(e);return _.jsxs("button",{onClick:()=>o(e),className:`px-3 py-1.5 text-xs rounded-md flex items-center gap-2 transition-colors ${a?"bg-primary text-primary-content":"bg-base-200 hover:bg-base-300 dark:bg-dark-base-300 dark:hover:bg-dark-base-200"}`,children:[t,a&&_.jsx(px,{className:"w-3 h-3"})]})},Qf=t=>t==null?"":String(t).replace(/[<>&'"]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}),L3=t=>{switch(t){case"dashed":return'stroke-dasharray="10 5"';case"dotted":return'stroke-dasharray="2 4"';case"dash-dot":return'stroke-dasharray="10 4 2 4"';default:return""}},Im=(t,e,i,o)=>{const a=o*Math.PI/180;return{x:t+i*Math.cos(a),y:e-i*Math.sin(a)}},R3=(t,e,i,o,a)=>{const l=Im(t,e,i,o),c=Im(t,e,i,a);let f=a-o;f<0&&(f+=360);const h=f<=180?"0":"1";return["M",l.x,l.y,"A",i,i,0,h,0,c.x,c.y].join(" ")},I3=()=>{var Ne;const{unit:t,setUnit:e,isOrthoMode:i,setIsOrthoMode:o,shapes:a,replaceShapes:l,createNewDrawing:c,viewTransform:f,setViewTransform:h,templateImage:d,setTemplateImage:y,updateTemplateImage:w}=il(),E=["mm","cm","m"],[S,U]=gt.useState(!1),[N,B]=gt.useState("dibujo_sin_titulo.json"),[L,R]=gt.useState(!1),[D,J]=gt.useState(!1),[le,pe]=gt.useState(""),[ue,se]=gt.useState(!1),[K,X]=gt.useState(!1),[F,V]=gt.useState({format:"png",scope:"extents",theme:"light",optimizeLines:!0,paperSize:"A4"}),oe=gt.useRef(null),ae=gt.useRef(null),Te=[{label:"10:1",value:10},{label:"5:1",value:5},{label:"2:1",value:2},{label:"1:1",value:1},{label:"1:2",value:.5},{label:"1:5",value:.2},{label:"1:10",value:.1},{label:"1:20",value:.05},{label:"1:50",value:.02},{label:"1:100",value:.01}],Z=((Ne=Te.find(we=>Math.abs(we.value-f.scale)<.001))==null?void 0:Ne.value.toString())||"custom",de=we=>{const me=we.target.value;me!=="custom"&&h(Xe=>({...Xe,scale:parseFloat(me)}))},re=()=>{a.length>0?R(!0):(c(),B("dibujo_sin_titulo.json")),U(!1)},ke=()=>{c(),B("dibujo_sin_titulo.json"),R(!1)},qe=(we,me,Xe)=>{const et=new Blob([me],{type:Xe}),ot=URL.createObjectURL(et),W=document.createElement("a");W.href=ot,W.download=we,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(ot)},Y=()=>{const we=JSON.stringify(a,null,2),me=N.endsWith(".json")?N:`${N}.json`;qe(me,we,"application/json"),me!==N&&B(me),U(!1)},k=()=>{pe(N.replace(".json","")),J(!0),U(!1)},G=we=>{we.preventDefault();const me=le.trim()||"sin_titulo",Xe=me.endsWith(".json")?me:`${me}.json`;B(Xe);const et=JSON.stringify(a,null,2);qe(Xe,et,"application/json"),J(!1)},z=we=>{var et;const me=(et=we.target.files)==null?void 0:et[0];if(!me)return;const Xe=new FileReader;Xe.onload=ot=>{var W;try{const at=(W=ot.target)==null?void 0:W.result,wt=JSON.parse(at);if(Array.isArray(wt)){const mt=wt.map(({id:ze,...St})=>St);l(a.map(ze=>ze.id),mt),B(me.name)}else alert("El archivo no tiene un formato vlido.")}catch(at){console.error(at),alert("Error al leer el archivo.")}},Xe.readAsText(me),U(!1),oe.current&&(oe.current.value="")},Q=we=>{var et;const me=(et=we.target.files)==null?void 0:et[0];if(!me)return;const Xe=new FileReader;Xe.onload=ot=>{var wt;const W=(wt=ot.target)==null?void 0:wt.result,at=new Image;at.onload=()=>{y({id:`tpl-${Date.now()}`,data:W,x:0,y:0,width:at.width,height:at.height,opacity:.5,isVisible:!0,fileName:me.name})},at.src=W},Xe.readAsDataURL(me),U(!1),ae.current&&(ae.current.value="")},ie=()=>{if(a.length===0){alert("No hay elementos para exportar."),U(!1);return}V(we=>({...we,theme:"light",optimizeLines:!0})),X(!0),U(!1)},ge=we=>{if(a.length===0)return null;let me=1/0,Xe=1/0,et=-1/0,ot=-1/0,W=!1;const at=a;if(at.forEach(Pe=>{W=!0;const lt=(Pe.properties.strokeWidth||1)/2;if(Pe.type==="line"||Pe.type==="dimension"){const vt=Math.min(Pe.p1.x,Pe.p2.x)-lt,dt=Math.max(Pe.p1.x,Pe.p2.x)+lt,Yt=Math.min(Pe.p1.y,Pe.p2.y)-lt,bt=Math.max(Pe.p1.y,Pe.p2.y)+lt;Number.isFinite(vt)&&(me=Math.min(me,vt),et=Math.max(et,dt)),Number.isFinite(Yt)&&(Xe=Math.min(Xe,Yt),ot=Math.max(ot,bt)),Pe.type==="dimension"&&Pe.offsetPoint&&(me=Math.min(me,Pe.offsetPoint.x-20),et=Math.max(et,Pe.offsetPoint.x+20),Xe=Math.min(Xe,Pe.offsetPoint.y-10),ot=Math.max(ot,Pe.offsetPoint.y+10))}else if(Pe.type==="rectangle"||Pe.type==="title_block"){let vt=Pe.x,dt=Pe.y,Yt=Pe.width,bt=Pe.height;Yt<0&&(vt+=Yt,Yt=Math.abs(Yt)),bt<0&&(dt+=bt,bt=Math.abs(bt)),Number.isFinite(vt)&&Number.isFinite(Yt)&&(me=Math.min(me,vt-lt),et=Math.max(et,vt+Yt+lt)),Number.isFinite(dt)&&Number.isFinite(bt)&&(Xe=Math.min(Xe,dt-lt),ot=Math.max(ot,dt+bt+lt))}else if(Pe.type==="circle")Number.isFinite(Pe.cx)&&Number.isFinite(Pe.r)&&(me=Math.min(me,Pe.cx-Pe.r-lt),et=Math.max(et,Pe.cx+Pe.r+lt),Xe=Math.min(Xe,Pe.cy-Pe.r-lt),ot=Math.max(ot,Pe.cy+Pe.r+lt));else if(Pe.type==="text"){const vt=Pe.content.length*Pe.fontSize*.6;me=Math.min(me,Pe.x),et=Math.max(et,Pe.x+vt),Xe=Math.min(Xe,Pe.y),ot=Math.max(ot,Pe.y+Pe.fontSize)}else if(Pe.type==="symbol"){const vt=Pe.size/2;me=Math.min(me,Pe.x-vt),et=Math.max(et,Pe.x+vt),Xe=Math.min(Xe,Pe.y-vt),ot=Math.max(ot,Pe.y+vt)}}),!W||!Number.isFinite(me)||!Number.isFinite(et))return null;const wt=et-me,mt=ot-Xe;let ze,St,ft,Mt="",ut=1;if(we.format==="pdf"){const lt={A4:{w:1485,h:1050},Letter:{w:1395,h:1080},Legal:{w:1780,h:1080}}[we.paperSize];ze=lt.w,St=lt.h,ft=`0 0 ${lt.w} ${lt.h}`;const vt=50,dt=vt,Yt=vt,bt=lt.w-vt*2,Ct=lt.h-vt*2,Tt=bt/wt,qt=Ct/mt;ut=Math.min(Tt,qt)*.95;const rt=wt*ut,Ht=mt*ut,fe=dt+(bt-rt)/2,xe=Yt+(Ct-Ht)/2;Mt=`translate(${fe} ${xe}) scale(${ut}) translate(${-me} ${-Xe})`}else{const ct=me-50,lt=Xe-50,vt=wt+100,dt=mt+100;ze=vt,St=dt,ft=`${ct} ${lt} ${vt} ${dt}`,Mt=""}const jt=we.theme==="dark"?"#000000":"#FFFFFF",sn=we.theme==="dark"?"#FFFFFF":"#000000";let yt=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${ft}" width="${ze}" height="${St}">`;if(we.format==="pdf")yt+=`<rect x="0" y="0" width="${ze}" height="${St}" fill="${jt}" />`;else{const Pe=ft.split(" ");yt+=`<rect x="${Pe[0]}" y="${Pe[1]}" width="${Pe[2]}" height="${Pe[3]}" fill="${jt}" />`}return yt+=`
        <defs>
            <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="${sn}" />
            </marker>
        </defs>
        `,yt+=`<g transform="${Mt}">`,at.forEach(Pe=>{let ct=Pe.properties.color||"#ffffff";we.theme==="light"?(ct.toLowerCase()==="#ffffff"||ct.toLowerCase()==="#fff")&&(ct="#000000"):(ct.toLowerCase()==="#000000"||ct.toLowerCase()==="#000")&&(ct="#ffffff");let lt=Pe.properties.strokeWidth||1;we.optimizeLines&&we.format==="pdf"&&lt*ut<1&&(lt=1/ut);const vt=Pe.properties.fill!=="transparent"?Pe.properties.fill:"none",dt=L3(Pe.properties.lineType);if(Pe.type==="line")yt+=`<line x1="${Pe.p1.x}" y1="${Pe.p1.y}" x2="${Pe.p2.x}" y2="${Pe.p2.y}" stroke="${ct}" stroke-width="${lt}" ${dt} />`;else if(Pe.type==="rectangle"){const Yt=Pe.rotation?`rotate(${-Pe.rotation}, ${Pe.x+Pe.width/2}, ${Pe.y+Pe.height/2})`:"";yt+=`<rect x="${Pe.x}" y="${Pe.y}" width="${Pe.width}" height="${Pe.height}" stroke="${ct}" stroke-width="${lt}" fill="${vt}" transform="${Yt}" ${dt} />`}else if(Pe.type==="title_block"){const{x:Yt,y:bt,width:Ct,height:Tt,data:qt}=Pe,rt=Ct*.25,Ht=Ct*.45,fe=Ct*.3,xe=Yt,Fe=Yt+rt,ve=Yt+rt+Ht,_e=Tt*.4,Ze=Tt*.3,Je=Tt*.3,Et=bt,Ge=bt+_e,He=bt+_e+Ze,Be=Tt/2,Ye=bt,pt=bt+Be,Ot=Pe.fontScale||1,tn=Pe.letterSpacing||0,Ut=Pe.lineSpacing||1,Ft=Math.max(Tt*.08,1.5)*Ot,bn=Math.max(Tt*.11,2)*Ot,ki=.3+.55*Ut,gn=`fill="${ct}" font-family="sans-serif" letter-spacing="${tn}"`,Xt=`stroke="${ct}" stroke-width="${lt}" fill="none"`,en=(ti,Nn,Kn,br,Gi,ur,kr=!1)=>{const cr=ti+Kn*.05,Qi=Nn+br*.3,er=ti+Kn*.05,fr=Nn+br*ki;return`
                        <text x="${cr}" y="${Qi}" ${gn} font-size="${Ft}" font-weight="bold">${Qf(Gi)}</text>
                        <text x="${er}" y="${fr}" ${gn} font-size="${kr?bn*1.2:bn}" font-weight="${kr?"bold":"normal"}">${Qf(ur)}</text>
                     `};yt+=`
                    <g>
                        <rect x="${Yt}" y="${bt}" width="${Ct}" height="${Tt}" ${Xt} />
                        <line x1="${Fe}" y1="${bt}" x2="${Fe}" y2="${bt+Tt}" ${Xt} />
                        <line x1="${ve}" y1="${bt}" x2="${ve}" y2="${bt+Tt}" ${Xt} />
                        
                        
                        <text x="${xe+5}" y="${bt+10}" ${gn} font-size="${Ft}" font-weight="bold">EMPRESA:</text>
                        <text x="${xe+rt/2}" y="${bt+Tt/2+bn/3}" text-anchor="middle" ${gn} font-size="${bn*1.2}" font-weight="bold">${Qf(qt.company)}</text>
                        
                        
                        <line x1="${Fe}" y1="${Ge}" x2="${ve}" y2="${Ge}" ${Xt} />
                        <line x1="${Fe}" y1="${He}" x2="${ve}" y2="${He}" ${Xt} />

                        
                        ${en(Fe,Et,Ht,_e,"PROYECTO:",qt.project,!0)}
                        ${en(Fe,Ge,Ht,Ze,"REALIZ:",qt.drawnBy)}
                        ${en(Fe,He,Ht,Je,"REVIS:",qt.checkedBy)}

                        
                        <line x1="${ve+fe/2}" y1="${bt}" x2="${ve+fe/2}" y2="${bt+Tt}" ${Xt} />
                        <line x1="${ve}" y1="${pt}" x2="${Yt+Ct}" y2="${pt}" ${Xt} />
                        
                        
                        ${en(ve,Ye,fe/2,Be,"ESCALA:",qt.scale)}
                        ${en(ve+fe/2,Ye,fe/2,Be,"FECHA:",qt.date)}
                        
                        ${en(ve,pt,fe/2,Be,"PLANO:",qt.sheet,!0)}
                        ${en(ve+fe/2,pt,fe/2,Be,"REV:",qt.revision)}
                    </g>
                 `}else if(Pe.type==="circle")if(Pe.startAngle!==void 0&&Pe.endAngle!==void 0&&Math.abs(Pe.endAngle-Pe.startAngle)<359.9){const Yt=R3(Pe.cx,Pe.cy,Pe.r,Pe.startAngle,Pe.endAngle);yt+=`<path d="${Yt}" stroke="${ct}" stroke-width="${lt}" fill="none" ${dt} />`}else yt+=`<circle cx="${Pe.cx}" cy="${Pe.cy}" r="${Pe.r}" stroke="${ct}" stroke-width="${lt}" fill="${vt}" ${dt} />`;else if(Pe.type==="text"){const Yt=Pe.rotation?`rotate(${-Pe.rotation}, ${Pe.x}, ${Pe.y})`:"";yt+=`<text x="${Pe.x}" y="${Pe.y}" fill="${ct}" font-size="${Pe.fontSize}" font-family="sans-serif" transform="${Yt}">${Qf(Pe.content)}</text>`}else if(Pe.type==="symbol"){const Yt=Pe.rotation||0,bt=Pe.size;let Ct=lt;const Tt=`translate(${Pe.x}, ${Pe.y}) rotate(${-Yt}) scale(${bt/24}) translate(-12, -12)`,qt=Math.max(1,Ct*(24/bt)),rt=()=>`stroke="${ct}" stroke-width="${qt}" fill="none" stroke-linecap="round" stroke-linejoin="round" ${dt}`;let Ht="";switch(Pe.name){case"arrow":Ht=`<path d="M7 17l9.2-9.2M17 17V7H7" ${rt()}/>`;break;case"warning":Ht=`<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" ${rt()}/><line x1="12" y1="9" x2="12" y2="13" ${rt()}/><line x1="12" y1="17" x2="12.01" y2="17" ${rt()}/>`;break;case"extinguisher":Ht=`<rect x="2" y="2" width="20" height="20" rx="2" ${rt()}/><path d="M12 6v-1" ${rt()}/><path d="M9 10h6" ${rt()}/><path d="M12 8a2 2 0 0 0-2 2v8a2 2 0 0 0 4 0v-8a2 2 0 0 0-2-2z" fill="${ct}" fill-opacity="0.2" stroke="none" /><path d="M12 10l3-2" ${rt()}/>`;break;case"emergency_exit":Ht=`<rect x="1" y="4" width="22" height="16" rx="2" ${rt()}/><rect x="4" y="6" width="6" height="12" ${rt()} /><circle cx="15" cy="9" r="1.5" fill="${ct}" stroke="none"/><path d="M13 12l2-1 2 1.5" ${rt()}/><path d="M15 11v4" ${rt()}/><path d="M15 15l-2 3" ${rt()}/><path d="M15 15l2 2 1-1" ${rt()}/>`;break;case"first_aid":Ht=`<rect x="2" y="2" width="20" height="20" rx="2" ${rt()} /><rect x="10" y="6" width="4" height="12" fill="${ct}" stroke="none"/><rect x="6" y="10" width="12" height="4" fill="${ct}" stroke="none"/>`;break;case"restroom":Ht=`<rect x="2" y="2" width="20" height="20" rx="2" ${rt()}/><line x1="12" y1="4" x2="12" y2="20" ${rt()}/><circle cx="7" cy="8" r="1.5" fill="${ct}" stroke="none" /><path d="M5.5 11h3v5h-3z" fill="${ct}" stroke="none" /><circle cx="17" cy="8" r="1.5" fill="${ct}" stroke="none" /><path d="M17 10l-2 4h4l-2-4z" fill="${ct}" stroke="none" />`;break;case"hydrant":Ht=`<rect x="2" y="2" width="20" height="20" rx="2" ${rt()}/><path d="M8 7v10" ${rt()}/><path d="M16 7v10" ${rt()}/><path d="M8 12h8" ${rt()}/>`;break;case"trailer":Ht=`<rect x="2" y="4" width="20" height="16" ${rt()}/><rect x="6" y="8" width="12" height="8" rx="1" fill="${ct}" fill-opacity="0.3" stroke="none"/>`;break;case"forklift":Ht=`<path d="M9 16h3v-5h-2v-1h3l1 6h-5z" fill="${ct}" stroke="none"/><rect x="12" y="2.5" width="13.5" height="13.5" transform="rotate(45 12 2.5)" ${rt()}/>`;break;case"pallet":Ht=`<rect x="5" y="5" width="14" height="14" ${rt()}/><rect x="2" y="2" width="20" height="20" rx="1" ${rt()}/>`;break;case"rack":Ht=`<rect x="2" y="2" width="20" height="20" ${rt()}/><line x1="2" y1="8" x2="22" y2="8" ${rt()}/>`;break;case"conveyor":Ht=`<rect x="2" y="6" width="20" height="12" rx="2" ${rt()}/><circle cx="6" cy="12" r="2" fill="${ct}" stroke="none"/><circle cx="12" cy="12" r="2" fill="${ct}" stroke="none"/><circle cx="18" cy="12" r="2" fill="${ct}" stroke="none"/>`;break;case"container":Ht=`<rect x="2" y="4" width="20" height="16" ${rt()}/><line x1="6" y1="4" x2="6" y2="20" ${rt()}/><line x1="10" y1="4" x2="10" y2="20" ${rt()}/><line x1="14" y1="4" x2="14" y2="20" ${rt()}/><line x1="18" y1="4" x2="18" y2="20" ${rt()}/>`;break;case"door":Ht=`<path d="M3 21V3" ${rt()} /><path d="M3 3h14v18" ${rt()} stroke-dasharray="2 2" /><path d="M17 21H3" ${rt()} /><path d="M3 21c9.941 0 18-8.059 18-18" ${rt()} stroke-dasharray="2 2" fill="none" />`;break;case"window":Ht=`<rect x="3" y="6" width="18" height="12" ${rt()} /><line x1="3" y1="12" x2="21" y2="12" ${rt()} /><line x1="12" y1="6" x2="12" y2="18" ${rt()} />`;break}yt+=`<g transform="${Tt}">${Ht}</g>`}}),yt+="</g>",yt+="</svg>",yt},Ae=()=>{const we=ge(F);if(we)if(F.format==="svg")qe(`plano_${new Date().getTime()}.svg`,we,"image/svg+xml");else if(F.format==="pdf"){const me=F.paperSize,Xe="landscape",et=new Bt({orientation:Xe,unit:"mm",format:me.toLowerCase()}),ot=new Image,W=new Blob([we],{type:"image/svg+xml;charset=utf-8"}),at=URL.createObjectURL(W);ot.onload=()=>{const wt=document.createElement("canvas"),mt=4;wt.width=ot.width*mt,wt.height=ot.height*mt;const ze=wt.getContext("2d");if(ze){ze.scale(mt,mt),ze.imageSmoothingEnabled=!0,ze.imageSmoothingQuality="high",ze.drawImage(ot,0,0);const St=wt.toDataURL("image/png"),ft=et.internal.pageSize.getWidth(),Mt=et.internal.pageSize.getHeight();et.addImage(St,"PNG",0,0,ft,Mt),et.save(`plano_${new Date().getTime()}.pdf`)}URL.revokeObjectURL(at),X(!1)},ot.src=at}else{const me=new Image,Xe=new Blob([we],{type:"image/svg+xml;charset=utf-8"}),et=URL.createObjectURL(Xe);me.onload=()=>{const ot=document.createElement("canvas"),W=Math.max(me.width,me.height);let wt=Math.max(2,4e3/W);wt>10&&(wt=10),W*wt>12e3&&(wt=12e3/W),ot.width=me.width*wt,ot.height=me.height*wt;const mt=ot.getContext("2d");mt&&((F.format==="jpg"||F.theme==="light")&&(mt.fillStyle=F.theme==="dark"?"#000000":"#FFFFFF",mt.fillRect(0,0,ot.width,ot.height)),mt.scale(wt,wt),mt.imageSmoothingEnabled=!0,mt.imageSmoothingQuality="high",mt.drawImage(me,0,0),ot.toBlob(ze=>{if(ze){const St=document.createElement("a");St.href=URL.createObjectURL(ze),St.download=`plano_${new Date().getTime()}.${F.format}`,St.click()}X(!1)},`image/${F.format}`,1)),URL.revokeObjectURL(et)},me.src=et}};return _.jsxs("header",{className:"h-14 bg-base-100 dark:bg-dark-base-100 border-b border-base-300 dark:border-dark-base-300 flex items-center px-4 justify-between select-none z-50",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-primary via-blue-600 to-secondary rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[_.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),_.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),_.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),_.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary tracking-tight",children:"PMC CAD"})]}),_.jsx("div",{className:"h-6 w-[1px] bg-base-300 dark:bg-dark-base-300 mx-2"}),_.jsx("input",{type:"text",value:N.replace(/\.json$/i,""),onChange:we=>B(we.target.value),onBlur:()=>{N.trim()||B("dibujo_sin_titulo.json")},className:"bg-transparent hover:bg-base-200 dark:hover:bg-dark-base-300 border border-transparent focus:border-primary rounded px-2 py-1 text-sm font-medium text-base-content dark:text-dark-base-content focus:outline-none transition-all w-48 placeholder-opacity-50",placeholder:"Nombre del proyecto"}),_.jsx("div",{className:"h-6 w-[1px] bg-base-300 dark:bg-dark-base-300 mx-2"}),_.jsxs("div",{className:"relative",children:[_.jsxs("button",{onClick:()=>U(!S),className:"px-3 py-1.5 text-sm font-medium hover:bg-base-200 dark:hover:bg-dark-base-300 rounded-md transition-colors flex items-center gap-1",children:["Archivo",_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 opacity-50",children:_.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),S&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>U(!1)}),_.jsxs("div",{className:"absolute top-full left-0 mt-1 w-56 bg-base-100 dark:bg-dark-base-100 border border-base-300 dark:border-dark-base-300 rounded-lg shadow-xl z-50 py-1 animate-in fade-in zoom-in duration-100",children:[_.jsxs("button",{onClick:re,className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(Ux,{className:"w-4 h-4 opacity-70"})," Nuevo"]}),_.jsxs("button",{onClick:()=>{var we;return(we=oe.current)==null?void 0:we.click()},className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(Px,{className:"w-4 h-4 opacity-70"})," Abrir..."]}),_.jsxs("button",{onClick:Y,className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(g2,{className:"w-4 h-4 opacity-70"})," Guardar"]}),_.jsxs("button",{onClick:k,className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(g2,{className:"w-4 h-4 opacity-70"})," Guardar como..."]}),_.jsx("div",{className:"border-t border-base-300 dark:border-dark-base-300 my-1"}),_.jsxs("button",{onClick:()=>{var we;return(we=ae.current)==null?void 0:we.click()},className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(Bx,{className:"w-4 h-4 opacity-70"})," Importar Plantilla"]}),_.jsx("div",{className:"border-t border-base-300 dark:border-dark-base-300 my-1"}),_.jsxs("button",{onClick:ie,className:"w-full text-left px-4 py-2 hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm flex items-center gap-2",children:[_.jsx(y2,{className:"w-4 h-4 opacity-70"})," Exportar / Imprimir"]})]})]})]})]}),_.jsx("input",{type:"file",ref:oe,onChange:z,accept:".json",className:"hidden"}),_.jsx("input",{type:"file",ref:ae,onChange:Q,accept:"image/*",className:"hidden"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex bg-base-200 dark:bg-dark-base-300 rounded-lg p-1 gap-1",children:[_.jsx(Zf,{label:"Extremos",mode:"endpoints"}),_.jsx(Zf,{label:"Medios",mode:"midpoints"}),_.jsx(Zf,{label:"Centros",mode:"centers"}),_.jsx(Zf,{label:"Guas",mode:"inference"})]}),_.jsx("div",{className:"w-[1px] h-6 bg-base-300 dark:bg-dark-base-300 mx-1"}),_.jsx("button",{onClick:()=>o(!i),className:`px-3 py-1.5 text-xs rounded-md font-medium transition-colors ${i?"bg-secondary text-white":"bg-base-200 hover:bg-base-300 dark:bg-dark-base-300"}`,children:"ORTHO"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[d&&_.jsxs("div",{className:"flex items-center gap-1 bg-base-200 dark:bg-dark-base-300 rounded-md px-2 py-1",children:[_.jsx("button",{onClick:()=>w({isVisible:!d.isVisible}),className:"p-1 hover:bg-base-300 dark:hover:bg-dark-base-200 rounded",children:d.isVisible?_.jsx(qx,{className:"w-4 h-4"}):_.jsx(Ox,{className:"w-4 h-4 text-base-content/50"})}),_.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.opacity,onChange:we=>w({opacity:parseFloat(we.target.value)}),className:"w-16 h-1 accent-primary"}),_.jsx("button",{onClick:()=>y(null),className:"p-1 hover:bg-red-100 text-red-400 rounded",children:_.jsx(Fx,{className:"w-4 h-4"})})]}),_.jsxs("div",{className:"flex items-center bg-base-200 dark:bg-dark-base-300 rounded-md px-2",children:[_.jsx("span",{className:"text-xs opacity-50 mr-2",children:"Unidad:"}),_.jsx("select",{value:t,onChange:we=>e(we.target.value),className:"bg-transparent text-sm py-1.5 focus:outline-none",children:E.map(we=>_.jsx("option",{value:we,children:we.toUpperCase()},we))})]}),_.jsxs("div",{className:"flex items-center bg-base-200 dark:bg-dark-base-300 rounded-md px-2",children:[_.jsx("span",{className:"text-xs opacity-50 mr-2",children:"Escala:"}),_.jsxs("select",{value:Z,onChange:de,className:"bg-transparent text-sm py-1.5 focus:outline-none w-16",children:[Te.map(we=>_.jsx("option",{value:we.value,children:we.label},we.value)),_.jsx("option",{value:"custom",children:"Custom"})]})]})]}),L&&_.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-base-100 dark:bg-dark-base-100 p-6 rounded-xl shadow-2xl max-w-sm w-full border border-base-300 dark:border-dark-base-300",children:[_.jsx("h3",{className:"text-lg font-bold mb-2",children:"Crear nuevo dibujo?"}),_.jsx("p",{className:"text-sm opacity-70 mb-6",children:"Los cambios no guardados se perdern permanentemente."}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded-lg hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm",children:"Cancelar"}),_.jsx("button",{onClick:ke,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-focus",children:"Confirmar"})]})]})}),D&&_.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center p-4",children:_.jsxs("form",{onSubmit:G,className:"bg-base-100 dark:bg-dark-base-100 p-6 rounded-xl shadow-2xl max-w-sm w-full border border-base-300 dark:border-dark-base-300",children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:"Guardar como"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-xs font-semibold opacity-70 mb-1",children:"Nombre del archivo"}),_.jsx("input",{type:"text",autoFocus:!0,value:le,onChange:we=>pe(we.target.value),className:"w-full bg-base-200 dark:bg-dark-base-200 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:()=>J(!1),className:"px-4 py-2 rounded-lg hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-focus",children:"Guardar"})]})]})}),K&&_.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-base-100 dark:bg-dark-base-100 p-6 rounded-xl shadow-2xl max-w-md w-full border border-base-300 dark:border-dark-base-300",children:[_.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[_.jsx(y2,{className:"w-5 h-5"})," Exportar / Imprimir"]}),_.jsxs("div",{className:"space-y-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold opacity-70 mb-2",children:"Formato"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:["png","jpg","svg","pdf"].map(we=>_.jsx("button",{onClick:()=>V(me=>({...me,format:we})),className:`py-2 text-sm rounded-lg border ${F.format===we?"bg-primary text-white border-primary":"border-base-300 hover:bg-base-200 dark:border-dark-base-300 dark:hover:bg-dark-base-300"}`,children:we.toUpperCase()},we))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold opacity-70 mb-2",children:"Tema"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"theme",checked:F.theme==="light",onChange:()=>V(we=>({...we,theme:"light"})),className:"accent-primary"}),_.jsx("span",{className:"text-sm",children:"Claro (Impresin)"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"theme",checked:F.theme==="dark",onChange:()=>V(we=>({...we,theme:"dark"})),className:"accent-primary"}),_.jsx("span",{className:"text-sm",children:"Oscuro"})]})]})]}),F.format==="pdf"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold opacity-70 mb-2",children:"Tamao de Papel"}),_.jsxs("select",{value:F.paperSize,onChange:we=>V(me=>({...me,paperSize:we.target.value})),className:"w-full bg-base-200 dark:bg-dark-base-200 px-3 py-2 rounded-lg text-sm",children:[_.jsx("option",{value:"A4",children:"A4 (297 x 210 mm)"}),_.jsx("option",{value:"Letter",children:"Carta (279 x 216 mm)"}),_.jsx("option",{value:"Legal",children:"Oficio (356 x 216 mm)"})]})]})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 rounded-lg hover:bg-base-200 dark:hover:bg-dark-base-300 text-sm",children:"Cancelar"}),_.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-focus font-medium",children:F.format==="pdf"?"Generar PDF":"Descargar Imagen"})]})]})})]})},sr=({label:t,tool:e,icon:i,onClick:o,isDisabled:a=!1})=>{const{activeTool:l,setActiveTool:c}=il(),f=l===e,h=()=>{o?o():c(e)};return _.jsxs("button",{onClick:h,disabled:a,className:`flex flex-col items-center justify-center w-full p-2 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed ${f?"bg-primary text-primary-content":"hover:bg-base-200 dark:hover:bg-dark-base-300"}`,"aria-label":t,title:t,children:[i,_.jsx("span",{className:"text-xs mt-1 text-center",children:t})]})},D3=()=>{const{undo:t,redo:e,canUndo:i,canRedo:o,selectedShapeId:a,shapes:l,clipboard:c,setActiveTool:f}=il(),h=gt.useMemo(()=>l.find(E=>E.id===a),[l,a]),[d,y]=gt.useState(!1),w=E=>{f(E),y(!1)};return _.jsxs("aside",{className:"w-24 bg-base-100 dark:bg-dark-base-100 p-2 border-r border-base-300 dark:border-dark-base-300 flex flex-col items-center space-y-2 overflow-y-auto relative z-50",children:[_.jsx(sr,{label:"Seleccionar",tool:"select",icon:_.jsx(rx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Mover",tool:"move",icon:_.jsx(wx,{className:"w-6 h-6"}),isDisabled:!a}),_.jsx(sr,{label:"Desplazar",tool:"pan",icon:_.jsx(ox,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Rotar",tool:"rotate",icon:_.jsx(xx,{className:"w-6 h-6"}),isDisabled:!a}),_.jsx("hr",{className:"w-full border-base-300 dark:border-dark-base-300 my-1"}),_.jsx(sr,{label:"Copiar",tool:"copy-area",icon:_.jsx(mx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Recortar",tool:"trim",icon:_.jsx(yx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Alargar",tool:"extend",icon:_.jsx(vx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Pegar",tool:"paste",icon:_.jsx(gx,{className:"w-6 h-6"}),isDisabled:!c||c.shapes.length===0}),_.jsx("hr",{className:"w-full border-base-300 dark:border-dark-base-300 my-1"}),_.jsx(sr,{label:"Lnea",tool:"line",icon:_.jsx(ax,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Rectngulo",tool:"rectangle",icon:_.jsx(sx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Crculo",tool:"circle",icon:_.jsx(lx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Arco",tool:"arc",icon:_.jsx(ux,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Texto",tool:"text",icon:_.jsx(bx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Cajetn",tool:"title_block",icon:_.jsx(_x,{className:"w-6 h-6"})}),_.jsxs("div",{className:"w-full relative",children:[_.jsx(sr,{label:"Librera",tool:"icon",icon:_.jsx(Sx,{className:"w-6 h-6"}),onClick:()=>y(!d)}),d&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>y(!1)}),_.jsxs("div",{className:"fixed left-28 top-1/2 -translate-y-1/2 p-4 bg-base-100 dark:bg-dark-base-100 border border-base-300 dark:border-dark-base-300 rounded-xl shadow-2xl grid grid-cols-2 gap-3 w-72 z-50 animate-in fade-in zoom-in duration-200 max-h-[80vh] overflow-y-auto",children:[_.jsx("div",{className:"col-span-2 text-xs font-bold uppercase tracking-wider text-base-content/50 dark:text-white/70 mb-1 mt-2",children:"Almacn y Logstica"}),_.jsxs("button",{onClick:()=>w("icon_forklift"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-yellow-500 mb-2",children:_.jsx(kx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Montacargas"})]}),_.jsxs("button",{onClick:()=>w("icon_pallet"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-amber-700 mb-2",children:_.jsx(Lx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Palet"})]}),_.jsxs("button",{onClick:()=>w("icon_rack"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-blue-400 mb-2",children:_.jsx(Rx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Estantera"})]}),_.jsxs("button",{onClick:()=>w("icon_conveyor"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-gray-400 mb-2",children:_.jsx(Ix,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Cinta Transp."})]}),_.jsxs("button",{onClick:()=>w("icon_container"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-blue-700 mb-2",children:_.jsx(Dx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Contenedor"})]}),_.jsxs("button",{onClick:()=>w("icon_trailer"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-base-content dark:text-dark-base-content mb-2",children:_.jsx(Mx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Triler"})]}),_.jsx("div",{className:"col-span-2 text-xs font-bold uppercase tracking-wider text-base-content/50 dark:text-white/70 mb-1 mt-2",children:"Seguridad y Otros"}),_.jsxs("button",{onClick:()=>w("icon_extinguisher"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-secondary mb-2",children:_.jsx(Ax,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Extintor"})]}),_.jsxs("button",{onClick:()=>w("icon_hydrant"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-red-500 mb-2",children:_.jsx(Nx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Hidrante"})]}),_.jsxs("button",{onClick:()=>w("icon_emergency_exit"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-accent mb-2",children:_.jsx(Ex,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Salida"})]}),_.jsxs("button",{onClick:()=>w("icon_first_aid"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-secondary mb-2",children:_.jsx(Cx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Botiqun"})]}),_.jsxs("button",{onClick:()=>w("icon_restroom"),className:"flex flex-col items-center p-3 hover:bg-base-200 dark:hover:bg-dark-base-200 rounded-lg border border-transparent hover:border-base-300 dark:hover:border-dark-base-300 transition-all",children:[_.jsx("div",{className:"text-primary mb-2",children:_.jsx(Tx,{className:"w-8 h-8"})}),_.jsx("span",{className:"text-xs font-medium dark:text-white",children:"Baos"})]})]})]})]}),_.jsx("hr",{className:"w-full border-base-300 dark:border-dark-base-300 my-1"}),_.jsx(sr,{label:"Acotar",tool:"dimension",icon:_.jsx(cx,{className:"w-6 h-6"}),isDisabled:!h||h.type==="dimension"}),_.jsx("hr",{className:"w-full border-base-300 dark:border-dark-base-300 my-1"}),_.jsx(sr,{label:"Deshacer",tool:"select",onClick:t,isDisabled:!i,icon:_.jsx(fx,{className:"w-6 h-6"})}),_.jsx(sr,{label:"Rehacer",tool:"select",onClick:e,isDisabled:!o,icon:_.jsx(dx,{className:"w-6 h-6"})})]})},P3=t=>{switch(t){case"cm":return 10;case"m":return 1e3;default:return 1}},cn=({label:t,value:e,onChange:i,onKeyDown:o,unit:a,step:l=1,readOnly:c=!1,min:f})=>{const[h,d]=gt.useState(e.toString());gt.useEffect(()=>{d(e.toString())},[e]);const y=S=>{d(S.target.value)},w=()=>{const S=h.replace(/,/g,".");let U=parseFloat(S);!isNaN(U)&&isFinite(U)?(f!==void 0&&U<f&&(U=f),i(U),d(U.toString())):d(e.toString())},E=S=>{o&&o(S),S.key==="Enter"&&S.currentTarget.blur()};return _.jsxs("div",{className:"flex items-center justify-between text-sm",children:[_.jsx("label",{className:"text-dark-base-content/80",children:t}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("input",{type:"text",className:`w-28 bg-dark-base-200 text-right px-2 py-1 rounded-md ${c?"opacity-70 cursor-default":""}`,value:h,onChange:y,onBlur:w,onKeyDown:E,readOnly:c}),a&&_.jsx("span",{className:"text-xs text-dark-base-content/60 w-6 text-left",children:a})]})]})},ps=({label:t,value:e,placeholder:i,onChange:o,onKeyDown:a})=>{const[l,c]=gt.useState(e);gt.useEffect(()=>{c(e)},[e]);const f=y=>{c(y.target.value)},h=()=>{o(l)},d=y=>{a&&a(y),y.key==="Enter"&&y.currentTarget.blur()};return _.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[_.jsx("label",{className:"text-dark-base-content/80",children:t}),_.jsx("input",{type:"text",placeholder:i,className:"w-full bg-dark-base-200 text-left px-2 py-1 rounded-md text-dark-base-content focus:outline-none focus:ring-2 focus:ring-primary",value:l,onChange:f,onBlur:h,onKeyDown:d})]})},Dm=({label:t,value:e,onChange:i})=>_.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[_.jsx("label",{className:"text-sm text-dark-base-content/80",children:t}),_.jsx("input",{type:"color",className:"w-10 h-6 p-0 border-none rounded-md bg-transparent",value:e,onChange:o=>i(o.target.value)})]}),U3=()=>{const{shapes:t,selectedShapeId:e,updateShape:i,deleteShape:o,drawingProperties:a,setDrawingProperties:l,unit:c,setSelectedShapeId:f}=il(),h=t.find(R=>R.id===e),d=P3(c),y=R=>{h?i(h.id,{properties:R}):l(R)},w=R=>{h&&i(h.id,R)},E=R=>{R.stopPropagation()},S=(R,D)=>({x:R.x-D.x,y:R.y-D.y}),U=R=>Math.sqrt(R.x*R.x+R.y*R.y),N=R=>(Math.atan2(-R.y,R.x)*180/Math.PI+360)%360,B=(h==null?void 0:h.properties)||a,L=R=>{switch(R.type){case"line":{const D=S(R.p2,R.p1),J=U(D),le=N(D);return _.jsxs("div",{className:"space-y-2",children:[_.jsx(cn,{label:`Punto Inicial X (${c})`,value:+(R.p1.x/d).toFixed(2),onKeyDown:E,onChange:pe=>w({p1:{...R.p1,x:pe*d}})}),_.jsx(cn,{label:`Punto Inicial Y (${c})`,value:+(R.p1.y/d).toFixed(2),onKeyDown:E,onChange:pe=>w({p1:{...R.p1,y:pe*d}})}),_.jsx(cn,{label:`Longitud (${c})`,value:+(J/d).toFixed(2),min:.1,onKeyDown:E,onChange:pe=>{const ue=pe*d,se=le*Math.PI/180;w({p2:{x:R.p1.x+ue*Math.cos(se),y:R.p1.y-ue*Math.sin(se)}})}}),_.jsx(cn,{label:"ngulo ()",value:+le.toFixed(2),onKeyDown:E,onChange:pe=>{const ue=pe*Math.PI/180;w({p2:{x:R.p1.x+J*Math.cos(ue),y:R.p1.y-J*Math.sin(ue)}})}})]})}case"rectangle":{const D=R.width/d,J=R.height/d,le=D*J,pe=2*(D+J);return _.jsxs("div",{className:"space-y-2",children:[_.jsx(cn,{label:`Punto Inicial X (${c})`,value:+(R.x/d).toFixed(2),onKeyDown:E,onChange:ue=>w({x:ue*d})}),_.jsx(cn,{label:`Punto Inicial Y (${c})`,value:+(R.y/d).toFixed(2),onKeyDown:E,onChange:ue=>w({y:ue*d})}),_.jsx(cn,{label:`Ancho (${c})`,value:+D.toFixed(2),min:.1,onKeyDown:E,onChange:ue=>w({width:ue*d})}),_.jsx(cn,{label:`Alto (${c})`,value:+J.toFixed(2),min:.1,onKeyDown:E,onChange:ue=>w({height:ue*d})}),_.jsx(cn,{label:"Rotacin ()",value:Math.round(R.rotation||0),onKeyDown:E,onChange:ue=>w({rotation:ue})}),_.jsx("div",{className:"border-t border-dark-base-300 my-2 pt-2"}),_.jsx(cn,{label:`rea (${c})`,value:+le.toFixed(2),onChange:()=>{},readOnly:!0}),_.jsx(cn,{label:`Permetro (${c})`,value:+pe.toFixed(2),onChange:()=>{},readOnly:!0})]})}case"circle":{const D=R.r/d,J=Math.PI*D*D,le=2*Math.PI*D;return _.jsxs("div",{className:"space-y-2",children:[_.jsx(cn,{label:`Centro X (${c})`,value:+(R.cx/d).toFixed(2),onKeyDown:E,onChange:pe=>w({cx:pe*d})}),_.jsx(cn,{label:`Centro Y (${c})`,value:+(R.cy/d).toFixed(2),onKeyDown:E,onChange:pe=>w({cy:pe*d})}),_.jsx(cn,{label:`Radio (${c})`,value:+D.toFixed(2),min:.1,onKeyDown:E,onChange:pe=>w({r:pe*d})}),_.jsx("div",{className:"border-t border-dark-base-300 my-2 pt-2"}),_.jsx(cn,{label:`rea (${c})`,value:+J.toFixed(2),onChange:()=>{},readOnly:!0}),_.jsx(cn,{label:`Circunferencia (${c})`,value:+le.toFixed(2),onChange:()=>{},readOnly:!0})]})}case"dimension":return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(cn,{label:`Punto 1 X (${c})`,value:+(R.p1.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({p1:{...R.p1,x:D*d}})}),_.jsx(cn,{label:`Punto 1 Y (${c})`,value:+(R.p1.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({p1:{...R.p1,y:D*d}})}),_.jsx(cn,{label:`Punto 2 X (${c})`,value:+(R.p2.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({p2:{...R.p2,x:D*d}})}),_.jsx(cn,{label:`Punto 2 Y (${c})`,value:+(R.p2.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({p2:{...R.p2,y:D*d}})}),_.jsx(cn,{label:`Offset X (${c})`,value:+(R.offsetPoint.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({offsetPoint:{...R.offsetPoint,x:D*d}})}),_.jsx(cn,{label:`Offset Y (${c})`,value:+(R.offsetPoint.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({offsetPoint:{...R.offsetPoint,y:D*d}})})]}),(R.subType==="radial"||R.subType==="diameter")&&_.jsxs("div",{className:"px-0 py-2",children:[_.jsx("label",{className:"text-xs text-dark-base-content/80 block mb-1 font-semibold",children:"Tipo de Cota Circular"}),_.jsxs("select",{value:R.subType,onChange:D=>w({subType:D.target.value}),className:"w-full bg-dark-base-200 text-dark-base-content p-2 rounded-md text-sm border border-transparent focus:border-primary focus:outline-none",children:[_.jsx("option",{value:"radial",children:"Radio (R)"}),_.jsx("option",{value:"diameter",children:"Dimetro ()"})]})]}),_.jsxs("div",{className:"py-2",children:[_.jsx("h3",{className:"px-4 py-2 text-sm font-semibold text-dark-base-content/70",children:"Detalles de Cota"}),_.jsxs("div",{className:"px-4 space-y-2",children:[_.jsx(ps,{label:"Texto",placeholder:"Auto",value:R.textOverride??"",onKeyDown:E,onChange:D=>w({textOverride:D===""?null:D})}),_.jsx(cn,{label:"Tamao Texto",value:R.fontSize??4,min:1,onKeyDown:E,onChange:D=>w({fontSize:D})}),_.jsx(cn,{label:`Offset Ext. (${c})`,value:+((R.extensionLineOffset??2)/d).toFixed(2),onKeyDown:E,onChange:D=>w({extensionLineOffset:D*d})}),_.jsx(cn,{label:`Sobresale Ext. (${c})`,value:+((R.extensionLineOvershoot??2)/d).toFixed(2),onKeyDown:E,onChange:D=>w({extensionLineOvershoot:D*d})})]})]})]});case"text":return _.jsxs("div",{className:"space-y-2",children:[_.jsx(ps,{label:"Contenido",value:R.content,onKeyDown:E,onChange:D=>w({content:D})}),_.jsx(cn,{label:`Posicin X (${c})`,value:+(R.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({x:D*d})}),_.jsx(cn,{label:`Posicin Y (${c})`,value:+(R.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({y:D*d})}),_.jsx(cn,{label:"Tamao Fuente",value:R.fontSize,min:1,onKeyDown:E,onChange:D=>w({fontSize:D})}),_.jsx(cn,{label:"Rotacin ()",value:Math.round(R.rotation||0),onKeyDown:E,onChange:D=>w({rotation:D})})]});case"symbol":return _.jsxs("div",{className:"space-y-2",children:[_.jsx(cn,{label:`Posicin X (${c})`,value:+(R.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({x:D*d})}),_.jsx(cn,{label:`Posicin Y (${c})`,value:+(R.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({y:D*d})}),_.jsx(cn,{label:"Tamao",value:R.size,min:5,onKeyDown:E,onChange:D=>w({size:D})}),_.jsx(cn,{label:"Rotacin ()",value:Math.round(R.rotation||0),onKeyDown:E,onChange:D=>w({rotation:D})})]});case"title_block":return _.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"font-semibold text-xs opacity-70 mt-2",children:"Geometra"}),_.jsx(cn,{label:`Posicin X (${c})`,value:+(R.x/d).toFixed(2),onKeyDown:E,onChange:D=>w({x:D*d})}),_.jsx(cn,{label:`Posicin Y (${c})`,value:+(R.y/d).toFixed(2),onKeyDown:E,onChange:D=>w({y:D*d})}),_.jsx(cn,{label:`Ancho (${c})`,value:+(R.width/d).toFixed(2),onKeyDown:E,onChange:D=>w({width:D*d})}),_.jsx(cn,{label:`Alto (${c})`,value:+(R.height/d).toFixed(2),onKeyDown:E,onChange:D=>w({height:D*d})}),_.jsx("div",{className:"border-t border-dark-base-300 my-2 pt-2"}),_.jsx("h4",{className:"font-semibold text-xs opacity-70",children:"Tipografa"}),_.jsx(cn,{label:"Escala Fuente",value:R.fontScale||1,step:.1,min:.1,onKeyDown:E,onChange:D=>w({fontScale:D})}),_.jsx(cn,{label:"Espaciado Letras",value:R.letterSpacing||0,step:.5,onKeyDown:E,onChange:D=>w({letterSpacing:D})}),_.jsx(cn,{label:"Espaciado Lneas",value:R.lineSpacing||1,step:.1,min:.1,onKeyDown:E,onChange:D=>w({lineSpacing:D})}),_.jsx("div",{className:"border-t border-dark-base-300 my-2 pt-2"}),_.jsx("h4",{className:"font-semibold text-xs opacity-70",children:"Datos del Proyecto"}),_.jsx(ps,{label:"Empresa",value:R.data.company,onKeyDown:E,onChange:D=>w({data:{company:D}})}),_.jsx(ps,{label:"Proyecto",value:R.data.project,onKeyDown:E,onChange:D=>w({data:{project:D}})}),_.jsx(ps,{label:"Plano/Clave",value:R.data.sheet,onKeyDown:E,onChange:D=>w({data:{sheet:D}})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx(ps,{label:"Escala",value:R.data.scale,onKeyDown:E,onChange:D=>w({data:{scale:D}})}),_.jsx(ps,{label:"Revisin",value:R.data.revision,onKeyDown:E,onChange:D=>w({data:{revision:D}})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx(ps,{label:"Realiz",value:R.data.drawnBy,onKeyDown:E,onChange:D=>w({data:{drawnBy:D}})}),_.jsx(ps,{label:"Revis",value:R.data.checkedBy,onKeyDown:E,onChange:D=>w({data:{checkedBy:D}})})]})]});default:return _.jsx("p",{className:"px-4 py-2 text-sm text-dark-base-content/60",children:"No hay propiedades editables."})}};return _.jsxs("div",{className:"flex flex-col h-full text-sm",children:[_.jsx("h2",{className:"text-base font-semibold p-4 border-b border-dark-base-300",children:h?`Propiedades (${h.type})`:"Propiedades de Dibujo"}),_.jsxs("div",{className:"flex-grow overflow-y-auto",children:[h&&_.jsxs("div",{className:"py-2 px-4 space-y-2",children:[_.jsx("h3",{className:"py-2 text-sm font-semibold text-dark-base-content/70",children:"Geometra"}),L(h)]}),_.jsxs("div",{className:"py-2",children:[_.jsx("h3",{className:"px-4 py-2 text-sm font-semibold text-dark-base-content/70",children:"Apariencia"}),_.jsx(Dm,{label:"Color Trazo",value:B.color,onChange:R=>y({color:R})}),_.jsx(Dm,{label:"Relleno",value:B.fill,onChange:R=>y({fill:R})}),_.jsx("div",{className:"px-4 py-2 space-y-2",children:_.jsx(cn,{label:"Grosor Trazo (mm)",value:B.strokeWidth,onChange:R=>y({strokeWidth:R}),step:.1,min:.1})}),_.jsxs("div",{className:"px-4 py-2 space-y-2",children:[_.jsx("label",{className:"text-sm text-dark-base-content/80",children:"Tipo de Lnea"}),_.jsxs("select",{value:B.lineType||"solid",onChange:R=>y({lineType:R.target.value}),className:"w-full bg-dark-base-200 text-dark-base-content p-2 rounded-md text-sm border border-transparent focus:border-primary focus:outline-none",children:[_.jsx("option",{value:"solid",children:"Slida"}),_.jsx("option",{value:"dashed",children:"Discontinua ( - - - )"}),_.jsx("option",{value:"dotted",children:"Punteada (    )"}),_.jsx("option",{value:"dash-dot",children:"Trazo y Punto ( -  - )"})]})]})]}),h&&_.jsx("div",{className:"px-4 py-4",children:_.jsxs("button",{onClick:()=>{o(h.id),f(null)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-red-400 border border-red-400/50 rounded-lg hover:bg-red-400/10",children:[_.jsx(hx,{className:"w-4 h-4"}),"Eliminar Forma"]})})]})]})},An=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),ei=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),qr=(t,e)=>({x:t.x*e,y:t.y*e}),pi=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r5=t=>Math.sqrt(t.x*t.x+t.y*t.y),gs=t=>(Math.atan2(-t.y,t.x)*180/Math.PI+360)%360,bp=(t,e)=>gs(ei(e,t)),o5=t=>{const e=r5(t);return e>0?qr(t,1/e):{x:0,y:0}},F3=t=>({x:-t.y,y:t.x}),ha=(t,e)=>t.x*e.x+t.y*e.y,Ou=(t,e,i,o)=>{const a=pi(e,i);if(a===0)return pi(t,e)<o;const l=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/(a*a);if(l<0||l>1)return!1;const c={x:e.x+l*(i.x-e.x),y:e.y+l*(i.y-e.y)};return pi(t,c)<o},Ol=(t,e,i)=>{const o=-i*Math.PI/180,a=Math.cos(o),l=Math.sin(o),c=t.x-e.x,f=t.y-e.y;return{x:e.x+c*a-f*l,y:e.y+c*l+f*a}},Zu=(t,e,i,o)=>{const a=o*Math.PI/180;return{x:t+i*Math.cos(a),y:e-i*Math.sin(a)}},a5=(t,e,i,o,a)=>{const l=Zu(t,e,i,o),c=Zu(t,e,i,a);let f=a-o;f<0&&(f+=360);const h=f<=180?"0":"1";return["M",l.x,l.y,"A",i,i,0,h,0,c.x,c.y].join(" ")},Pm=(t,e,i,o)=>{const a=t.x,l=t.y,c=e.x,f=e.y,h=i.x,d=i.y,y=o.x,w=o.y,E=(w-d)*(c-a)-(y-h)*(f-l);if(E===0)return null;const S=((y-h)*(l-d)-(w-d)*(a-h))/E,U=((c-a)*(l-d)-(f-l)*(a-h))/E;return S>=0&&S<=1&&U>=0&&U<=1?{x:a+S*(c-a),y:l+S*(f-l)}:null},B3=(t,e,i)=>{const o=ei(e,t),a=ei(t,{x:i.cx,y:i.cy}),l=ha(o,o),c=2*ha(a,o),f=ha(a,a)-i.r*i.r;let h=c*c-4*l*f;const d=[];if(h>=0){h=Math.sqrt(h);const y=(-c-h)/(2*l),w=(-c+h)/(2*l);y>=0&&y<=1&&d.push(An(t,qr(o,y))),w>=0&&w<=1&&Math.abs(y-w)>1e-4&&d.push(An(t,qr(o,w)))}return d},Um=(t,e,i)=>{const o=t.x,a=t.y,l=e.x,c=e.y,f=i.x,h=i.y,d=2*(o*(c-h)+l*(h-a)+f*(a-c));if(Math.abs(d)<1e-6)return null;const y=((o*o+a*a)*(c-h)+(l*l+c*c)*(h-a)+(f*f+h*h)*(a-c))/d,w=((o*o+a*a)*(f-l)+(l*l+c*c)*(o-f)+(f*f+h*h)*(l-o))/d,E=Math.sqrt(Math.pow(o-y,2)+Math.pow(a-w,2));return{cx:y,cy:w,r:E}},Fm=(t,e,i,o)=>{const a=gs(ei(t,o)),l=gs(ei(e,o)),c=gs(ei(i,o));let f=l-a;f<0&&(f+=360);let h=c-a;return h<0&&(h+=360),f<h?{startAngle:a,endAngle:c}:{startAngle:c,endAngle:a}},s5=t=>{let i={x:0,y:0},o={x:0,y:0},a=0;if(t.type==="rectangle"||t.type==="title_block")i={x:t.x+t.width/2,y:t.y+t.height/2},o={x:i.x,y:t.y-30},a="rotation"in t&&t.rotation||0;else if(t.type==="text"||t.type==="symbol"){const c=t.type==="symbol"?t.size:t.fontSize,f=t.type==="symbol"?t.size:t.content.length*t.fontSize*.6;t.type==="symbol"?(i={x:t.x,y:t.y},o={x:t.x,y:t.y-t.size/2-30}):(i={x:t.x+f/2,y:t.y+c/2},o={x:i.x,y:t.y-30}),a=t.rotation||0}else if(t.type==="circle")i={x:t.cx,y:t.cy},o={x:t.cx,y:t.cy-t.r-30},a=0;else return null;return{handle:Ol(o,i,a),center:i}},Bm=(t,e,i,o)=>{const a=ei(t,i),l=ei(o,i),c={x:-e.y,y:e.x},f=ha(l,c);if(Math.abs(f)<1e-6)return null;const h=(l.x*a.y-l.y*a.x)/f,d=ha(a,c)/f;return h>=0&&d>=0&&d<=1?An(t,qr(e,h)):null},q3=(t,e,i)=>{const o=ei(t,{x:i.cx,y:i.cy}),a=ha(e,e),l=2*ha(o,e),c=ha(o,o)-i.r*i.r;let f=l*l-4*a*c;if(f<0)return null;f=Math.sqrt(f);const h=(-l-f)/(2*a),d=(-l+f)/(2*a);let y=1/0;const w=.001;return h>w&&h<y&&(y=h),d>w&&d<y&&(y=d),y!==1/0?An(t,qr(e,y)):null},O3=t=>{switch(t){case"cm":return 10;case"m":return 1e3;default:return 1}},Hc=t=>{const e=[],i=(o,a)=>e.push({point:o,type:a,shapeId:t.id});switch(t.type){case"line":const o={x:(t.p1.x+t.p2.x)/2,y:(t.p1.y+t.p2.y)/2};i(t.p1,"endpoints"),i(t.p2,"endpoints"),i(o,"midpoints");break;case"dimension":if(t.subType==="radial"||t.subType==="diameter")i(t.p1,"centers"),i(t.p2,"endpoints");else{const E={x:(t.p1.x+t.p2.x)/2,y:(t.p1.y+t.p2.y)/2};i(t.p1,"endpoints"),i(t.p2,"endpoints"),i(E,"midpoints")}i(t.offsetPoint,"endpoints");break;case"rectangle":case"title_block":const{x:a,y:l,width:c,height:f}=t,h="rotation"in t&&t.rotation||0,d=a+c/2,y=l+f/2,w=(E,S)=>Ol({x:E,y:S},{x:d,y},h);i(w(a,l),"endpoints"),i(w(a+c,l),"endpoints"),i(w(a+c,l+f),"endpoints"),i(w(a,l+f),"endpoints"),t.type==="rectangle"&&(i(w(a+c/2,l),"midpoints"),i(w(a+c,l+f/2),"midpoints"),i(w(a+c/2,l+f),"midpoints"),i(w(a,l+f/2),"midpoints"),i({x:d,y},"centers"));break;case"circle":i({x:t.cx,y:t.cy},"centers"),t.startAngle!==void 0&&t.endAngle!==void 0?(i(Zu(t.cx,t.cy,t.r,t.startAngle),"endpoints"),i(Zu(t.cx,t.cy,t.r,t.endAngle),"endpoints")):(i({x:t.cx+t.r,y:t.cy},"endpoints"),i({x:t.cx-t.r,y:t.cy},"endpoints"),i({x:t.cx,y:t.cy+t.r},"endpoints"),i({x:t.cx,y:t.cy-t.r},"endpoints"));break;case"text":i({x:t.x,y:t.y},"endpoints");break;case"symbol":{const{x:E,y:S,size:U,rotation:N}=t,B=U/2,L=R=>Ol(R,{x:E,y:S},N);i({x:E,y:S},"centers"),i(L({x:E-B,y:S-B}),"endpoints"),i(L({x:E+B,y:S-B}),"endpoints"),i(L({x:E+B,y:S+B}),"endpoints"),i(L({x:E-B,y:S+B}),"endpoints");break}}return e},z3=t=>{switch(t){case"dashed":return"10 5";case"dotted":return"2 4";case"dash-dot":return"10 4 2 4";default:return}},da=fy.memo(({shape:t,isSelected:e,isHighlighted:i=!1,conversionFactor:o,isPreview:a=!1,isGhost:l=!1})=>{var w,E,S,U;const c=e||i,f=c?"4 2":z3((w=t.properties)==null?void 0:w.lineType),h={stroke:c?"#00A8FF":((E=t.properties)==null?void 0:E.color)||"#FFFFFF",fill:((S=t.properties)==null?void 0:S.fill)||"transparent",strokeWidth:((U=t.properties)==null?void 0:U.strokeWidth)||1,strokeDasharray:f,opacity:l?.2:a?.7:1};if(!t.type)return null;const d=N=>typeof N=="number"&&Number.isFinite(N)&&!Number.isNaN(N);if(t.type==="line"){if(!t.p1||!t.p2||!d(t.p1.x)||!d(t.p1.y)||!d(t.p2.x))return null}else if(t.type==="rectangle"||t.type==="text"||t.type==="symbol"||t.type==="title_block"){if(!d(t.x)||!d(t.y)||(t.type==="rectangle"||t.type==="title_block")&&(!d(t.width)||!d(t.height)))return null}else if(t.type==="circle"&&(!d(t.cx)||!d(t.cy)||!d(t.r)))return null;const y=e?s5(t):null;switch(t.type){case"line":{const N=t;return!N.p1||!N.p2?null:_.jsx("line",{x1:N.p1.x,y1:N.p1.y,x2:N.p2.x,y2:N.p2.y,...h})}case"rectangle":{const N=t;if(N.x===void 0||N.y===void 0||N.width===void 0||N.height===void 0)return null;let B=N.x,L=N.y,R=N.width,D=N.height;R<0&&(B+=R,R=Math.abs(R)),D<0&&(L+=D,D=Math.abs(D));const J=B+R/2,le=L+D/2,pe=N.rotation?`rotate(${-N.rotation}, ${J}, ${le})`:void 0;return _.jsxs("g",{children:[_.jsx("rect",{x:B,y:L,width:R,height:D,transform:pe,...h}),e&&_.jsxs("g",{transform:pe,children:[_.jsx("line",{x1:J-5,y1:le,x2:J+5,y2:le,stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("line",{x1:J,y1:le-5,x2:J,y2:le+5,stroke:"#00A8FF",strokeWidth:"1"})]}),e&&y&&_.jsxs("g",{children:[_.jsx("line",{x1:y.center.x,y1:y.center.y,x2:y.handle.x,y2:y.handle.y,stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:y.handle.x,cy:y.handle.y,r:4,fill:"white",stroke:"#00A8FF",strokeWidth:"1",style:{cursor:"grab"}})]})]})}case"title_block":{const N=t,{x:B,y:L,width:R,height:D,data:J}=N;if(!J)return null;const le=R*.25,pe=R*.45,ue=R*.3,se=B,K=B+le,X=B+le+pe,F=D*.4,V=D*.3,oe=D*.3,ae=L,Te=L+F,Z=L+F+V,de=D/2,re=L,ke=L+de,qe=N.fontScale||1,Y=N.letterSpacing||0,k=N.lineSpacing||1,G=Math.max(D*.08,1.5)*qe,z=Math.max(D*.11,2)*qe,Q=.3+.55*k,ie=h.stroke,ge=h.strokeWidth,Ae=({bx:Ne,by:we,bw:me,bh:Xe,label:et,value:ot,isTitle:W=!1})=>_.jsxs("g",{children:[_.jsx("text",{x:Ne+me*.05,y:we+Xe*.3,fill:ie,fontSize:G,fontWeight:"bold",fontFamily:"sans-serif",style:{userSelect:"none",letterSpacing:Y},children:et}),_.jsx("text",{x:Ne+me*.05,y:we+Xe*Q,fill:ie,fontSize:W?z*1.2:z,fontWeight:W?"bold":"normal",fontFamily:"sans-serif",style:{userSelect:"none",letterSpacing:Y},children:ot})]});return _.jsxs("g",{...h,children:[_.jsx("rect",{x:B,y:L,width:R,height:D,strokeWidth:ge,fill:h.fill}),_.jsx("line",{x1:K,y1:L,x2:K,y2:L+D,stroke:ie,strokeWidth:ge}),_.jsx("line",{x1:X,y1:L,x2:X,y2:L+D,stroke:ie,strokeWidth:ge}),_.jsx("text",{x:se+5,y:L+10,fill:ie,fontSize:G,fontWeight:"bold",fontFamily:"sans-serif",style:{letterSpacing:Y},children:"EMPRESA:"}),_.jsx("text",{x:se+le/2,y:L+D/2+z/3,textAnchor:"middle",fill:ie,fontSize:z*1.2,fontFamily:"sans-serif",fontWeight:"bold",style:{letterSpacing:Y},children:J.company}),_.jsx("line",{x1:K,y1:Te,x2:X,y2:Te,stroke:ie,strokeWidth:ge}),_.jsx("line",{x1:K,y1:Z,x2:X,y2:Z,stroke:ie,strokeWidth:ge}),_.jsx(Ae,{bx:K,by:ae,bw:pe,bh:F,label:"PROYECTO:",value:J.project,isTitle:!0}),_.jsx(Ae,{bx:K,by:Te,bw:pe,bh:V,label:"REALIZ:",value:J.drawnBy}),_.jsx(Ae,{bx:K,by:Z,bw:pe,bh:oe,label:"REVIS:",value:J.checkedBy}),_.jsx("line",{x1:X,y1:ke,x2:B+R,y2:ke,stroke:ie,strokeWidth:ge}),_.jsx("line",{x1:X+ue/2,y1:L,x2:X+ue/2,y2:L+D,stroke:ie,strokeWidth:ge}),_.jsx(Ae,{bx:X,by:re,bw:ue/2,bh:de,label:"ESCALA:",value:J.scale}),_.jsx(Ae,{bx:X+ue/2,by:re,bw:ue/2,bh:de,label:"FECHA:",value:J.date}),_.jsx(Ae,{bx:X,by:ke,bw:ue/2,bh:de,label:"PLANO:",value:J.sheet,isTitle:!0}),_.jsx(Ae,{bx:X+ue/2,by:ke,bw:ue/2,bh:de,label:"REV:",value:J.revision}),e&&_.jsxs("g",{children:[_.jsx("circle",{cx:B,cy:L,r:5,fill:"white",stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:B+R,cy:L,r:5,fill:"white",stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:B,cy:L+D,r:5,fill:"white",stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:B+R,cy:L+D,r:5,fill:"white",stroke:"#00A8FF",strokeWidth:"1"})]})]})}case"circle":{const N=t;if(N.cx===void 0||N.cy===void 0||N.r===void 0)return null;const B=N.startAngle!==void 0&&N.endAngle!==void 0&&Math.abs(N.endAngle-N.startAngle)<359.9;let L=null,R=null;return B&&(L=Zu(N.cx,N.cy,N.r,N.startAngle),R=Zu(N.cx,N.cy,N.r,N.endAngle)),_.jsxs("g",{children:[B?_.jsx("path",{d:a5(N.cx,N.cy,N.r,N.startAngle,N.endAngle),...h,fill:"none"}):_.jsx("circle",{cx:N.cx,cy:N.cy,r:N.r,...h}),e&&_.jsxs("g",{children:[_.jsxs("g",{transform:`translate(${N.cx}, ${N.cy})`,children:[_.jsx("line",{x1:-4,y1:0,x2:4,y2:0,stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("line",{x1:0,y1:-4,x2:0,y2:4,stroke:"#00A8FF",strokeWidth:"1"})]}),B&&L&&R&&_.jsxs("g",{children:[_.jsx("circle",{cx:L.x,cy:L.y,r:3,fill:"#00A8FF",stroke:"none"}),_.jsx("circle",{cx:R.x,cy:R.y,r:3,fill:"#00A8FF",stroke:"none"}),_.jsx("line",{x1:N.cx,y1:N.cy,x2:L.x,y2:L.y,stroke:"#00A8FF",strokeWidth:"0.5",strokeDasharray:"2 2",opacity:"0.5"}),_.jsx("line",{x1:N.cx,y1:N.cy,x2:R.x,y2:R.y,stroke:"#00A8FF",strokeWidth:"0.5",strokeDasharray:"2 2",opacity:"0.5"})]}),y&&!B&&_.jsxs("g",{children:[_.jsx("line",{x1:N.cx,y1:N.cy,x2:y.handle.x,y2:y.handle.y,stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:y.handle.x,cy:y.handle.y,r:4,fill:"white",stroke:"#00A8FF",strokeWidth:"1",style:{cursor:"grab"}})]})]})]})}case"dimension":{const N=t;if(!N.p1||!N.p2||!N.offsetPoint)return null;const B=N.fontSize??4;if(N.subType==="radial"||N.subType==="diameter"){const L=pi(N.p1,N.p2);let R="",D=null;if(N.subType==="diameter"){const pe=L*2;R=N.textOverride??` ${(pe/o).toFixed(2)}`;const ue=ei(N.p1,N.p2),se=An(N.p1,ue);D=_.jsx("line",{x1:N.p2.x,y1:N.p2.y,x2:se.x,y2:se.y,strokeWidth:h.strokeWidth*.7,markerStart:"url(#arrow)",markerEnd:"url(#arrow)"})}else R=N.textOverride??`R ${(L/o).toFixed(2)}`,D=_.jsx("line",{x1:N.p1.x,y1:N.p1.y,x2:N.p2.x,y2:N.p2.y,strokeWidth:h.strokeWidth*.7,markerEnd:"url(#arrow)"});const J=R.length*B*.6+B*.4,le=B*1.2;return _.jsxs("g",{...h,children:[_.jsx("line",{x1:N.p1.x-5,y1:N.p1.y,x2:N.p1.x+5,y2:N.p1.y,strokeWidth:h.strokeWidth}),_.jsx("line",{x1:N.p1.x,y1:N.p1.y-5,x2:N.p1.x,y2:N.p1.y+5,strokeWidth:h.strokeWidth}),D,pi(N.p2,N.offsetPoint)>1&&_.jsx("line",{x1:N.p2.x,y1:N.p2.y,x2:N.offsetPoint.x,y2:N.offsetPoint.y,strokeWidth:h.strokeWidth*.7}),!a&&_.jsx("rect",{x:N.offsetPoint.x-J/2,y:N.offsetPoint.y-le/2,width:J,height:le,fill:"#303134",stroke:"none"}),_.jsx("text",{x:N.offsetPoint.x,y:N.offsetPoint.y,fill:h.stroke,fontSize:B,textAnchor:"middle",dominantBaseline:"middle",style:{userSelect:"none",fontFamily:"sans-serif"},children:R})]})}else{const L=ei(N.p2,N.p1),R=o5(F3(L)),D=ei(N.offsetPoint,N.p1),J=ha(D,R),le=An(N.p1,qr(R,J)),pe=An(N.p2,qr(R,J)),ue=Math.sign(J)||1,se=N.extensionLineOffset??2,K=N.extensionLineOvershoot??2,X=An(N.p1,qr(R,se*ue)),F=An(le,qr(R,K*ue)),V=An(N.p2,qr(R,se*ue)),oe=An(pe,qr(R,K*ue)),ae=pi(N.p1,N.p2),Te=N.textOverride??(ae/o).toFixed(2),Z={x:(le.x+pe.x)/2,y:(le.y+pe.y)/2};let re=bp(le,pe);re>90&&re<270&&(re-=180);const ke=Te.length*B*.6+B*.4,qe=B*1.2;return _.jsxs("g",{...h,children:[_.jsx("line",{x1:X.x,y1:X.y,x2:F.x,y2:F.y,strokeWidth:h.strokeWidth*.7}),_.jsx("line",{x1:V.x,y1:V.y,x2:oe.x,y2:oe.y,strokeWidth:h.strokeWidth*.7}),_.jsx("line",{x1:le.x,y1:le.y,x2:pe.x,y2:pe.y,markerStart:"url(#arrow)",markerEnd:"url(#arrow)"}),!a&&_.jsx("rect",{x:Z.x-ke/2,y:Z.y-qe/2,width:ke,height:qe,fill:"#303134",transform:`rotate(${-re} ${Z.x} ${Z.y})`,stroke:"none"}),_.jsx("text",{x:Z.x,y:Z.y,transform:`rotate(${-re} ${Z.x} ${Z.y})`,dominantBaseline:"middle",fill:h.stroke,fontSize:B,textAnchor:"middle",style:{userSelect:"none",fontFamily:"sans-serif"},children:Te})]})}}case"text":{const N=t;if(N.x===void 0||N.y===void 0||!N.content||!N.fontSize)return null;const B=N.rotation?`rotate(${-N.rotation}, ${N.x}, ${N.y})`:void 0;return _.jsxs("g",{children:[_.jsx("text",{x:N.x,y:N.y,fill:c?"#00A8FF":h.stroke,fontSize:N.fontSize,dominantBaseline:"hanging",transform:B,style:{userSelect:"none",fontFamily:"sans-serif"},opacity:h.opacity,children:N.content}),e&&y&&_.jsxs("g",{children:[_.jsx("line",{x1:y.center.x,y1:y.center.y,x2:y.center.x,y2:y.handle.y,stroke:"#00A8FF",strokeWidth:"1"}),_.jsx("circle",{cx:y.handle.x,cy:y.handle.y,r:4,fill:"white",stroke:"#00A8FF",strokeWidth:"1",style:{cursor:"grab"}})]})]})}case"symbol":{const N=t;if(N.x===void 0||N.y===void 0||!N.size)return null;const B=Number.isFinite(N.size)&&N.size>0?N.size:24,L={...h,transform:`translate(${N.x} ${N.y}) rotate(${-N.rotation||0})`},R=`scale(${B/24}) translate(-12, -12)`;let D=null;switch(N.name){case"arrow":D=_.jsx("path",{transform:R,d:"M7 17l9.2-9.2M17 17V7H7"});break;case"warning":D=_.jsxs("g",{transform:R,children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});break;default:D=_.jsx("rect",{x:-10,y:-10,width:20,height:20,fill:"none",stroke:"red"})}switch(N.name){case"arrow":D=_.jsx("path",{transform:R,d:"M7 17l9.2-9.2M17 17V7H7"});break;case"warning":D=_.jsxs("g",{transform:R,children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});break;case"extinguisher":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("path",{d:"M12 6v-1",strokeWidth:"2"}),_.jsx("path",{d:"M9 10h6",strokeWidth:"1.5"}),_.jsx("path",{d:"M12 8a2 2 0 0 0-2 2v8a2 2 0 0 0 4 0v-8a2 2 0 0 0-2-2z",fill:"currentColor",fillOpacity:"0.2",stroke:"none"}),_.jsx("path",{d:"M12 10l3-2",strokeWidth:"1.5"})]});break;case"emergency_exit":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),_.jsx("rect",{x:"4",y:"6",width:"6",height:"12",strokeWidth:"1.5"}),_.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M13 12l2-1 2 1.5",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 11v4",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 15l-2 3",strokeWidth:"1.5"}),_.jsx("path",{d:"M15 15l2 2 1-1",strokeWidth:"1.5"})]});break;case"first_aid":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("rect",{x:"10",y:"6",width:"4",height:"12",fill:"currentColor",stroke:"none"}),_.jsx("rect",{x:"6",y:"10",width:"12",height:"4",fill:"currentColor",stroke:"none"})]});break;case"restroom":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeWidth:"1"}),_.jsx("circle",{cx:"7",cy:"8",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M5.5 11h3v5h-3z",fill:"currentColor",stroke:"none"}),_.jsx("line",{x1:"6",y1:"16",x2:"6",y2:"19",strokeWidth:"1.5"}),_.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"19",strokeWidth:"1.5"}),_.jsx("circle",{cx:"17",cy:"8",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M17 10l-2 4h4l-2-4z",fill:"currentColor",stroke:"none"}),_.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"19",strokeWidth:"1.5"}),_.jsx("line",{x1:"18",y1:"14",x2:"18",y2:"19",strokeWidth:"1.5"})]});break;case"trailer":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"0",strokeWidth:"2"}),_.jsx("line",{x1:"2",y1:"4",x2:"22",y2:"20",strokeWidth:"1",opacity:"0.2"}),_.jsx("line",{x1:"22",y1:"4",x2:"2",y2:"20",strokeWidth:"1",opacity:"0.2"}),_.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"currentColor",fillOpacity:"0.3",stroke:"none"}),_.jsx("line",{x1:"18",y1:"10",x2:"21",y2:"10",strokeWidth:"2"}),_.jsx("line",{x1:"18",y1:"14",x2:"21",y2:"14",strokeWidth:"2"})]});break;case"hydrant":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2",strokeWidth:"2"}),_.jsx("path",{d:"M8 7v10",strokeWidth:"3"}),_.jsx("path",{d:"M16 7v10",strokeWidth:"3"}),_.jsx("path",{d:"M8 12h8",strokeWidth:"3"})]});break;case"forklift":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"12",y:"2.5",width:"13.5",height:"13.5",transform:"rotate(45 12 2.5)",rx:"1",strokeWidth:"2"}),_.jsx("path",{d:"M9 16h3v-5h-2v-1h3l1 6h-5z",fill:"currentColor",stroke:"none"}),_.jsx("path",{d:"M14 10v6",strokeWidth:"1.5"}),_.jsx("line",{x1:"7",y1:"16",x2:"9",y2:"16",strokeWidth:"1.5"}),_.jsx("circle",{cx:"10",cy:"17",r:"1.5",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"15",cy:"17",r:"1.5",fill:"currentColor",stroke:"none"})]});break;case"pallet":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"1",strokeWidth:"2"}),_.jsx("rect",{x:"5",y:"5",width:"14",height:"14",strokeWidth:"1.5"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"1"}),_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"1"})]});break;case"rack":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"2",width:"20",height:"20",strokeWidth:"2"}),_.jsx("line",{x1:"2",y1:"8",x2:"22",y2:"8",strokeWidth:"1.5"}),_.jsx("line",{x1:"2",y1:"16",x2:"22",y2:"16",strokeWidth:"1.5"}),_.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22",strokeWidth:"1.5"}),_.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22",strokeWidth:"1.5"})]});break;case"conveyor":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",strokeWidth:"2"}),_.jsx("circle",{cx:"6",cy:"12",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",stroke:"none"}),_.jsx("circle",{cx:"18",cy:"12",r:"2",fill:"currentColor",stroke:"none"})]});break;case"container":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"2",y:"4",width:"20",height:"16",strokeWidth:"2"}),_.jsx("line",{x1:"6",y1:"4",x2:"6",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"14",y1:"4",x2:"14",y2:"20",strokeWidth:"1.5"}),_.jsx("line",{x1:"18",y1:"4",x2:"18",y2:"20",strokeWidth:"1.5"}),_.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"currentColor",fillOpacity:"0.2",stroke:"none"})]});break;case"door":D=_.jsxs("g",{transform:R,children:[_.jsx("path",{d:"M3 21V3",strokeWidth:"2"}),_.jsx("path",{d:"M3 3h14v18",strokeWidth:"1.5",strokeDasharray:"2 2"}),_.jsx("path",{d:"M17 21H3",strokeWidth:"2"}),_.jsx("path",{d:"M3 21c9.941 0 18-8.059 18-18",strokeDasharray:"2 2",strokeWidth:"1.5",fill:"none"})]});break;case"window":D=_.jsxs("g",{transform:R,children:[_.jsx("rect",{x:"3",y:"6",width:"18",height:"12",strokeWidth:"2"}),_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",strokeWidth:"1.5"}),_.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",strokeWidth:"1.5"})]});break}return _.jsxs("g",{children:[_.jsx("g",{...L,children:D}),e&&y&&_.jsxs("g",{children:[_.jsx("line",{x1:y.center.x,y1:y.center.y,x2:y.handle.x,y2:y.handle.y,stroke:"#00A8FF",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),_.jsx("circle",{cx:y.handle.x,cy:y.handle.y,r:4/o,fill:"white",stroke:"#00A8FF",strokeWidth:"1",style:{cursor:"grab"},vectorEffect:"non-scaling-stroke"})]})]})}default:return null}}),H3=()=>{const{shapes:t,addShapes:e,addShape:i,activeTool:o,setActiveTool:a,drawingProperties:l,viewTransform:c,selectedShapeId:f,setSelectedShapeId:h,snapModes:d,isOrthoMode:y,unit:w,clipboard:E,setClipboard:S,updateShape:U,replaceShapes:N,deleteShape:B,deleteShapes:L,templateImage:R}=il(),{setViewTransform:D}=il(),J=gt.useRef(null),le=gt.useRef(!1),[pe,ue]=gt.useState({x:0,y:0}),[se,K]=gt.useState(null),[X,F]=gt.useState(null),[V,oe]=gt.useState(0),[ae,Te]=gt.useState(0),[Z,de]=gt.useState([]),[re,ke]=gt.useState(null),[qe,Y]=gt.useState(new Set),[k,G]=gt.useState(null),[z,Q]=gt.useState(null),[ie,ge]=gt.useState([]),[Ae,Ne]=gt.useState(null),we=3,[me,Xe]=gt.useState(null),[et,ot]=gt.useState(null),[W,at]=gt.useState(null),[wt,mt]=gt.useState(null),[ze,St]=gt.useState(null),[ft,Mt]=gt.useState(null),[ut,jt]=gt.useState(null),sn=5e5;gt.useEffect(()=>{if(J.current){const fe=J.current.getBoundingClientRect();fe.width>0&&fe.height>0&&D({x:fe.width/2,y:fe.height/2,scale:1})}},[D]),gt.useEffect(()=>{const fe=xe=>{(le.current||me||se||X||Ae)&&qt(xe)};return window.addEventListener("pointerup",fe),()=>window.removeEventListener("pointerup",fe)},[le.current,me,se,X,Ae]),gt.useEffect(()=>{const fe=xe=>{var ve;if(xe.key==="Escape"){xe.preventDefault();let _e=!1;(X||V>0||ae>0||me||se||le.current||o==="paste")&&(F(null),oe(0),Te(0),de([]),Xe(null),K(null),o==="paste"&&S(null),le.current=!1,_e=!0),o!=="select"&&(a("select"),at(null),mt(null),Mt(null),jt(null),_e=!0),!_e&&(f||qe.size>0)&&(h(null),Y(new Set));return}if(["INPUT","TEXTAREA","SELECT"].includes(((ve=document.activeElement)==null?void 0:ve.tagName)||""))return;const Fe=qe.size>0?Array.from(qe):f?[f]:[];if(Fe.length>0){const _e=xe.shiftKey?10:1;let Ze=0,Je=0;switch(xe.key){case"ArrowLeft":Ze=-_e;break;case"ArrowRight":Ze=_e;break;case"ArrowUp":Je=-_e;break;case"ArrowDown":Je=_e;break;case"Backspace":case"Delete":xe.preventDefault(),L(Fe),h(null),Y(new Set);return;default:return}xe.preventDefault(),Fe.forEach(Et=>{const Ge=t.find(Be=>Be.id===Et);if(!Ge)return;const He={};Ge.type==="line"||Ge.type==="dimension"?(He.p1={x:Ge.p1.x+Ze,y:Ge.p1.y+Je},He.p2={x:Ge.p2.x+Ze,y:Ge.p2.y+Je},Ge.type==="dimension"&&(He.offsetPoint={x:Ge.offsetPoint.x+Ze,y:Ge.offsetPoint.y+Je})):Ge.type==="rectangle"||Ge.type==="text"||Ge.type==="symbol"||Ge.type==="title_block"?(He.x=Ge.x+Ze,He.y=Ge.y+Je):Ge.type==="circle"&&(He.cx=Ge.cx+Ze,He.cy=Ge.cy+Je),U(Et,He)})}};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[f,t,U,B,L,h,o,a,X,V,me,se,qe,ae]),gt.useEffect(()=>{at(null),mt(null),Mt(null),jt(null),o!=="dimension"&&(St(null),oe(0),(X==null?void 0:X.type)==="dimension"&&F(null)),o!=="arc"&&(Te(0),de([]),(X==null?void 0:X.type)==="circle"&&X.startAngle!==void 0&&F(null)),Xe(null)},[o]);const yt=O3(w),Pe=gt.useCallback(fe=>{const{x:xe,y:Fe,scale:ve}=c;return{x:(fe.x-xe)/ve,y:(fe.y-Fe)/ve}},[c]),ct=gt.useMemo(()=>Pe(pe),[pe,Pe]),lt=gt.useMemo(()=>t.flatMap(Hc),[t]),vt=(fe,xe,Fe)=>{if(Fe)return xe;let ve={...xe};if(y){const _e=Math.abs(ve.x-fe.x),Ze=Math.abs(ve.y-fe.y);_e>Ze?ve.y=fe.y:ve.x=fe.x}return ve},dt=(fe,xe)=>{for(let Fe=t.length-1;Fe>=0;Fe--){const ve=t[Fe];let _e=fe;if((ve.type==="rectangle"||ve.type==="text"||ve.type==="symbol"||ve.type==="title_block")&&("rotation"in ve&&ve.rotation)){let Ze={x:0,y:0};ve.type==="rectangle"||ve.type==="title_block"?Ze={x:ve.x+ve.width/2,y:ve.y+ve.height/2}:Ze={x:ve.x,y:ve.y},_e=Ol(fe,Ze,-(ve.rotation||0))}switch(ve.type){case"line":if(Ou(_e,ve.p1,ve.p2,xe))return ve.id;break;case"dimension":if(Ou(_e,ve.p1,ve.p2,xe))return ve.id;break;case"rectangle":case"title_block":{const{x:Ze,y:Je,width:Et,height:Ge}=ve,He={x:Ze,y:Je},Be={x:Ze+Et,y:Je},Ye={x:Ze+Et,y:Je+Ge},pt={x:Ze,y:Je+Ge};if(Ou(_e,He,Be,xe)||Ou(_e,Be,Ye,xe)||Ou(_e,Ye,pt,xe)||Ou(_e,pt,He,xe))return ve.id;break}case"circle":if(Math.abs(pi(_e,{x:ve.cx,y:ve.cy})-ve.r)<xe)return ve.id;break;case"text":{const{x:Ze,y:Je,content:Et,fontSize:Ge}=ve;if(_e.x>=Ze&&_e.x<=Ze+Et.length*Ge*.6&&_e.y>=Je&&_e.y<=Je+Ge)return ve.id;break}case"symbol":{const{x:Ze,y:Je,size:Et}=ve,Ge=Et/2;if(_e.x>=Ze-Ge&&_e.x<=Ze+Ge&&_e.y>=Je-Ge&&_e.y<=Je+Ge)return ve.id;break}}}return null},Yt=(fe,xe)=>{if(fe.type==="line"){const Fe=[0,1],ve=fe.p1,_e=fe.p2,Ze=pi(ve,_e);if(Ze===0)return null;t.forEach(He=>{if(He.id===fe.id)return;let Be=[];if(He.type==="line"){const Ye=Pm(ve,_e,He.p1,He.p2);Ye&&Be.push(Ye)}else if(He.type==="rectangle"){const{x:Ye,y:pt,width:Ot,height:tn}=He,Ut=[{x:Ye,y:pt},{x:Ye+Ot,y:pt},{x:Ye+Ot,y:pt+tn},{x:Ye,y:pt+tn}];for(let Ft=0;Ft<4;Ft++){const bn=Pm(ve,_e,Ut[Ft],Ut[(Ft+1)%4]);bn&&Be.push(bn)}}else if(He.type==="circle"){const Ye=B3(ve,_e,He);Be.push(...Ye)}Be.forEach(Ye=>{const pt=pi(ve,Ye)/Ze;pt>.001&&pt<.999&&Fe.push(pt)})}),Fe.sort((He,Be)=>He-Be);const Je=ei(_e,ve),Et=ei(xe,ve);let Ge=ha(Et,Je)/ha(Je,Je);Ge<0&&(Ge=0),Ge>1&&(Ge=1);for(let He=0;He<Fe.length-1;He++)if(Ge>=Fe[He]&&Ge<=Fe[He+1]){const Be=Fe[He],Ye=Fe[He+1],pt=An(ve,qr(Je,Be)),Ot=An(ve,qr(Je,Ye));return{type:"line",p1:pt,p2:Ot,tMin:Be,tMax:Ye}}}else if(fe.type==="circle")return{type:"arc",cx:fe.cx,cy:fe.cy,r:fe.r,startAngle:fe.startAngle||0,endAngle:fe.endAngle||360};return null},bt=fe=>{try{fe.currentTarget.setPointerCapture(fe.pointerId)}catch{}le.current=!0,Q(null);const xe=fe.currentTarget.getBoundingClientRect(),Fe={x:fe.clientX-xe.left,y:fe.clientY-xe.top},ve=Pe(Fe),_e=z?z.point:ve;if(Ne(Fe),o==="pan"||fe.button===1){K({x:Fe.x-c.x,y:Fe.y-c.y});return}if(o==="select"){if(f&&!fe.shiftKey){const Je=t.find(Et=>Et.id===f);if(Je){const Et=s5(Je),Ge=10/c.scale;if(Et&&pi(Et.handle,ve)<Ge){let Ye=Et.center,pt=("rotation"in Je?Je.rotation:0)||0;Xe({shapeId:f,handleIndex:"rotate",originalShape:JSON.parse(JSON.stringify(Je))}),jt({startAngle:gs(ei(ve,Ye)),initialRotation:pt,center:Ye,originalShape:JSON.parse(JSON.stringify(Je))});return}const Be=Hc(Je).findIndex(Ye=>pi(Ye.point,ve)<Ge);if(Be!==-1){Xe({shapeId:f,handleIndex:Be,originalShape:JSON.parse(JSON.stringify(Je))});return}}}return}if(o==="trim"&&W){const{shapeId:Je,geometry:Et}=W,Ge=t.find(He=>He.id===Je);if(Ge&&Ge.type==="line"&&Et.type==="line"){const He=Et.tMin,Be=Et.tMax,Ye=[],pt=ei(Ge.p2,Ge.p1);He>.001&&Ye.push({...Ge,p1:Ge.p1,p2:An(Ge.p1,qr(pt,He))}),Be<.999&&Ye.push({...Ge,p1:An(Ge.p1,qr(pt,Be)),p2:Ge.p2}),N([Je],Ye),at(null)}else Ge&&(B(Je),at(null));return}if(o==="arc"){if(ae===0)de([_e]),Te(1),F(null);else if(ae===1)de(Je=>[...Je,_e]),Te(2);else if(ae===2){const[Je,Et]=Z,Ge=_e,He=Um(Je,Et,Ge);if(He&&He.r<sn){const{cx:Be,cy:Ye,r:pt}=He,{startAngle:Ot,endAngle:tn}=Fm(Je,Et,Ge,{x:Be,y:Ye});i({type:"circle",cx:Be,cy:Ye,r:pt,startAngle:Ot,endAngle:tn,properties:l})}else i({type:"line",p1:Je,p2:Ge,properties:l});Te(0),de([]),F(null),a("select"),le.current=!1}return}if(o==="rotate"){const Je=dt(ve,5/c.scale),Et=Je||f;if(Et){Je&&Je!==f&&h(Je);const Ge=t.find(He=>He.id===Et);if(Ge){let He={x:0,y:0},Be=("rotation"in Ge?Ge.rotation:0)||0;Ge.type==="rectangle"||Ge.type==="title_block"?He={x:Ge.x+Ge.width/2,y:Ge.y+Ge.height/2}:Ge.type==="symbol"||Ge.type==="text"?He={x:Ge.x,y:Ge.y}:Ge.type==="line"||Ge.type==="dimension"?He={x:(Ge.p1.x+Ge.p2.x)/2,y:(Ge.p1.y+Ge.p2.y)/2}:Ge.type==="circle"&&(He={x:Ge.cx,y:Ge.cy}),jt({startAngle:gs(ei(ve,He)),initialRotation:Be,center:He,originalShape:JSON.parse(JSON.stringify(Ge))})}}return}if(o==="move"){if(qe.size>0||f)if(!ft)Mt(_e);else{const Je=ei(_e,ft);(qe.size>0?Array.from(qe):f?[f]:[]).forEach(Ge=>{const He=t.find(Ye=>Ye.id===Ge);if(!He)return;const Be={};He.type==="line"||He.type==="dimension"?(Be.p1=An(He.p1,Je),Be.p2=An(He.p2,Je),He.type==="dimension"&&(Be.offsetPoint=An(He.offsetPoint,Je))):He.type==="rectangle"||He.type==="text"||He.type==="symbol"||He.type==="title_block"?(Be.x=He.x+Je.x,Be.y=He.y+Je.y):He.type==="circle"&&(Be.cx=He.cx+Je.x,Be.cy=He.cy+Je.y),U(Ge,Be)}),Mt(null),Ne(null)}return}if(o==="extend"&&wt){const{originalShape:Je,newEndpoint:Et,endToUpdate:Ge}=wt,He={};Ge==="p1"?He.p1=Et:He.p2=Et,U(Je.id,He),mt(null);return}if(o==="paste"&&E){const{shapes:Je,origin:Et}=E,Ge=ei(ct,Et),He=Je.map(Be=>{const Ye=JSON.parse(JSON.stringify(Be));return delete Ye.id,Ye.type==="line"||Ye.type==="dimension"?(Ye.p1=An(Ye.p1,Ge),Ye.p2=An(Ye.p2,Ge),Ye.type==="dimension"&&(Ye.offsetPoint=An(Ye.offsetPoint,Ge))):Ye.type==="rectangle"||Ye.type==="text"||Ye.type==="symbol"||Ye.type==="title_block"?(Ye.x+=Ge.x,Ye.y+=Ge.y):Ye.type==="circle"&&(Ye.cx+=Ge.x,Ye.cy+=Ge.y),Ye});e(He),a("select");return}if(o==="copy-area"){ke({type:"rectangle",id:"selection",x:ve.x,y:ve.y,width:0,height:0,properties:{color:"",fill:"",strokeWidth:0,lineType:"solid"}});return}if(o==="dimension"){if(ze){const Je=ze.type==="circle";F({type:"dimension",subType:Je?"radial":"linear",p1:ze.p1,p2:ze.p2,offsetPoint:_e,properties:l,fontSize:4,extensionLineOffset:2,extensionLineOvershoot:2,textOverride:null}),oe(2),St(null)}else V===0?(F({type:"dimension",subType:"linear",p1:_e,p2:_e,offsetPoint:_e,properties:l,fontSize:4,extensionLineOffset:2,extensionLineOvershoot:2,textOverride:null}),oe(1)):V===1&&(X==null?void 0:X.type)==="dimension"?(F({...X,p2:_e}),oe(2)):V===2&&(X==null?void 0:X.type)==="dimension"&&(i(X),F(null),oe(0),le.current=!1,a("select"));return}if(o==="text"){i({type:"text",x:_e.x,y:_e.y,content:"Texto",fontSize:12,properties:l,rotation:0}),le.current=!1,a("select");return}if(o==="title_block"){i({type:"title_block",x:_e.x,y:_e.y,width:200,height:35,properties:l,data:{company:"NOMBRE DE LA EMPRESA",project:"PROYECTO EJECUTIVO",title:"PLANTA ARQUITECTNICA",sheet:"A-101",revision:"00",scale:"1:100",drawnBy:"ARQ.",checkedBy:"ING.",date:new Date().toLocaleDateString("es-MX")},fontScale:1,letterSpacing:0,lineSpacing:1}),le.current=!1,a("select");return}if(o.startsWith("icon_")||o==="arrow_symbol"||o==="warning_symbol"){let Je="arrow";o.startsWith("icon_")?Je=o.replace("icon_",""):o==="warning_symbol"&&(Je="warning"),i({type:"symbol",name:Je,x:_e.x,y:_e.y,size:24,rotation:0,properties:l}),le.current=!1,a("select");return}const Ze={properties:l};o==="line"?F({...Ze,type:"line",p1:_e,p2:_e}):o==="rectangle"?F({...Ze,type:"rectangle",x:_e.x,y:_e.y,width:0,height:0,rotation:0}):o==="circle"&&F({...Ze,type:"circle",cx:_e.x,cy:_e.y,r:0})},Ct=fe=>{const xe=fe.currentTarget.getBoundingClientRect(),Fe={x:fe.clientX-xe.left,y:fe.clientY-xe.top};if(ue(Fe),se){D({...c,x:Fe.x-se.x,y:Fe.y-se.y});return}const ve=Pe(Fe);if(!Number.isFinite(ve.x)||!Number.isFinite(ve.y))return;let _e={...ve},Ze=null,Je=null,Et=[];if(o==="select"&&Ae&&!me&&!re)if(pi(Ae,Fe)>we){const He=Pe(Ae),Be=dt(He,5/c.scale);if(Be)if(fe.shiftKey||qe.has(Be)){if(!qe.has(Be)){const tn=new Set(qe);tn.add(Be),Y(tn),h(Be)}const pt={};(qe.has(Be)?qe:new Set([Be])).forEach(tn=>{const Ut=t.find(Ft=>Ft.id===tn);Ut&&(pt[tn]=JSON.parse(JSON.stringify(Ut)))}),Xe({shapeId:Be,handleIndex:"move",originalShape:t.find(tn=>tn.id===Be),groupOriginals:pt}),ot(He)}else h(Be),Y(new Set([Be])),Xe({shapeId:Be,handleIndex:"move",originalShape:JSON.parse(JSON.stringify(t.find(pt=>pt.id===Be)))}),ot(He);else ke({type:"rectangle",id:"selection",x:He.x,y:He.y,width:0,height:0,properties:{color:"",fill:"",strokeWidth:0,lineType:"solid"}});Ne(null)}else return;if(o==="trim"){const Ge=10/c.scale,He=dt(ve,Ge);if(He){const Be=t.find(Ye=>Ye.id===He);if(Be){const Ye=Yt(Be,ve);Ye?at({shapeId:He,geometry:Ye}):Be.type==="circle"&&at({shapeId:He,geometry:{type:"arc",cx:Be.cx,cy:Be.cy,r:Be.r,startAngle:Be.startAngle||0,endAngle:Be.endAngle||360}})}}else at(null)}if(o==="extend"){const Ge=10/c.scale,He=dt(ve,Ge);let Be=null;if(He){const Ye=t.find(pt=>pt.id===He);if(Ye&&Ye.type==="line"){const pt=pi(ve,Ye.p1),Ot=pi(ve,Ye.p2),tn=pt<Ot?"p1":"p2",Ut=tn==="p2"?Ye.p1:Ye.p2,Ft=tn==="p2"?Ye.p2:Ye.p1,bn=ei(Ft,Ut),ki=o5(bn);let gn=null,Xt=1/0;t.forEach(en=>{if(en.id===Ye.id)return;let ti=[];if(en.type==="line"){const Nn=Bm(Ft,ki,en.p1,en.p2);Nn&&ti.push(Nn)}else if(en.type==="rectangle"||en.type==="title_block"){const{x:Nn,y:Kn,width:br,height:Gi}=en,ur=[{x:Nn,y:Kn},{x:Nn+br,y:Kn},{x:Nn+br,y:Kn+Gi},{x:Nn,y:Kn+Gi}],kr={x:Nn+br/2,y:Kn+Gi/2},cr="rotation"in en&&en.rotation||0,Qi=ur.map(er=>Ol(er,kr,cr));for(let er=0;er<4;er++){const fr=Bm(Ft,ki,Qi[er],Qi[(er+1)%4]);fr&&ti.push(fr)}}else if(en.type==="circle"){const Nn=q3(Ft,ki,en);Nn&&ti.push(Nn)}ti.forEach(Nn=>{const Kn=pi(Ft,Nn);Kn>.01&&Kn<Xt&&(Xt=Kn,gn=Nn)})}),gn&&(Be={originalShape:Ye,newEndpoint:gn,endToUpdate:tn})}}mt(Be)}if(le.current||o==="move"||o==="rotate"||o==="trim"||o==="extend"||["line","rectangle","circle","dimension","text","arc","title_block"].includes(o)||me){const Ge=10/c.scale,He=20/c.scale,Be=dt(ve,Ge),Ye=(me==null?void 0:me.shapeId)||f;if(Be&&Be!==Ye){Ze=Be;const pt=t.find(Ot=>Ot.id===Be);if(pt){const Ot=Hc(pt);let tn=1/0;for(const Ut of Ot)if(d.has(Ut.type)){const Ft=pi(ve,Ut.point);Ft<Ge&&Ft<tn&&(tn=Ft,Je={point:Ut.point,type:Ut.type})}}}if(d.has("inference")){const pt=Ye?lt.filter(gn=>gn.shapeId!==Ye):lt,tn=250/c.scale;let Ut=null,Ft=null,bn=1/0,ki=1/0;for(const gn of pt){const Xt=pi(ve,gn.point);Xt>tn||(Math.abs(ve.x-gn.point.x)<He&&Xt<bn&&(bn=Xt,Ut=gn.point),Math.abs(ve.y-gn.point.y)<He&&Xt<ki&&(ki=Xt,Ft=gn.point))}Ut&&(Et.push({id:"inf-x",type:"line",p1:Ut,p2:{x:Ut.x,y:ve.y},properties:l}),_e.x=Ut.x),Ft&&(Et.push({id:"inf-y",type:"line",p1:Ft,p2:{x:ve.x,y:Ft.y},properties:l}),_e.y=Ft.y),Ut&&Ft&&(Et=[{id:"inf-x",type:"line",p1:Ut,p2:{x:Ut.x,y:Ft.y},properties:l},{id:"inf-y",type:"line",p1:Ft,p2:{x:Ut.x,y:Ft.y},properties:l}],_e={x:Ut.x,y:Ft.y})}Je&&(_e=Je.point,Et=[])}if(G(Ze),Q(Je),ge(Et),o==="arc"){if(ae===1)F({type:"line",p1:Z[0],p2:_e,properties:{...l,color:"#00A8FF",lineType:"dashed"}});else if(ae===2){const Ge=Z[0],He=Z[1],Be=_e,Ye=Um(Ge,He,Be);if(Ye&&Ye.r<sn){const{cx:pt,cy:Ot,r:tn}=Ye,{startAngle:Ut,endAngle:Ft}=Fm(Ge,He,Be,{x:pt,y:Ot});F({type:"circle",cx:pt,cy:Ot,r:tn,startAngle:Ut,endAngle:Ft,properties:l})}else F({type:"line",p1:Ge,p2:Be,properties:l})}}if(me){const{shapeId:Ge,handleIndex:He,originalShape:Be}=me;if(He==="rotate"||He==="move"&&et||typeof He!="number")return;const Ye=JSON.parse(JSON.stringify(Be));let pt={};if(Ye.type==="line")He===0?pt.p1=_e:He===1&&(pt.p2=_e);else if(Ye.type==="circle")He===0?(pt.cx=_e.x,pt.cy=_e.y):He>0&&(pt.r=pi({x:Ye.cx,y:Ye.cy},_e));else if(Ye.type==="dimension")He===0?pt.p1=_e:He===1?pt.p2=_e:He===3&&(pt.offsetPoint=_e);else if(Ye.type==="rectangle"||Ye.type==="title_block"){const Ot=Be;if(He===8)pt.x=_e.x-Ot.width/2,pt.y=_e.y-Ot.height/2;else{const tn=[{x:Ot.x,y:Ot.y},{x:Ot.x+Ot.width,y:Ot.y},{x:Ot.x+Ot.width,y:Ot.y+Ot.height},{x:Ot.x,y:Ot.y+Ot.height}],Ut=(He+2)%4;if(He>=0&&He<=3){const Ft=tn[Ut],bn=Math.min(Ft.x,_e.x),ki=Math.min(Ft.y,_e.y),gn=Math.abs(Ft.x-_e.x),Xt=Math.abs(Ft.y-_e.y);pt={x:bn,y:ki,width:gn,height:Xt}}}}else if(Ye.type==="symbol")if(He===0)pt.x=_e.x,pt.y=_e.y;else{const Ot={x:Be.x,y:Be.y},Ut=pi(Ot,_e)*Math.sqrt(2);Number.isFinite(Ut)&&Ut>0&&(pt.size=Math.max(5,Ut))}Object.keys(pt).length>0&&(Object.assign(Ye,pt),Xe(Ot=>Ot?{...Ot,currentPreview:Ye}:null));return}if(le.current){if(o==="copy-area"&&re)ke({...re,width:ve.x-re.x,height:ve.y-re.y});else if(o==="select"&&re)ke({...re,width:ve.x-re.x,height:ve.y-re.y});else if(X)if(X.type==="line"){const Ge=vt(X.p1,_e,fe.shiftKey);F({...X,p2:Ge})}else if(X.type==="rectangle"){const Ge={x:X.x,y:X.y};let He=_e.x-Ge.x,Be=_e.y-Ge.y;if(fe.shiftKey){const Ye=Math.max(Math.abs(He),Math.abs(Be));He=He<0?-Ye:Ye,Be=Be<0?-Ye:Ye}F({...X,width:He,height:Be})}else X.type==="circle"&&o==="circle"&&F({...X,r:pi({x:X.cx,y:X.cy},_e)})}},Tt=(fe,xe)=>{const Fe=ve=>ve.x>=xe.x&&ve.x<=xe.x+xe.width&&ve.y>=xe.y&&ve.y<=xe.y+xe.height;switch(fe.type){case"line":return Fe(fe.p1)&&Fe(fe.p2);case"rectangle":case"title_block":return[{x:fe.x,y:fe.y},{x:fe.x+fe.width,y:fe.y},{x:fe.x,y:fe.y+fe.height},{x:fe.x+fe.width,y:fe.y+fe.height}].every(Fe);case"circle":return Fe({x:fe.cx,y:fe.cy});case"dimension":return Fe(fe.p1)&&Fe(fe.p2);case"text":return Fe({x:fe.x,y:fe.y});case"symbol":return Fe({x:fe.x,y:fe.y});default:return!1}},qt=fe=>{try{fe.currentTarget&&fe.currentTarget.hasPointerCapture&&fe.currentTarget.hasPointerCapture(fe.pointerId)&&fe.currentTarget.releasePointerCapture(fe.pointerId)}catch{}if((me==null?void 0:me.handleIndex)==="move"&&et){const xe=fe.currentTarget.getBoundingClientRect(),Fe={x:fe.clientX-xe.left,y:fe.clientY-xe.top};let ve=Pe(Fe);z&&(ve=z.point);const _e=ei(ve,et);if(r5(_e)>.1){const{groupOriginals:Ze,shapeId:Je,originalShape:Et}=me;(Ze?Object.entries(Ze):[[Je,Et]]).forEach(([He,Be])=>{const Ye=Be,pt={};Ye.type==="line"||Ye.type==="dimension"?(pt.p1=An(Ye.p1,_e),pt.p2=An(Ye.p2,_e),Ye.type==="dimension"&&(pt.offsetPoint=An(Ye.offsetPoint,_e))):Ye.type==="rectangle"||Ye.type==="text"||Ye.type==="symbol"||Ye.type==="title_block"?(pt.x=Ye.x+_e.x,pt.y=Ye.y+_e.y):Ye.type==="circle"&&(pt.cx=Ye.cx+_e.x,pt.cy=Ye.cy+_e.y),U(He,pt)})}}if(me!=null&&me.currentPreview&&typeof me.handleIndex=="number"){const{currentPreview:xe,shapeId:Fe}=me,ve={};xe.type==="line"||xe.type==="dimension"?(ve.p1=xe.p1,ve.p2=xe.p2,xe.type==="dimension"&&(ve.offsetPoint=xe.offsetPoint)):xe.type==="rectangle"||xe.type==="title_block"||xe.type==="symbol"||xe.type==="text"?(ve.x=xe.x,ve.y=xe.y,"width"in xe&&(ve.width=xe.width,ve.height=xe.height),"size"in xe&&(ve.size=xe.size)):xe.type==="circle"&&(ve.cx=xe.cx,ve.cy=xe.cy,ve.r=xe.r),U(Fe,ve)}if(o==="select"&&Ae&&!me&&!re){const xe=Pe(Ae),Fe=dt(xe,5/c.scale);if(Fe)if(fe.shiftKey){const ve=new Set(qe);ve.has(Fe)?ve.delete(Fe):ve.add(Fe),Y(ve),ve.size===1&&h(Array.from(ve)[0])}else h(Fe),Y(new Set([Fe]));else h(null),Y(new Set)}if(!(o==="move"&&ft)&&!(o==="arc"&&ae>0)){if((o==="rotate"||(me==null?void 0:me.handleIndex)==="rotate")&&ut&&f){const Fe=gs(ei(ct,ut.center))-ut.startAngle,ve=t.find(_e=>_e.id===f);if(ve){const _e={};if(ve.type==="rectangle"||ve.type==="symbol"||ve.type==="text")_e.rotation=(ut.initialRotation+Fe)%360;else if((ve.type==="line"||ve.type==="dimension")&&ut.originalShape){const Ze=ut.originalShape,Je=Et=>Ol(Et,ut.center,Fe);_e.p1=Je(Ze.p1),_e.p2=Je(Ze.p2),ve.type==="dimension"&&"offsetPoint"in Ze&&(_e.offsetPoint=Je(Ze.offsetPoint))}Object.keys(_e).length>0&&U(f,_e)}jt(null),(me==null?void 0:me.handleIndex)==="rotate"&&Xe(null);return}if(!(o==="dimension"&&V===2)){if((o==="copy-area"||o==="select")&&re){const xe={x:re.width<0?re.x+re.width:re.x,y:re.height<0?re.y+re.height:re.y,width:Math.abs(re.width),height:Math.abs(re.height)};if(xe.width>1&&xe.height>1){const Fe=t.filter(ve=>Tt(ve,xe));Fe.length>0&&(o==="copy-area"?(S({shapes:Fe,origin:{x:xe.x+xe.width/2,y:xe.y+xe.height/2}}),Y(new Set(Fe.map(ve=>ve.id)))):(Y(new Set(Fe.map(ve=>ve.id))),Fe.length===1&&h(Fe[0].id)))}else o==="select"&&!Ae&&(h(null),Y(new Set));ke(null),o==="copy-area"&&a("select")}if(le.current=!1,K(null),Xe(null),ot(null),Ne(null),X&&o!=="dimension")if(X.type==="line"&&pi(X.p1,X.p2)>.1)i(X);else if(X.type==="rectangle"&&X.width!==0&&X.height!==0){const xe={type:"rectangle",x:X.width<0?X.x+X.width:X.x,y:X.height<0?X.y+X.height:X.y,width:Math.abs(X.width),height:Math.abs(X.height),properties:X.properties,rotation:0};i(xe)}else X.type==="circle"&&X.r>.1&&i(X);(o!=="dimension"||V!==2)&&F(null)}}},rt=fe=>{fe.ctrlKey&&fe.preventDefault();const xe=fe.currentTarget.getBoundingClientRect(),Fe={x:fe.clientX-xe.left,y:fe.clientY-xe.top},ve=1-Math.sign(fe.deltaY)*.1,_e=c,Ze=Math.min(Math.max(_e.scale*ve,.05),200),Je=Ze/_e.scale,Et=Fe.x-(Fe.x-_e.x)*Je,Ge=Fe.y-(Fe.y-_e.y)*Je;D({scale:Ze,x:Et,y:Ge})},Ht=se?"grabbing":o==="pan"?"grab":o==="select"?"default":o==="copy-area"||o==="trim"||o==="extend"?"crosshair":o==="text"?"text":o==="paste"?"copy":o==="move"?"default":o==="rotate"?"alias":o==="title_block"?"copy":"none";return _.jsxs("div",{className:"flex-grow bg-dark-base-200 overflow-hidden relative",onWheel:rt,children:[_.jsxs("svg",{ref:J,width:"100%",height:"100%",onDragStart:fe=>fe.preventDefault(),onPointerDown:bt,onPointerMove:Ct,onPointerUp:qt,onPointerCancel:qt,onLostPointerCapture:qt,style:{cursor:Ht,touchAction:"none"},children:[_.jsxs("defs",{children:[_.jsxs("pattern",{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[_.jsx("path",{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"1"}),_.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"rgba(255,255,255,0.02)",strokeWidth:"0.5"})]}),_.jsx("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:_.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"currentColor"})})]}),_.jsxs("g",{transform:`translate(${c.x}, ${c.y}) scale(${c.scale})`,children:[R&&R.isVisible&&_.jsx("image",{href:R.data,x:R.x,y:R.y,width:R.width,height:R.height,opacity:R.opacity,preserveAspectRatio:"none"}),_.jsx("rect",{width:"50000",height:"50000",x:"-25000",y:"-25000",fill:"url(#grid)"}),_.jsx("circle",{cx:"0",cy:"0",r:3/c.scale,fill:"red"}),t.map(fe=>{if((me==null?void 0:me.shapeId)===fe.id&&me.currentPreview)return _.jsx(da,{shape:me.currentPreview,isSelected:!0,conversionFactor:yt,isPreview:!0},fe.id);if(f===fe.id){if(o==="rotate"&&ut)return null;if(o==="move"&&ft&&qe.has(fe.id))return _.jsx(da,{shape:fe,isSelected:!0,conversionFactor:yt,isGhost:!0},fe.id);if(o==="move"&&ft&&!qe.has(fe.id))return _.jsx(da,{shape:fe,isSelected:!0,conversionFactor:yt,isGhost:!0},fe.id);if((me==null?void 0:me.handleIndex)==="rotate"&&ut)return null}const xe=qe.has(fe.id);return(me==null?void 0:me.handleIndex)==="move"&&qe.has(fe.id)?_.jsx(da,{shape:fe,isSelected:fe.id===f,isHighlighted:!0,conversionFactor:yt,isGhost:!1},fe.id):o==="move"&&ft&&xe?_.jsx(da,{shape:fe,isSelected:fe.id===f,isHighlighted:!0,conversionFactor:yt,isGhost:!0},fe.id):_.jsx(da,{shape:fe,isSelected:fe.id===f,isHighlighted:xe,conversionFactor:yt},fe.id)}),X&&_.jsx(da,{shape:X,isSelected:!1,conversionFactor:yt}),o==="arc"&&Z.length>0&&_.jsxs("g",{children:[_.jsx("circle",{cx:Z[0].x,cy:Z[0].y,r:4/c.scale,fill:"#00A8FF"}),Z.length>1&&_.jsx("circle",{cx:Z[1].x,cy:Z[1].y,r:4/c.scale,fill:"#00A8FF",opacity:"0.7"})]}),k&&(()=>{const fe=t.find(xe=>xe.id===k);return fe?Hc(fe).map((xe,Fe)=>_.jsx("circle",{cx:xe.point.x,cy:xe.point.y,r:5/c.scale,fill:"cyan",fillOpacity:"0.5"},Fe)):null})(),f&&(()=>{const fe=t.find(xe=>xe.id===f);return fe?Hc(fe).map((xe,Fe)=>_.jsx("circle",{cx:xe.point.x,cy:xe.point.y,r:5/c.scale,fill:"white",stroke:"#00A8FF",strokeWidth:1.5/c.scale},`node-${Fe}`)):null})(),z&&_.jsxs("g",{children:[" ",_.jsx("circle",{cx:z.point.x,cy:z.point.y,r:8/c.scale,fill:"magenta",fillOpacity:"0.7"})," ",_.jsx("circle",{cx:z.point.x,cy:z.point.y,r:1.5/c.scale,fill:"white"})," "]}),ie.map((fe,xe)=>_.jsxs("g",{children:[" ",_.jsx("line",{x1:fe.p1.x,y1:fe.p1.y,x2:fe.p2.x,y2:fe.p2.y,stroke:"lime",strokeWidth:1/c.scale,strokeDasharray:`${4/c.scale}`,opacity:"0.8"})," ",_.jsx("line",{x1:fe.p1.x-3/c.scale,y1:fe.p1.y,x2:fe.p1.x+3/c.scale,y2:fe.p1.y,stroke:"lime",strokeWidth:1/c.scale})," ",_.jsx("line",{x1:fe.p1.x,y1:fe.p1.y-3/c.scale,x2:fe.p1.x,y2:fe.p1.y+3/c.scale,stroke:"lime",strokeWidth:1/c.scale})," "]},xe)),re&&(()=>{const fe=re.width<0?re.x+re.width:re.x,xe=re.height<0?re.y+re.height:re.y,Fe=Math.abs(re.width),ve=Math.abs(re.height);return _.jsx("rect",{x:fe,y:xe,width:Fe,height:ve,fill:"rgba(0, 168, 255, 0.2)",stroke:"rgba(0, 168, 255, 0.8)",strokeWidth:1/c.scale,strokeDasharray:`4 ${2/c.scale}`})})(),o==="trim"&&W&&(()=>{const{geometry:fe}=W,xe=4/c.scale;if(fe.type==="line"){const Fe=fe.p1,ve=fe.p2,_e=(Fe.x+ve.x)/2,Ze=(Fe.y+ve.y)/2;return _.jsxs("g",{children:[" ",_.jsx("line",{x1:Fe.x,y1:Fe.y,x2:ve.x,y2:ve.y,stroke:"red",strokeWidth:4/c.scale,strokeLinecap:"round",opacity:"0.7"},"trim-hover")," ",_.jsx("line",{x1:_e-xe,y1:Ze-xe,x2:_e+xe,y2:Ze+xe,stroke:"white",strokeWidth:2/c.scale})," ",_.jsx("line",{x1:_e+xe,y1:Ze-xe,x2:_e-xe,y2:Ze+xe,stroke:"white",strokeWidth:2/c.scale})," "]})}else{const{cx:Fe,cy:ve,r:_e,startAngle:Ze,endAngle:Je}=fe,Et=Ze;let Ge=Je;Je<Ze&&(Ge+=360);const He=(Et+Ge)/2*Math.PI/180,Be=Fe+_e*Math.cos(He),Ye=ve-_e*Math.sin(He);return _.jsxs("g",{children:[" ",_.jsx("path",{d:a5(Fe,ve,_e,Ze,Je),stroke:"red",strokeWidth:4/c.scale,fill:"none",opacity:"0.7"})," ",_.jsx("line",{x1:Be-xe,y1:Ye-xe,x2:Be+xe,y2:Ye+xe,stroke:"white",strokeWidth:2/c.scale})," ",_.jsx("line",{x1:Be+xe,y1:Ye-xe,x2:Be-xe,y2:Ye+xe,stroke:"white",strokeWidth:2/c.scale})," "]})}})(),o==="extend"&&wt&&(()=>{const{originalShape:fe,newEndpoint:xe,endToUpdate:Fe}=wt,ve=Fe==="p1"?fe.p1:fe.p2;return _.jsxs("g",{children:[" ",_.jsx("line",{x1:ve.x,y1:ve.y,x2:xe.x,y2:xe.y,stroke:"lime",strokeWidth:2/c.scale,strokeDasharray:`${4/c.scale}`})," ",_.jsx("circle",{cx:xe.x,cy:xe.y,r:4/c.scale,fill:"lime"})," "]})})(),o==="dimension"&&ze&&ze.type==="segment"&&_.jsx("line",{x1:ze.p1.x,y1:ze.p1.y,x2:ze.p2.x,y2:ze.p2.y,stroke:"cyan",strokeWidth:2/c.scale,strokeDasharray:`${4/c.scale}`}),o==="dimension"&&ze&&ze.type==="circle"&&_.jsx("circle",{cx:ze.p1.x,cy:ze.p1.y,r:pi(ze.p1,ze.p2),fill:"none",stroke:"cyan",strokeWidth:2/c.scale,strokeDasharray:`${4/c.scale}`}),o==="paste"&&E&&E.shapes.map(fe=>{const xe=ei(ct,E.origin),Fe=JSON.parse(JSON.stringify(fe));return Fe.type==="line"||Fe.type==="dimension"?(Fe.p1=An(Fe.p1,xe),Fe.p2=An(Fe.p2,xe),Fe.type==="dimension"&&(Fe.offsetPoint=An(Fe.offsetPoint,xe))):Fe.type==="rectangle"||Fe.type==="text"||Fe.type==="symbol"||Fe.type==="title_block"?(Fe.x+=xe.x,Fe.y+=xe.y):Fe.type==="circle"&&(Fe.cx+=xe.x,Fe.cy+=xe.y),_.jsx(da,{shape:Fe,isSelected:!1,conversionFactor:yt,isPreview:!0},"preview-"+fe.id)}),(me==null?void 0:me.handleIndex)==="move"&&me.groupOriginals&&et?(()=>{const fe=me,xe=z?z.point:ct,Fe=ei(xe,et),ve=fe.groupOriginals;return Object.keys(ve).map(_e=>{const Ze=ve[_e],Je=JSON.parse(JSON.stringify(Ze));return Je.type==="line"?(Je.p1=An(Je.p1,Fe),Je.p2=An(Je.p2,Fe)):Je.type==="dimension"?(Je.p1=An(Je.p1,Fe),Je.p2=An(Je.p2,Fe),Je.offsetPoint=An(Je.offsetPoint,Fe)):Je.type==="rectangle"||Je.type==="text"||Je.type==="symbol"||Je.type==="title_block"?(Je.x+=Fe.x,Je.y+=Fe.y):Je.type==="circle"&&(Je.cx+=Fe.x,Je.cy+=Fe.y),_.jsx(da,{shape:Je,isSelected:!1,conversionFactor:yt,isPreview:!0},"preview-drag-"+_e)})})():null,o==="move"&&ft?(()=>{const fe=z?z.point:ct,xe=ei(fe,ft);return(qe.size>0?Array.from(qe):f?[f]:[]).map(ve=>{const _e=t.find(Je=>Je.id===ve);if(!_e)return null;const Ze=JSON.parse(JSON.stringify(_e));return Ze.type==="line"||Ze.type==="dimension"?(Ze.p1=An(Ze.p1,xe),Ze.p2=An(Ze.p2,xe),Ze.type==="dimension"&&(Ze.offsetPoint=An(Ze.offsetPoint,xe))):Ze.type==="rectangle"||Ze.type==="text"||Ze.type==="symbol"||Ze.type==="title_block"?(Ze.x+=xe.x,Ze.y+=xe.y):Ze.type==="circle"&&(Ze.cx+=xe.x,Ze.cy+=xe.y),_.jsx(da,{shape:Ze,isSelected:!1,conversionFactor:yt,isPreview:!0},"preview-trans-"+ve)})})():null,(o==="rotate"||(me==null?void 0:me.handleIndex)==="rotate")&&ut&&f?(()=>{const fe=t.find(_e=>_e.id===f);if(!fe)return null;const xe=JSON.parse(JSON.stringify(fe)),ve=gs(ei(ct,ut.center))-ut.startAngle;if(xe.type==="rectangle"||xe.type==="symbol"||xe.type==="text"||xe.type==="title_block")xe.rotation=(ut.initialRotation+ve)%360;else if(xe.type==="line"||xe.type==="dimension"){const _e=ut.originalShape,Ze=Je=>Ol(Je,ut.center,ve);xe.p1=Ze(_e.p1),xe.p2=Ze(_e.p2),xe.type==="dimension"&&"offsetPoint"in _e&&(xe.offsetPoint=Ze(_e.offsetPoint))}return _.jsx(da,{shape:xe,isSelected:!1,conversionFactor:yt,isPreview:!0},"preview-rot")})():null]})]}),_.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[Ht==="none"&&_.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},children:[" ",_.jsx("rect",{x:pe.x-10,y:pe.y-10,width:"20",height:"20",fill:"none",stroke:"white",strokeWidth:"0.5"})," ",_.jsx("line",{x1:pe.x,y1:0,x2:pe.x,y2:5e3,stroke:"white",strokeWidth:"0.5"})," ",_.jsx("line",{x1:0,y1:pe.y,x2:5e3,y2:pe.y,stroke:"white",strokeWidth:"0.5"})," "]}),le.current&&((X==null?void 0:X.type)==="line"||(X==null?void 0:X.type)==="dimension")&&X.p1&&_.jsxs("div",{className:"absolute px-2 py-1 bg-blue-600 text-white text-xs rounded",style:{left:pe.x+20,top:pe.y+20},children:[" ",`L: ${(pi(X.p1,ct)/yt).toFixed(2)} ${w} | A: ${bp(X.p1,ct).toFixed(2)}`," "]}),f&&(()=>{const fe=t.find(xe=>xe.id===f);if(fe&&(fe.type==="line"||fe.type==="dimension"))return _.jsxs("div",{className:"absolute px-2 py-1 bg-blue-600 text-white text-xs rounded",style:{left:(fe.p1.x+fe.p2.x)/2*c.scale+c.x+10,top:(fe.p1.y+fe.p2.y)/2*c.scale+c.y+10},children:[" ",`L: ${(pi(fe.p1,fe.p2)/yt).toFixed(2)} ${w} | A: ${bp(fe.p1,fe.p2).toFixed(2)}`," "]})})(),ut&&_.jsxs("div",{className:"absolute px-2 py-1 bg-purple-600 text-white text-xs rounded",style:{left:pe.x+20,top:pe.y+20},children:[" ",`Rot: ${((gs(ei(ct,ut.center))-ut.startAngle+ut.initialRotation+360)%360).toFixed(1)}`," ",ut.center&&_.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:-pe.y-20,left:-pe.x-20},children:[" ",_.jsx("line",{x1:ut.center.x*c.scale+c.x,y1:ut.center.y*c.scale+c.y,x2:pe.x+20,y2:pe.y+20,stroke:"purple",strokeWidth:"1",strokeDasharray:"4 2"})," "]})," "]}),_.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-dark-base-content/60 bg-dark-base-100/50 px-2 py-1 rounded",children:[" ",`${(ct.x/yt).toFixed(2)} ${w}, ${(ct.y/yt).toFixed(2)} ${w}`," "]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let G3,V3;function j3(){return{geminiUrl:G3,vertexUrl:V3}}function Y3(t,e,i,o){var a,l;if(!(t!=null&&t.baseUrl)){const c=j3();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs{}function xt(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function g(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const h=t[f];if(Array.isArray(i))for(let d=0;d<h.length;d++){const y=h[d];g(y,e.slice(l+1),i[d])}else for(const d of h)g(d,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const h=t[f];g(h[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function p(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>p(f,e.slice(o+1),i)):i}else return i}else t=t[a]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function J3(t,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),l=o.split("."),c=new Set;let f=-1;for(let h=0;h<a.length;h++)if(a[h]==="*"){f=h;break}if(f!==-1&&l.length>f)for(let h=f;h<l.length;h++){const d=l[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&c.add(d)}wp(t,a,l,0,c)}}function wp(t,e,i,o,a){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const h of f[c])wp(h,e,i,o+1,a)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(d=>!d.startsWith("_")&&!a.has(d)),h={};for(const d of f)h[d]=c[d];for(const[d,y]of Object.entries(h)){const w=[];for(const E of i.slice(o))E==="*"?w.push(d):w.push(E);g(c,w,y)}for(const d of f)delete c[d]}}else{const c=t;l in c&&wp(c[l],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Up(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W3(t){const e={},i=p(t,["operationName"]);i!=null&&g(e,["operationName"],i);const o=p(t,["resourceName"]);return o!=null&&g(e,["_url","resourceName"],o),e}function K3(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response","generateVideoResponse"]);return c!=null&&g(e,["response"],X3(c)),e}function $3(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response"]);return c!=null&&g(e,["response"],Z3(c)),e}function X3(t){const e={},i=p(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Q3(c))),g(e,["generatedVideos"],l)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&g(e,["raiMediaFilteredReasons"],a),e}function Z3(t){const e={},i=p(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>eS(c))),g(e,["generatedVideos"],l)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&g(e,["raiMediaFilteredReasons"],a),e}function Q3(t){const e={},i=p(t,["video"]);return i!=null&&g(e,["video"],aS(i)),e}function eS(t){const e={},i=p(t,["_self"]);return i!=null&&g(e,["video"],sS(i)),e}function tS(t){const e={},i=p(t,["operationName"]);return i!=null&&g(e,["_url","operationName"],i),e}function nS(t){const e={},i=p(t,["operationName"]);return i!=null&&g(e,["_url","operationName"],i),e}function iS(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response"]);return c!=null&&g(e,["response"],rS(c)),e}function rS(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&g(e,["documentName"],a),e}function l5(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response"]);return c!=null&&g(e,["response"],oS(c)),e}function oS(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&g(e,["documentName"],a),e}function aS(t){const e={},i=p(t,["uri"]);i!=null&&g(e,["uri"],i);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],Up(o));const a=p(t,["encoding"]);return a!=null&&g(e,["mimeType"],a),e}function sS(t){const e={},i=p(t,["gcsUri"]);i!=null&&g(e,["uri"],i);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],Up(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qm||(qm={}));var Om;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Om||(Om={}));var zm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(zm||(zm={}));var xn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xn||(xn={}));var Hm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hm||(Hm={}));var Gm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gm||(Gm={}));var Vm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Vm||(Vm={}));var jm;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jm||(jm={}));var Ym;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ym||(Ym={}));var Jm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Jm||(Jm={}));var Wm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wm||(Wm={}));var Km;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Km||(Km={}));var $m;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($m||($m={}));var Xm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Xm||(Xm={}));var Zm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Zm||(Zm={}));var Qm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qm||(Qm={}));var eg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eg||(eg={}));var tg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(tg||(tg={}));var ng;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ng||(ng={}));var dd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(dd||(dd={}));var ig;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ig||(ig={}));var rg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rg||(rg={}));var og;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(og||(og={}));var Sp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sp||(Sp={}));var ag;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ag||(ag={}));var sg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sg||(sg={}));var lg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lg||(lg={}));var ug;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ug||(ug={}));var cg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cg||(cg={}));var fg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fg||(fg={}));var dg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(dg||(dg={}));var hg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(hg||(hg={}));var pg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(pg||(pg={}));var mg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(mg||(mg={}));var gg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gg||(gg={}));var yg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yg||(yg={}));var vg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vg||(vg={}));var xg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xg||(xg={}));var bg;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(bg||(bg={}));var wg;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(wg||(wg={}));var Sg;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Sg||(Sg={}));var _g;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_g||(_g={}));var Ag;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ag||(Ag={}));var Eg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Eg||(Eg={}));var Cg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cg||(Cg={}));var Tg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Tg||(Tg={}));var Ng;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ng||(Ng={}));var Mg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mg||(Mg={}));var kg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kg||(kg={}));var Lg;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lg||(Lg={}));var Rg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Rg||(Rg={}));var Ig;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ig||(Ig={}));var Dg;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dg||(Dg={}));var Pg;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Pg||(Pg={}));var Vu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Vu||(Vu={}));class _p{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gc{get text(){var e,i,o,a,l,c,f,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",y=!1;const w=[];for(const E of(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[S,U]of Object.entries(E))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(U!==null||U!==void 0)&&w.push(S);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,d+=E.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?d:void 0}get data(){var e,i,o,a,l,c,f,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const y=[];for(const w of(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[E,S]of Object.entries(w))E!=="inlineData"&&(S!==null||S!==void 0)&&y.push(E);w.inlineData&&typeof w.inlineData.data=="string"&&(d+=atob(w.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,i,o,a,l,c,f,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,i,o,a,l,c,f,h,d;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,i,o,a,l,c,f,h,d;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.output}}class Ug{}class Fg{}class lS{}class uS{}class cS{}class fS{}class Bg{}class qg{}class Og{}class dS{}class hd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new hd;let a;const l=e;return i?a=$3(l):a=K3(l),Object.assign(o,a),o}}class zg{}class Hg{}class Gg{}class hS{}class pS{}class mS{}class Fp{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Fp,l=iS(e);return Object.assign(o,l),o}}class gS{}class yS{}class vS{}class Vg{}class xS{get text(){var e,i,o;let a="",l=!1;const c=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[h,d]of Object.entries(f))h!=="text"&&h!=="thought"&&d!==null&&c.push(h);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,o;let a="";const l=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[f,h]of Object.entries(c))f!=="inlineData"&&h!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class bS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bp{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Bp,l=l5(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function u5(t,e){const i=Dn(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function c5(t){return Array.isArray(t)?t.map(e=>pd(e)):[pd(t)]}function pd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function f5(t){const e=pd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d5(t){const e=pd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function h5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jg(e)):[jg(t)]}function Ap(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Yg(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Jg(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Mr(t){if(t==null)throw new Error("ContentUnion is required");return Ap(t)?t:{role:"user",parts:h5(t)}}function qp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Mr(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Mr(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Mr(i)):[Mr(e)]}function Uo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Yg(t)||Jg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mr(t)]}const e=[],i=[],o=Ap(t[0]);for(const a of t){const l=Ap(a);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Yg(a)||Jg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:h5(i)}),e}function wS(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(xn).includes(i[0].toUpperCase())?i[0].toUpperCase():xn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(xn).includes(o.toUpperCase())?o.toUpperCase():xn.TYPE_UNSPECIFIED})}}function Ku(t){const e={},i=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&wS(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(xn).includes(f.toUpperCase())?f.toUpperCase():xn.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ku(f);else if(o.includes(c)){const h=[];for(const d of f){if(d.type=="null"){e.nullable=!0;continue}h.push(Ku(d))}e[c]=h}else if(a.includes(c)){const h={};for(const[d,y]of Object.entries(f))h[d]=Ku(y);e[c]=h}else{if(c==="additionalProperties")continue;e[c]=f}return e}function Op(t){return Ku(t)}function zp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ec(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ku(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ku(e.response));return t}function tc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function SS(t,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function xs(t,e){if(typeof e!="string")throw new Error("name must be a string");return SS(t,e,"cachedContents")}function p5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ol(t){return Up(t)}function _S(t){return t!=null&&typeof t=="object"&&"name"in t}function AS(t){return t!=null&&typeof t=="object"&&"video"in t}function ES(t){return t!=null&&typeof t=="object"&&"uri"in t}function m5(t){var e;let i;if(_S(t)&&(i=t.name),!(ES(t)&&(i=t.uri,i===void 0))&&!(AS(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function g5(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function y5(t){for(const e of["models","tunedModels","publisherModels"])if(CS(t,e))return t[e];return[]}function CS(t,e){return t!==null&&typeof t=="object"&&e in t}function TS(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function NS(t,e={}){const i=[],o=new Set;for(const a of t){const l=a.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=TS(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function v5(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function MS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function x5(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const h=c.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nc(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function b5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(t){const e={},i=p(t,["responsesFile"]);i!=null&&g(e,["fileName"],i);const o=p(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c_(c))),g(e,["inlinedResponses"],l)}const a=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["inlinedEmbedContentResponses"],l)}return e}function LS(t){const e={},i=p(t,["predictionsFormat"]);i!=null&&g(e,["format"],i);const o=p(t,["gcsDestination","outputUriPrefix"]);o!=null&&g(e,["gcsUri"],o);const a=p(t,["bigqueryDestination","outputUri"]);return a!=null&&g(e,["bigqueryUri"],a),e}function RS(t){const e={},i=p(t,["format"]);i!=null&&g(e,["predictionsFormat"],i);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsDestination","outputUriPrefix"],o);const a=p(t,["bigqueryUri"]);if(a!=null&&g(e,["bigqueryDestination","outputUri"],a),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ad(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata","displayName"]);o!=null&&g(e,["displayName"],o);const a=p(t,["metadata","state"]);a!=null&&g(e,["state"],b5(a));const l=p(t,["metadata","createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["metadata","endTime"]);c!=null&&g(e,["endTime"],c);const f=p(t,["metadata","updateTime"]);f!=null&&g(e,["updateTime"],f);const h=p(t,["metadata","model"]);h!=null&&g(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],kS(x5(d))),e}function Ep(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const a=p(t,["state"]);a!=null&&g(e,["state"],b5(a));const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["createTime"]);c!=null&&g(e,["createTime"],c);const f=p(t,["startTime"]);f!=null&&g(e,["startTime"],f);const h=p(t,["endTime"]);h!=null&&g(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const y=p(t,["model"]);y!=null&&g(e,["model"],y);const w=p(t,["inputConfig"]);w!=null&&g(e,["src"],IS(w));const E=p(t,["outputConfig"]);E!=null&&g(e,["dest"],LS(x5(E)));const S=p(t,["completionStats"]);return S!=null&&g(e,["completionStats"],S),e}function IS(t){const e={},i=p(t,["instancesFormat"]);i!=null&&g(e,["format"],i);const o=p(t,["gcsSource","uris"]);o!=null&&g(e,["gcsUri"],o);const a=p(t,["bigquerySource","inputUri"]);return a!=null&&g(e,["bigqueryUri"],a),e}function DS(t,e){const i={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=p(e,["fileName"]);o!=null&&g(i,["fileName"],o);const a=p(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>u_(t,c))),g(i,["requests","requests"],l)}return i}function PS(t){const e={},i=p(t,["format"]);i!=null&&g(e,["instancesFormat"],i);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsSource","uris"],o);const a=p(t,["bigqueryUri"]);if(a!=null&&g(e,["bigquerySource","inputUri"],a),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function US(t){const e={},i=p(t,["data"]);if(i!=null&&g(e,["data"],i),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function FS(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function BS(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function qS(t){const e={},i=p(t,["content"]);i!=null&&g(e,["content"],i);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],OS(o));const a=p(t,["tokenCount"]);a!=null&&g(e,["tokenCount"],a);const l=p(t,["finishReason"]);l!=null&&g(e,["finishReason"],l);const c=p(t,["avgLogprobs"]);c!=null&&g(e,["avgLogprobs"],c);const f=p(t,["groundingMetadata"]);f!=null&&g(e,["groundingMetadata"],f);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const y=p(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>S)),g(e,["safetyRatings"],E)}const w=p(t,["urlContextMetadata"]);return w!=null&&g(e,["urlContextMetadata"],w),e}function OS(t){const e={},i=p(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["citations"],o)}return e}function w5(t){const e={},i=p(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>y_(l))),g(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function zS(t,e){const i={},o=p(t,["displayName"]);if(e!==void 0&&o!=null&&g(e,["batch","displayName"],o),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function HS(t,e){const i={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["dest"]);return e!==void 0&&a!=null&&g(e,["outputConfig"],RS(MS(a))),i}function Wg(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["src"]);a!=null&&g(i,["batch","inputConfig"],DS(t,v5(t,a)));const l=p(e,["config"]);return l!=null&&zS(l,i),i}function GS(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["model"],Dn(t,o));const a=p(e,["src"]);a!=null&&g(i,["inputConfig"],PS(v5(t,a)));const l=p(e,["config"]);return l!=null&&HS(l,i),i}function VS(t,e){const i={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["batch","displayName"],o),i}function jS(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["src"]);a!=null&&g(i,["batch","inputConfig"],ZS(t,a));const l=p(e,["config"]);return l!=null&&VS(l,i),i}function YS(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function JS(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function WS(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);return l!=null&&g(e,["error"],l),e}function KS(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);return l!=null&&g(e,["error"],l),e}function $S(t,e){const i={},o=p(e,["contents"]);if(o!=null){let l=qp(t,o);Array.isArray(l)&&(l=l.map(c=>c)),g(i,["requests[]","request","content"],l)}const a=p(e,["config"]);return a!=null&&(g(i,["_self"],XS(a,i)),J3(i,{"requests[].*":"requests[].request.*"})),i}function XS(t,e){const i={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const a=p(t,["title"]);e!==void 0&&a!=null&&g(e,["requests[]","title"],a);const l=p(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function ZS(t,e){const i={},o=p(e,["fileName"]);o!=null&&g(i,["file_name"],o);const a=p(e,["inlinedRequests"]);return a!=null&&g(i,["requests"],$S(t,a)),i}function QS(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["fileUri"]);i!=null&&g(e,["fileUri"],i);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function e_(t){const e={},i=p(t,["id"]);i!=null&&g(e,["id"],i);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const a=p(t,["name"]);if(a!=null&&g(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function t_(t){const e={},i=p(t,["mode"]);i!=null&&g(e,["mode"],i);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function n_(t,e,i){const o={},a=p(e,["systemInstruction"]);i!==void 0&&a!=null&&g(i,["systemInstruction"],w5(Mr(a)));const l=p(e,["temperature"]);l!=null&&g(o,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(o,["topP"],c);const f=p(e,["topK"]);f!=null&&g(o,["topK"],f);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const y=p(e,["stopSequences"]);y!=null&&g(o,["stopSequences"],y);const w=p(e,["responseLogprobs"]);w!=null&&g(o,["responseLogprobs"],w);const E=p(e,["logprobs"]);E!=null&&g(o,["logprobs"],E);const S=p(e,["presencePenalty"]);S!=null&&g(o,["presencePenalty"],S);const U=p(e,["frequencyPenalty"]);U!=null&&g(o,["frequencyPenalty"],U);const N=p(e,["seed"]);N!=null&&g(o,["seed"],N);const B=p(e,["responseMimeType"]);B!=null&&g(o,["responseMimeType"],B);const L=p(e,["responseSchema"]);L!=null&&g(o,["responseSchema"],Op(L));const R=p(e,["responseJsonSchema"]);if(R!=null&&g(o,["responseJsonSchema"],R),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=p(e,["safetySettings"]);if(i!==void 0&&D!=null){let V=D;Array.isArray(V)&&(V=V.map(oe=>v_(oe))),g(i,["safetySettings"],V)}const J=p(e,["tools"]);if(i!==void 0&&J!=null){let V=tc(J);Array.isArray(V)&&(V=V.map(oe=>b_(ec(oe)))),g(i,["tools"],V)}const le=p(e,["toolConfig"]);if(i!==void 0&&le!=null&&g(i,["toolConfig"],x_(le)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=p(e,["cachedContent"]);i!==void 0&&pe!=null&&g(i,["cachedContent"],xs(t,pe));const ue=p(e,["responseModalities"]);ue!=null&&g(o,["responseModalities"],ue);const se=p(e,["mediaResolution"]);se!=null&&g(o,["mediaResolution"],se);const K=p(e,["speechConfig"]);if(K!=null&&g(o,["speechConfig"],zp(K)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=p(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const F=p(e,["imageConfig"]);return F!=null&&g(o,["imageConfig"],l_(F)),o}function i_(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>qS(d))),g(e,["candidates"],h)}const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const f=p(t,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function r_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function o_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],nc(t,o)),i}function a_(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(t,["enableWidget"]);return i!=null&&g(e,["enableWidget"],i),e}function s_(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(t,["timeRangeFilter"]);return i!=null&&g(e,["timeRangeFilter"],i),e}function l_(t){const e={},i=p(t,["aspectRatio"]);i!=null&&g(e,["aspectRatio"],i);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function u_(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["request","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let f=Uo(a);Array.isArray(f)&&(f=f.map(h=>w5(h))),g(i,["request","contents"],f)}const l=p(e,["metadata"]);l!=null&&g(i,["metadata"],l);const c=p(e,["config"]);return c!=null&&g(i,["request","generationConfig"],n_(t,c,p(i,["request"],{}))),i}function c_(t){const e={},i=p(t,["response"]);i!=null&&g(e,["response"],i_(i));const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function f_(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);if(e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function d_(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),i}function h_(t){const e={},i=p(t,["config"]);return i!=null&&f_(i,e),e}function p_(t){const e={},i=p(t,["config"]);return i!=null&&d_(i,e),e}function m_(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ad(c))),g(e,["batchJobs"],l)}return e}function g_(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ep(c))),g(e,["batchJobs"],l)}return e}function y_(t){const e={},i=p(t,["mediaResolution"]);i!=null&&g(e,["mediaResolution"],i);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&g(e,["executableCode"],a);const l=p(t,["fileData"]);l!=null&&g(e,["fileData"],QS(l));const c=p(t,["functionCall"]);c!=null&&g(e,["functionCall"],e_(c));const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],US(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const y=p(t,["thought"]);y!=null&&g(e,["thought"],y);const w=p(t,["thoughtSignature"]);w!=null&&g(e,["thoughtSignature"],w);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function v_(t){const e={},i=p(t,["category"]);if(i!=null&&g(e,["category"],i),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function x_(t){const e={},i=p(t,["functionCallingConfig"]);i!=null&&g(e,["functionCallingConfig"],t_(i));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function b_(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(w=>w)),g(e,["functionDeclarations"],y)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);a!=null&&g(e,["computerUse"],a);const l=p(t,["fileSearch"]);l!=null&&g(e,["fileSearch"],l);const c=p(t,["codeExecution"]);if(c!=null&&g(e,["codeExecution"],c),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],a_(f));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],s_(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ys;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ys||(ys={}));class Yl{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_ extends vs{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Yl(ys.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Wg(this.apiClient,e),o=i._url,a=xt("{model}:batchGenerateContent",o),f=i.batch.inputConfig.requests,h=f.requests,d=[];for(const y of h){const w=Object.assign({},y);if(w.systemInstruction){const E=w.systemInstruction;delete w.systemInstruction;const S=w.request;S.systemInstruction=E,w.request=S}d.push(w)}return f.requests=d,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${a}`;else if(c)o.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=GS(this.apiClient,e);return f=xt("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Ep(y))}else{const d=Wg(this.apiClient,e);return f=xt("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ad(y))}}async createEmbeddingsInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jS(this.apiClient,e);return l=xt("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>ad(h))}}async get(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=o_(this.apiClient,e);return f=xt("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Ep(y))}else{const d=r_(this.apiClient,e);return f=xt("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ad(y))}}async cancel(e){var i,o,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const h=BS(this.apiClient,e);c=xt("batchPredictionJobs/{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const h=FS(this.apiClient,e);c=xt("batches/{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=p_(e);return f=xt("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=g_(y),E=new Vg;return Object.assign(E,w),E})}else{const d=h_(e);return f=xt("batches",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=m_(y),E=new Vg;return Object.assign(E,w),E})}}async delete(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=JS(this.apiClient,e);return f=xt("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>KS(y))}else{const d=YS(this.apiClient,e);return f=xt("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>WS(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(t){const e={},i=p(t,["data"]);if(i!=null&&g(e,["data"],i),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Kg(t){const e={},i=p(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>j_(l))),g(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function __(t,e){const i={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const a=p(t,["expireTime"]);e!==void 0&&a!=null&&g(e,["expireTime"],a);const l=p(t,["displayName"]);e!==void 0&&l!=null&&g(e,["displayName"],l);const c=p(t,["contents"]);if(e!==void 0&&c!=null){let y=Uo(c);Array.isArray(y)&&(y=y.map(w=>Kg(w))),g(e,["contents"],y)}const f=p(t,["systemInstruction"]);e!==void 0&&f!=null&&g(e,["systemInstruction"],Kg(Mr(f)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(w=>J_(w))),g(e,["tools"],y)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],Y_(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function A_(t,e){const i={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const a=p(t,["expireTime"]);e!==void 0&&a!=null&&g(e,["expireTime"],a);const l=p(t,["displayName"]);e!==void 0&&l!=null&&g(e,["displayName"],l);const c=p(t,["contents"]);if(e!==void 0&&c!=null){let w=Uo(c);Array.isArray(w)&&(w=w.map(E=>E)),g(e,["contents"],w)}const f=p(t,["systemInstruction"]);e!==void 0&&f!=null&&g(e,["systemInstruction"],Mr(f));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>W_(E))),g(e,["tools"],w)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const y=p(t,["kmsKeyName"]);return e!==void 0&&y!=null&&g(e,["encryption_spec","kmsKeyName"],y),i}function E_(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["model"],u5(t,o));const a=p(e,["config"]);return a!=null&&__(a,i),i}function C_(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["model"],u5(t,o));const a=p(e,["config"]);return a!=null&&A_(a,i),i}function T_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],xs(t,o)),i}function N_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],xs(t,o)),i}function M_(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function k_(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function L_(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["fileUri"]);i!=null&&g(e,["fileUri"],i);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function R_(t){const e={},i=p(t,["id"]);i!=null&&g(e,["id"],i);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const a=p(t,["name"]);if(a!=null&&g(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I_(t){const e={},i=p(t,["mode"]);i!=null&&g(e,["mode"],i);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function D_(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const l=p(t,["parametersJsonSchema"]);l!=null&&g(e,["parametersJsonSchema"],l);const c=p(t,["response"]);c!=null&&g(e,["response"],c);const f=p(t,["responseJsonSchema"]);return f!=null&&g(e,["responseJsonSchema"],f),e}function P_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],xs(t,o)),i}function U_(t,e){const i={},o=p(e,["name"]);return o!=null&&g(i,["_url","name"],xs(t,o)),i}function F_(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(t,["enableWidget"]);return i!=null&&g(e,["enableWidget"],i),e}function B_(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(t,["timeRangeFilter"]);return i!=null&&g(e,["timeRangeFilter"],i),e}function q_(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),i}function O_(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),i}function z_(t){const e={},i=p(t,["config"]);return i!=null&&q_(i,e),e}function H_(t){const e={},i=p(t,["config"]);return i!=null&&O_(i,e),e}function G_(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["cachedContents"],l)}return e}function V_(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["cachedContents"],l)}return e}function j_(t){const e={},i=p(t,["mediaResolution"]);i!=null&&g(e,["mediaResolution"],i);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&g(e,["executableCode"],a);const l=p(t,["fileData"]);l!=null&&g(e,["fileData"],L_(l));const c=p(t,["functionCall"]);c!=null&&g(e,["functionCall"],R_(c));const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],S_(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const y=p(t,["thought"]);y!=null&&g(e,["thought"],y);const w=p(t,["thoughtSignature"]);w!=null&&g(e,["thoughtSignature"],w);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function Y_(t){const e={},i=p(t,["functionCallingConfig"]);i!=null&&g(e,["functionCallingConfig"],I_(i));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function J_(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(w=>w)),g(e,["functionDeclarations"],y)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);a!=null&&g(e,["computerUse"],a);const l=p(t,["fileSearch"]);l!=null&&g(e,["fileSearch"],l);const c=p(t,["codeExecution"]);if(c!=null&&g(e,["codeExecution"],c),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],F_(f));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],B_(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function W_(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let w=i;Array.isArray(w)&&(w=w.map(E=>D_(E))),g(e,["functionDeclarations"],w)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],a);const l=p(t,["computerUse"]);if(l!=null&&g(e,["computerUse"],l),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(t,["codeExecution"]);c!=null&&g(e,["codeExecution"],c);const f=p(t,["enterpriseWebSearch"]);f!=null&&g(e,["enterpriseWebSearch"],f);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const y=p(t,["urlContext"]);return y!=null&&g(e,["urlContext"],y),e}function K_(t,e){const i={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const a=p(t,["expireTime"]);return e!==void 0&&a!=null&&g(e,["expireTime"],a),i}function $_(t,e){const i={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const a=p(t,["expireTime"]);return e!==void 0&&a!=null&&g(e,["expireTime"],a),i}function X_(t,e){const i={},o=p(e,["name"]);o!=null&&g(i,["_url","name"],xs(t,o));const a=p(e,["config"]);return a!=null&&K_(a,i),i}function Z_(t,e){const i={},o=p(e,["name"]);o!=null&&g(i,["_url","name"],xs(t,o));const a=p(e,["config"]);return a!=null&&$_(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_ extends vs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yl(ys.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=C_(this.apiClient,e);return f=xt("cachedContents",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const d=E_(this.apiClient,e);return f=xt("cachedContents",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=U_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const d=P_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=N_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=k_(y),E=new Hg;return Object.assign(E,w),E})}else{const d=T_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=M_(y),E=new Hg;return Object.assign(E,w),E})}}async update(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=Z_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const d=X_(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=H_(e);return f=xt("cachedContents",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=V_(y),E=new Gg;return Object.assign(E,w),E})}else{const d=z_(e);return f=xt("cachedContents",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=G_(y),E=new Gg;return Object.assign(E,w),E})}}}function $g(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function $u(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(S){return function(U){return Promise.resolve(U).then(S,w)}}function f(S,U){o[S]&&(a[S]=function(N){return new Promise(function(B,L){l.push([S,N,B,L])>1||h(S,N)})},U&&(a[S]=U(a[S])))}function h(S,U){try{d(o[S](U))}catch(N){E(l[0][3],N)}}function d(S){S.value instanceof si?Promise.resolve(S.value.v).then(y,w):E(l[0][2],S)}function y(S){h("next",S)}function w(S){h("throw",S)}function E(S,U){S(U),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Yc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof $g=="function"?$g(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=t[l]&&function(c){return new Promise(function(f,h){c=t[l](c),a(f,h,c.done,c.value)})}}function a(l,c,f,h){Promise.resolve(h).then(function(d){l({value:d,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e4(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:S5(i)}function S5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function t4(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xg(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let l=!0;for(;o<i&&t[o].role==="model";)a.push(t[o]),l&&!S5(t[o])&&(l=!1),o++;l?e.push(...a):e.pop()}return e}class n4{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new i4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class i4{constructor(e,i,o,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),t4(l)}async sendMessage(e){var i;await this.sendPromise;const o=Mr(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const h=await a,d=(c=(l=h.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=h.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let E=[];y!=null&&(E=(f=y.slice(w))!==null&&f!==void 0?f:[]);const S=d?[d]:[];this.recordHistory(o,S,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=Mr(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?Xg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var o,a;return $u(this,arguments,function*(){var c,f,h,d;const y=[];try{for(var w=!0,E=Yc(e),S;S=yield si(E.next()),c=S.done,!c;w=!0){d=S.value,w=!1;const U=d;if(e4(U)){const N=(a=(o=U.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;N!==void 0&&y.push(N)}yield yield si(U)}}catch(U){f={error:U}}finally{try{!w&&!c&&(h=E.return)&&(yield si(h.call(E)))}finally{if(f)throw f.error}}this.recordHistory(i,y)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Xg(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r4(t){const e={},i=p(t,["file"]);return i!=null&&g(e,["file"],i),e}function o4(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function a4(t){const e={},i=p(t,["name"]);return i!=null&&g(e,["_url","file"],m5(i)),e}function s4(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function l4(t){const e={},i=p(t,["name"]);return i!=null&&g(e,["_url","file"],m5(i)),e}function u4(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),i}function c4(t){const e={},i=p(t,["config"]);return i!=null&&u4(i,e),e}function f4(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d4 extends vs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yl(ys.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=c4(e);return l=xt("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const d=f4(h),y=new gS;return Object.assign(y,d),y})}}async createInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=r4(e);return l=xt("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=o4(h),y=new yS;return Object.assign(y,d),y})}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=l4(e);return l=xt("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=a4(e);return l=xt("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const d=s4(h),y=new vS;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sd(t){const e={},i=p(t,["data"]);if(i!=null&&g(e,["data"],i),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function h4(t){const e={},i=p(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>M4(l))),g(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function p4(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["fileUri"]);i!=null&&g(e,["fileUri"],i);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function m4(t){const e={},i=p(t,["id"]);i!=null&&g(e,["id"],i);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const a=p(t,["name"]);if(a!=null&&g(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function g4(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const l=p(t,["parametersJsonSchema"]);l!=null&&g(e,["parametersJsonSchema"],l);const c=p(t,["response"]);c!=null&&g(e,["response"],c);const f=p(t,["responseJsonSchema"]);return f!=null&&g(e,["responseJsonSchema"],f),e}function y4(t){const e={},i=p(t,["modelSelectionConfig"]);i!=null&&g(e,["modelConfig"],i);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const a=p(t,["audioTimestamp"]);a!=null&&g(e,["audioTimestamp"],a);const l=p(t,["candidateCount"]);l!=null&&g(e,["candidateCount"],l);const c=p(t,["enableAffectiveDialog"]);c!=null&&g(e,["enableAffectiveDialog"],c);const f=p(t,["frequencyPenalty"]);f!=null&&g(e,["frequencyPenalty"],f);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const y=p(t,["mediaResolution"]);y!=null&&g(e,["mediaResolution"],y);const w=p(t,["presencePenalty"]);w!=null&&g(e,["presencePenalty"],w);const E=p(t,["responseLogprobs"]);E!=null&&g(e,["responseLogprobs"],E);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const U=p(t,["responseModalities"]);U!=null&&g(e,["responseModalities"],U);const N=p(t,["responseSchema"]);N!=null&&g(e,["responseSchema"],N);const B=p(t,["routingConfig"]);B!=null&&g(e,["routingConfig"],B);const L=p(t,["seed"]);L!=null&&g(e,["seed"],L);const R=p(t,["speechConfig"]);R!=null&&g(e,["speechConfig"],_5(R));const D=p(t,["stopSequences"]);D!=null&&g(e,["stopSequences"],D);const J=p(t,["temperature"]);J!=null&&g(e,["temperature"],J);const le=p(t,["thinkingConfig"]);le!=null&&g(e,["thinkingConfig"],le);const pe=p(t,["topK"]);pe!=null&&g(e,["topK"],pe);const ue=p(t,["topP"]);if(ue!=null&&g(e,["topP"],ue),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function v4(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(t,["enableWidget"]);return i!=null&&g(e,["enableWidget"],i),e}function x4(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(t,["timeRangeFilter"]);return i!=null&&g(e,["timeRangeFilter"],i),e}function b4(t,e){const i={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","responseModalities"],a);const l=p(t,["temperature"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","temperature"],l);const c=p(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const f=p(t,["topK"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","topK"],f);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const y=p(t,["seed"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","seed"],y);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","speechConfig"],Hp(w));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const U=p(t,["systemInstruction"]);e!==void 0&&U!=null&&g(e,["setup","systemInstruction"],h4(Mr(U)));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let pe=tc(N);Array.isArray(pe)&&(pe=pe.map(ue=>L4(ec(ue)))),g(e,["setup","tools"],pe)}const B=p(t,["sessionResumption"]);e!==void 0&&B!=null&&g(e,["setup","sessionResumption"],k4(B));const L=p(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","outputAudioTranscription"],R);const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const J=p(t,["contextWindowCompression"]);e!==void 0&&J!=null&&g(e,["setup","contextWindowCompression"],J);const le=p(t,["proactivity"]);return e!==void 0&&le!=null&&g(e,["setup","proactivity"],le),i}function w4(t,e){const i={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],y4(o));const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","responseModalities"],a);const l=p(t,["temperature"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","temperature"],l);const c=p(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const f=p(t,["topK"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","topK"],f);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const y=p(t,["seed"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","seed"],y);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","speechConfig"],_5(Hp(w)));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const U=p(t,["systemInstruction"]);e!==void 0&&U!=null&&g(e,["setup","systemInstruction"],Mr(U));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let pe=tc(N);Array.isArray(pe)&&(pe=pe.map(ue=>R4(ec(ue)))),g(e,["setup","tools"],pe)}const B=p(t,["sessionResumption"]);e!==void 0&&B!=null&&g(e,["setup","sessionResumption"],B);const L=p(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","outputAudioTranscription"],R);const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const J=p(t,["contextWindowCompression"]);e!==void 0&&J!=null&&g(e,["setup","contextWindowCompression"],J);const le=p(t,["proactivity"]);return e!==void 0&&le!=null&&g(e,["setup","proactivity"],le),i}function S4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["setup","model"],Dn(t,o));const a=p(e,["config"]);return a!=null&&g(i,["config"],b4(a,i)),i}function _4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["setup","model"],Dn(t,o));const a=p(e,["config"]);return a!=null&&g(i,["config"],w4(a,i)),i}function A4(t){const e={},i=p(t,["musicGenerationConfig"]);return i!=null&&g(e,["musicGenerationConfig"],i),e}function E4(t){const e={},i=p(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["weightedPrompts"],o)}return e}function C4(t){const e={},i=p(t,["media"]);if(i!=null){let d=c5(i);Array.isArray(d)&&(d=d.map(y=>sd(y))),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],sd(d5(o)));const a=p(t,["audioStreamEnd"]);a!=null&&g(e,["audioStreamEnd"],a);const l=p(t,["video"]);l!=null&&g(e,["video"],sd(f5(l)));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const f=p(t,["activityStart"]);f!=null&&g(e,["activityStart"],f);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function T4(t){const e={},i=p(t,["media"]);if(i!=null){let d=c5(i);Array.isArray(d)&&(d=d.map(y=>y)),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],d5(o));const a=p(t,["audioStreamEnd"]);a!=null&&g(e,["audioStreamEnd"],a);const l=p(t,["video"]);l!=null&&g(e,["video"],f5(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const f=p(t,["activityStart"]);f!=null&&g(e,["activityStart"],f);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function N4(t){const e={},i=p(t,["setupComplete"]);i!=null&&g(e,["setupComplete"],i);const o=p(t,["serverContent"]);o!=null&&g(e,["serverContent"],o);const a=p(t,["toolCall"]);a!=null&&g(e,["toolCall"],a);const l=p(t,["toolCallCancellation"]);l!=null&&g(e,["toolCallCancellation"],l);const c=p(t,["usageMetadata"]);c!=null&&g(e,["usageMetadata"],I4(c));const f=p(t,["goAway"]);f!=null&&g(e,["goAway"],f);const h=p(t,["sessionResumptionUpdate"]);return h!=null&&g(e,["sessionResumptionUpdate"],h),e}function M4(t){const e={},i=p(t,["mediaResolution"]);i!=null&&g(e,["mediaResolution"],i);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&g(e,["executableCode"],a);const l=p(t,["fileData"]);l!=null&&g(e,["fileData"],p4(l));const c=p(t,["functionCall"]);c!=null&&g(e,["functionCall"],m4(c));const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],sd(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const y=p(t,["thought"]);y!=null&&g(e,["thought"],y);const w=p(t,["thoughtSignature"]);w!=null&&g(e,["thoughtSignature"],w);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function k4(t){const e={},i=p(t,["handle"]);if(i!=null&&g(e,["handle"],i),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _5(t){const e={},i=p(t,["languageCode"]);i!=null&&g(e,["languageCode"],i);const o=p(t,["voiceConfig"]);if(o!=null&&g(e,["voiceConfig"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function L4(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(w=>w)),g(e,["functionDeclarations"],y)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);a!=null&&g(e,["computerUse"],a);const l=p(t,["fileSearch"]);l!=null&&g(e,["fileSearch"],l);const c=p(t,["codeExecution"]);if(c!=null&&g(e,["codeExecution"],c),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],v4(f));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],x4(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function R4(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let w=i;Array.isArray(w)&&(w=w.map(E=>g4(E))),g(e,["functionDeclarations"],w)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],a);const l=p(t,["computerUse"]);if(l!=null&&g(e,["computerUse"],l),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(t,["codeExecution"]);c!=null&&g(e,["codeExecution"],c);const f=p(t,["enterpriseWebSearch"]);f!=null&&g(e,["enterpriseWebSearch"],f);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const y=p(t,["urlContext"]);return y!=null&&g(e,["urlContext"],y),e}function I4(t){const e={},i=p(t,["promptTokenCount"]);i!=null&&g(e,["promptTokenCount"],i);const o=p(t,["cachedContentTokenCount"]);o!=null&&g(e,["cachedContentTokenCount"],o);const a=p(t,["candidatesTokenCount"]);a!=null&&g(e,["responseTokenCount"],a);const l=p(t,["toolUsePromptTokenCount"]);l!=null&&g(e,["toolUsePromptTokenCount"],l);const c=p(t,["thoughtsTokenCount"]);c!=null&&g(e,["thoughtsTokenCount"],c);const f=p(t,["totalTokenCount"]);f!=null&&g(e,["totalTokenCount"],f);const h=p(t,["promptTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(U=>U)),g(e,["promptTokensDetails"],S)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(U=>U)),g(e,["cacheTokensDetails"],S)}const y=p(t,["candidatesTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(U=>U)),g(e,["responseTokensDetails"],S)}const w=p(t,["toolUsePromptTokensDetails"]);if(w!=null){let S=w;Array.isArray(S)&&(S=S.map(U=>U)),g(e,["toolUsePromptTokensDetails"],S)}const E=p(t,["trafficType"]);return E!=null&&g(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D4(t){const e={},i=p(t,["data"]);if(i!=null&&g(e,["data"],i),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function P4(t){const e={},i=p(t,["content"]);i!=null&&g(e,["content"],i);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],U4(o));const a=p(t,["tokenCount"]);a!=null&&g(e,["tokenCount"],a);const l=p(t,["finishReason"]);l!=null&&g(e,["finishReason"],l);const c=p(t,["avgLogprobs"]);c!=null&&g(e,["avgLogprobs"],c);const f=p(t,["groundingMetadata"]);f!=null&&g(e,["groundingMetadata"],f);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const y=p(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>S)),g(e,["safetyRatings"],E)}const w=p(t,["urlContextMetadata"]);return w!=null&&g(e,["urlContextMetadata"],w),e}function U4(t){const e={},i=p(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),g(e,["citations"],o)}return e}function F4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let l=Uo(a);Array.isArray(l)&&(l=l.map(c=>c)),g(i,["contents"],l)}return i}function B4(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["tokensInfo"],a)}return e}function q4(t){const e={},i=p(t,["values"]);i!=null&&g(e,["values"],i);const o=p(t,["statistics"]);return o!=null&&g(e,["statistics"],O4(o)),e}function O4(t){const e={},i=p(t,["truncated"]);i!=null&&g(e,["truncated"],i);const o=p(t,["token_count"]);return o!=null&&g(e,["tokenCount"],o),e}function xd(t){const e={},i=p(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>KA(l))),g(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function z4(t){const e={},i=p(t,["controlType"]);i!=null&&g(e,["controlType"],i);const o=p(t,["enableControlImageComputation"]);return o!=null&&g(e,["computeControl"],o),e}function H4(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function G4(t,e){const i={},o=p(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],Mr(o));const a=p(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>N5(f))),g(e,["tools"],c)}const l=p(t,["generationConfig"]);return e!==void 0&&l!=null&&g(e,["generationConfig"],DA(l)),i}function V4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let c=Uo(a);Array.isArray(c)&&(c=c.map(f=>xd(f))),g(i,["contents"],c)}const l=p(e,["config"]);return l!=null&&H4(l),i}function j4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let c=Uo(a);Array.isArray(c)&&(c=c.map(f=>f)),g(i,["contents"],c)}const l=p(e,["config"]);return l!=null&&G4(l,i),i}function Y4(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["totalTokens"]);o!=null&&g(e,["totalTokens"],o);const a=p(t,["cachedContentTokenCount"]);return a!=null&&g(e,["cachedContentTokenCount"],a),e}function J4(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["totalTokens"]);return o!=null&&g(e,["totalTokens"],o),e}function W4(t,e){const i={},o=p(e,["model"]);return o!=null&&g(i,["_url","name"],Dn(t,o)),i}function K4(t,e){const i={},o=p(e,["model"]);return o!=null&&g(i,["_url","name"],Dn(t,o)),i}function $4(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function X4(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}function Z4(t,e){const i={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=p(t,["negativePrompt"]);e!==void 0&&a!=null&&g(e,["parameters","negativePrompt"],a);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const f=p(t,["guidanceScale"]);e!==void 0&&f!=null&&g(e,["parameters","guidanceScale"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&g(e,["parameters","personGeneration"],y);const w=p(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&g(e,["parameters","includeSafetyAttributes"],w);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&g(e,["parameters","includeRaiReason"],E);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const U=p(t,["outputMimeType"]);e!==void 0&&U!=null&&g(e,["parameters","outputOptions","mimeType"],U);const N=p(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&g(e,["parameters","outputOptions","compressionQuality"],N);const B=p(t,["addWatermark"]);e!==void 0&&B!=null&&g(e,["parameters","addWatermark"],B);const L=p(t,["labels"]);e!==void 0&&L!=null&&g(e,["labels"],L);const R=p(t,["editMode"]);e!==void 0&&R!=null&&g(e,["parameters","editMode"],R);const D=p(t,["baseSteps"]);return e!==void 0&&D!=null&&g(e,["parameters","editConfig","baseSteps"],D),i}function Q4(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const l=p(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>tE(h))),g(i,["instances[0]","referenceImages"],f)}const c=p(e,["config"]);return c!=null&&Z4(c,i),i}function eA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>bd(l))),g(e,["generatedImages"],a)}return e}function tA(t,e){const i={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const a=p(t,["title"]);e!==void 0&&a!=null&&g(e,["requests[]","title"],a);const l=p(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function nA(t,e){const i={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["instances[]","task_type"],o);const a=p(t,["title"]);e!==void 0&&a!=null&&g(e,["instances[]","title"],a);const l=p(t,["outputDimensionality"]);e!==void 0&&l!=null&&g(e,["parameters","outputDimensionality"],l);const c=p(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const f=p(t,["autoTruncate"]);return e!==void 0&&f!=null&&g(e,["parameters","autoTruncate"],f),i}function iA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let f=qp(t,a);Array.isArray(f)&&(f=f.map(h=>h)),g(i,["requests[]","content"],f)}const l=p(e,["config"]);l!=null&&tA(l,i);const c=p(e,["model"]);return c!==void 0&&g(i,["requests[]","model"],Dn(t,c)),i}function rA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let c=qp(t,a);Array.isArray(c)&&(c=c.map(f=>f)),g(i,["instances[]","content"],c)}const l=p(e,["config"]);return l!=null&&nA(l,i),i}function oA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["embeddings"],l)}const a=p(t,["metadata"]);return a!=null&&g(e,["metadata"],a),e}function aA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>q4(c))),g(e,["embeddings"],l)}const a=p(t,["metadata"]);return a!=null&&g(e,["metadata"],a),e}function sA(t){const e={},i=p(t,["endpoint"]);i!=null&&g(e,["name"],i);const o=p(t,["deployedModelId"]);return o!=null&&g(e,["deployedModelId"],o),e}function lA(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["fileUri"]);i!=null&&g(e,["fileUri"],i);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function uA(t){const e={},i=p(t,["id"]);i!=null&&g(e,["id"],i);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const a=p(t,["name"]);if(a!=null&&g(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cA(t){const e={},i=p(t,["mode"]);i!=null&&g(e,["mode"],i);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fA(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const l=p(t,["parametersJsonSchema"]);l!=null&&g(e,["parametersJsonSchema"],l);const c=p(t,["response"]);c!=null&&g(e,["response"],c);const f=p(t,["responseJsonSchema"]);return f!=null&&g(e,["responseJsonSchema"],f),e}function dA(t,e,i){const o={},a=p(e,["systemInstruction"]);i!==void 0&&a!=null&&g(i,["systemInstruction"],xd(Mr(a)));const l=p(e,["temperature"]);l!=null&&g(o,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(o,["topP"],c);const f=p(e,["topK"]);f!=null&&g(o,["topK"],f);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const y=p(e,["stopSequences"]);y!=null&&g(o,["stopSequences"],y);const w=p(e,["responseLogprobs"]);w!=null&&g(o,["responseLogprobs"],w);const E=p(e,["logprobs"]);E!=null&&g(o,["logprobs"],E);const S=p(e,["presencePenalty"]);S!=null&&g(o,["presencePenalty"],S);const U=p(e,["frequencyPenalty"]);U!=null&&g(o,["frequencyPenalty"],U);const N=p(e,["seed"]);N!=null&&g(o,["seed"],N);const B=p(e,["responseMimeType"]);B!=null&&g(o,["responseMimeType"],B);const L=p(e,["responseSchema"]);L!=null&&g(o,["responseSchema"],Op(L));const R=p(e,["responseJsonSchema"]);if(R!=null&&g(o,["responseJsonSchema"],R),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=p(e,["safetySettings"]);if(i!==void 0&&D!=null){let V=D;Array.isArray(V)&&(V=V.map(oe=>nE(oe))),g(i,["safetySettings"],V)}const J=p(e,["tools"]);if(i!==void 0&&J!=null){let V=tc(J);Array.isArray(V)&&(V=V.map(oe=>uE(ec(oe)))),g(i,["tools"],V)}const le=p(e,["toolConfig"]);if(i!==void 0&&le!=null&&g(i,["toolConfig"],lE(le)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=p(e,["cachedContent"]);i!==void 0&&pe!=null&&g(i,["cachedContent"],xs(t,pe));const ue=p(e,["responseModalities"]);ue!=null&&g(o,["responseModalities"],ue);const se=p(e,["mediaResolution"]);se!=null&&g(o,["mediaResolution"],se);const K=p(e,["speechConfig"]);if(K!=null&&g(o,["speechConfig"],zp(K)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=p(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const F=p(e,["imageConfig"]);return F!=null&&g(o,["imageConfig"],qA(F)),o}function hA(t,e,i){const o={},a=p(e,["systemInstruction"]);i!==void 0&&a!=null&&g(i,["systemInstruction"],Mr(a));const l=p(e,["temperature"]);l!=null&&g(o,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(o,["topP"],c);const f=p(e,["topK"]);f!=null&&g(o,["topK"],f);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const y=p(e,["stopSequences"]);y!=null&&g(o,["stopSequences"],y);const w=p(e,["responseLogprobs"]);w!=null&&g(o,["responseLogprobs"],w);const E=p(e,["logprobs"]);E!=null&&g(o,["logprobs"],E);const S=p(e,["presencePenalty"]);S!=null&&g(o,["presencePenalty"],S);const U=p(e,["frequencyPenalty"]);U!=null&&g(o,["frequencyPenalty"],U);const N=p(e,["seed"]);N!=null&&g(o,["seed"],N);const B=p(e,["responseMimeType"]);B!=null&&g(o,["responseMimeType"],B);const L=p(e,["responseSchema"]);L!=null&&g(o,["responseSchema"],Op(L));const R=p(e,["responseJsonSchema"]);R!=null&&g(o,["responseJsonSchema"],R);const D=p(e,["routingConfig"]);D!=null&&g(o,["routingConfig"],D);const J=p(e,["modelSelectionConfig"]);J!=null&&g(o,["modelConfig"],J);const le=p(e,["safetySettings"]);if(i!==void 0&&le!=null){let Z=le;Array.isArray(Z)&&(Z=Z.map(de=>de)),g(i,["safetySettings"],Z)}const pe=p(e,["tools"]);if(i!==void 0&&pe!=null){let Z=tc(pe);Array.isArray(Z)&&(Z=Z.map(de=>N5(ec(de)))),g(i,["tools"],Z)}const ue=p(e,["toolConfig"]);i!==void 0&&ue!=null&&g(i,["toolConfig"],ue);const se=p(e,["labels"]);i!==void 0&&se!=null&&g(i,["labels"],se);const K=p(e,["cachedContent"]);i!==void 0&&K!=null&&g(i,["cachedContent"],xs(t,K));const X=p(e,["responseModalities"]);X!=null&&g(o,["responseModalities"],X);const F=p(e,["mediaResolution"]);F!=null&&g(o,["mediaResolution"],F);const V=p(e,["speechConfig"]);V!=null&&g(o,["speechConfig"],T5(zp(V)));const oe=p(e,["audioTimestamp"]);oe!=null&&g(o,["audioTimestamp"],oe);const ae=p(e,["thinkingConfig"]);ae!=null&&g(o,["thinkingConfig"],ae);const Te=p(e,["imageConfig"]);return Te!=null&&g(o,["imageConfig"],OA(Te)),o}function Zg(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let c=Uo(a);Array.isArray(c)&&(c=c.map(f=>xd(f))),g(i,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(i,["generationConfig"],dA(t,l,i)),i}function Qg(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["contents"]);if(a!=null){let c=Uo(a);Array.isArray(c)&&(c=c.map(f=>f)),g(i,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(i,["generationConfig"],hA(t,l,i)),i}function ey(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>P4(d))),g(e,["candidates"],h)}const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const f=p(t,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function ty(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(y=>y)),g(e,["candidates"],d)}const a=p(t,["createTime"]);a!=null&&g(e,["createTime"],a);const l=p(t,["modelVersion"]);l!=null&&g(e,["modelVersion"],l);const c=p(t,["promptFeedback"]);c!=null&&g(e,["promptFeedback"],c);const f=p(t,["responseId"]);f!=null&&g(e,["responseId"],f);const h=p(t,["usageMetadata"]);return h!=null&&g(e,["usageMetadata"],h),e}function pA(t,e){const i={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const l=p(t,["guidanceScale"]);if(e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const E=p(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function mA(t,e){const i={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=p(t,["negativePrompt"]);e!==void 0&&a!=null&&g(e,["parameters","negativePrompt"],a);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const f=p(t,["guidanceScale"]);e!==void 0&&f!=null&&g(e,["parameters","guidanceScale"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&g(e,["parameters","personGeneration"],y);const w=p(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&g(e,["parameters","includeSafetyAttributes"],w);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&g(e,["parameters","includeRaiReason"],E);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const U=p(t,["outputMimeType"]);e!==void 0&&U!=null&&g(e,["parameters","outputOptions","mimeType"],U);const N=p(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&g(e,["parameters","outputOptions","compressionQuality"],N);const B=p(t,["addWatermark"]);e!==void 0&&B!=null&&g(e,["parameters","addWatermark"],B);const L=p(t,["labels"]);e!==void 0&&L!=null&&g(e,["labels"],L);const R=p(t,["imageSize"]);e!==void 0&&R!=null&&g(e,["parameters","sampleImageSize"],R);const D=p(t,["enhancePrompt"]);return e!==void 0&&D!=null&&g(e,["parameters","enhancePrompt"],D),i}function gA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const l=p(e,["config"]);return l!=null&&pA(l,i),i}function yA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const l=p(e,["config"]);return l!=null&&mA(l,i),i}function vA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>kA(c))),g(e,["generatedImages"],l)}const a=p(t,["positivePromptSafetyAttributes"]);return a!=null&&g(e,["positivePromptSafetyAttributes"],E5(a)),e}function xA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>bd(c))),g(e,["generatedImages"],l)}const a=p(t,["positivePromptSafetyAttributes"]);return a!=null&&g(e,["positivePromptSafetyAttributes"],C5(a)),e}function bA(t,e){const i={},o=p(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=p(t,["durationSeconds"]);if(e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const f=p(t,["personGeneration"]);if(e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&g(e,["instances[0]","lastFrame"],wd(y));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let E=w;Array.isArray(E)&&(E=E.map(S=>SE(S))),g(e,["instances[0]","referenceImages"],E)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function wA(t,e){const i={},o=p(t,["numberOfVideos"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const l=p(t,["fps"]);e!==void 0&&l!=null&&g(e,["parameters","fps"],l);const c=p(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&g(e,["parameters","personGeneration"],y);const w=p(t,["pubsubTopic"]);e!==void 0&&w!=null&&g(e,["parameters","pubsubTopic"],w);const E=p(t,["negativePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","negativePrompt"],E);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const U=p(t,["generateAudio"]);e!==void 0&&U!=null&&g(e,["parameters","generateAudio"],U);const N=p(t,["lastFrame"]);e!==void 0&&N!=null&&g(e,["instances[0]","lastFrame"],ya(N));const B=p(t,["referenceImages"]);if(e!==void 0&&B!=null){let D=B;Array.isArray(D)&&(D=D.map(J=>_E(J))),g(e,["instances[0]","referenceImages"],D)}const L=p(t,["mask"]);e!==void 0&&L!=null&&g(e,["instances[0]","mask"],wE(L));const R=p(t,["compressionQuality"]);return e!==void 0&&R!=null&&g(e,["parameters","compressionQuality"],R),i}function SA(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response","generateVideoResponse"]);return c!=null&&g(e,["response"],CA(c)),e}function _A(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response"]);return c!=null&&g(e,["response"],TA(c)),e}function AA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const l=p(e,["image"]);l!=null&&g(i,["instances[0]","image"],wd(l));const c=p(e,["video"]);c!=null&&g(i,["instances[0]","video"],M5(c));const f=p(e,["source"]);f!=null&&NA(f,i);const h=p(e,["config"]);return h!=null&&bA(h,i),i}function EA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const l=p(e,["image"]);l!=null&&g(i,["instances[0]","image"],ya(l));const c=p(e,["video"]);c!=null&&g(i,["instances[0]","video"],k5(c));const f=p(e,["source"]);f!=null&&MA(f,i);const h=p(e,["config"]);return h!=null&&wA(h,i),i}function CA(t){const e={},i=p(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>RA(c))),g(e,["generatedVideos"],l)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&g(e,["raiMediaFilteredReasons"],a),e}function TA(t){const e={},i=p(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>IA(c))),g(e,["generatedVideos"],l)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&g(e,["raiMediaFilteredReasons"],a),e}function NA(t,e){const i={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const a=p(t,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],wd(a));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],M5(l)),i}function MA(t,e){const i={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const a=p(t,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],ya(a));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],k5(l)),i}function kA(t){const e={},i=p(t,["_self"]);i!=null&&g(e,["image"],zA(i));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const a=p(t,["_self"]);return a!=null&&g(e,["safetyAttributes"],E5(a)),e}function bd(t){const e={},i=p(t,["_self"]);i!=null&&g(e,["image"],A5(i));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const a=p(t,["_self"]);a!=null&&g(e,["safetyAttributes"],C5(a));const l=p(t,["prompt"]);return l!=null&&g(e,["enhancedPrompt"],l),e}function LA(t){const e={},i=p(t,["_self"]);i!=null&&g(e,["mask"],A5(i));const o=p(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["labels"],a)}return e}function RA(t){const e={},i=p(t,["video"]);return i!=null&&g(e,["video"],xE(i)),e}function IA(t){const e={},i=p(t,["_self"]);return i!=null&&g(e,["video"],bE(i)),e}function DA(t){const e={},i=p(t,["modelSelectionConfig"]);i!=null&&g(e,["modelConfig"],i);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const a=p(t,["audioTimestamp"]);a!=null&&g(e,["audioTimestamp"],a);const l=p(t,["candidateCount"]);l!=null&&g(e,["candidateCount"],l);const c=p(t,["enableAffectiveDialog"]);c!=null&&g(e,["enableAffectiveDialog"],c);const f=p(t,["frequencyPenalty"]);f!=null&&g(e,["frequencyPenalty"],f);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const y=p(t,["mediaResolution"]);y!=null&&g(e,["mediaResolution"],y);const w=p(t,["presencePenalty"]);w!=null&&g(e,["presencePenalty"],w);const E=p(t,["responseLogprobs"]);E!=null&&g(e,["responseLogprobs"],E);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const U=p(t,["responseModalities"]);U!=null&&g(e,["responseModalities"],U);const N=p(t,["responseSchema"]);N!=null&&g(e,["responseSchema"],N);const B=p(t,["routingConfig"]);B!=null&&g(e,["routingConfig"],B);const L=p(t,["seed"]);L!=null&&g(e,["seed"],L);const R=p(t,["speechConfig"]);R!=null&&g(e,["speechConfig"],T5(R));const D=p(t,["stopSequences"]);D!=null&&g(e,["stopSequences"],D);const J=p(t,["temperature"]);J!=null&&g(e,["temperature"],J);const le=p(t,["thinkingConfig"]);le!=null&&g(e,["thinkingConfig"],le);const pe=p(t,["topK"]);pe!=null&&g(e,["topK"],pe);const ue=p(t,["topP"]);if(ue!=null&&g(e,["topP"],ue),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PA(t,e){const i={},o=p(e,["model"]);return o!=null&&g(i,["_url","name"],Dn(t,o)),i}function UA(t,e){const i={},o=p(e,["model"]);return o!=null&&g(i,["_url","name"],Dn(t,o)),i}function FA(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(t,["enableWidget"]);return i!=null&&g(e,["enableWidget"],i),e}function BA(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(t,["timeRangeFilter"]);return i!=null&&g(e,["timeRangeFilter"],i),e}function qA(t){const e={},i=p(t,["aspectRatio"]);i!=null&&g(e,["aspectRatio"],i);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function OA(t){const e={},i=p(t,["aspectRatio"]);i!=null&&g(e,["aspectRatio"],i);const o=p(t,["imageSize"]);o!=null&&g(e,["imageSize"],o);const a=p(t,["outputMimeType"]);a!=null&&g(e,["imageOutputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);return l!=null&&g(e,["imageOutputOptions","compressionQuality"],l),e}function zA(t){const e={},i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],ol(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function A5(t){const e={},i=p(t,["gcsUri"]);i!=null&&g(e,["gcsUri"],i);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["imageBytes"],ol(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["mimeType"],a),e}function wd(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],ol(i));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function ya(t){const e={},i=p(t,["gcsUri"]);i!=null&&g(e,["gcsUri"],i);const o=p(t,["imageBytes"]);o!=null&&g(e,["bytesBase64Encoded"],ol(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["mimeType"],a),e}function HA(t,e,i){const o={},a=p(e,["pageSize"]);i!==void 0&&a!=null&&g(i,["_query","pageSize"],a);const l=p(e,["pageToken"]);i!==void 0&&l!=null&&g(i,["_query","pageToken"],l);const c=p(e,["filter"]);i!==void 0&&c!=null&&g(i,["_query","filter"],c);const f=p(e,["queryBase"]);return i!==void 0&&f!=null&&g(i,["_url","models_url"],g5(t,f)),o}function GA(t,e,i){const o={},a=p(e,["pageSize"]);i!==void 0&&a!=null&&g(i,["_query","pageSize"],a);const l=p(e,["pageToken"]);i!==void 0&&l!=null&&g(i,["_query","pageToken"],l);const c=p(e,["filter"]);i!==void 0&&c!=null&&g(i,["_query","filter"],c);const f=p(e,["queryBase"]);return i!==void 0&&f!=null&&g(i,["_url","models_url"],g5(t,f)),o}function VA(t,e){const i={},o=p(e,["config"]);return o!=null&&HA(t,o,i),i}function jA(t,e){const i={},o=p(e,["config"]);return o!=null&&GA(t,o,i),i}function YA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["_self"]);if(a!=null){let l=y5(a);Array.isArray(l)&&(l=l.map(c=>Cp(c))),g(e,["models"],l)}return e}function JA(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["_self"]);if(a!=null){let l=y5(a);Array.isArray(l)&&(l=l.map(c=>Tp(c))),g(e,["models"],l)}return e}function WA(t){const e={},i=p(t,["maskMode"]);i!=null&&g(e,["maskMode"],i);const o=p(t,["segmentationClasses"]);o!=null&&g(e,["maskClasses"],o);const a=p(t,["maskDilation"]);return a!=null&&g(e,["dilation"],a),e}function Cp(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const a=p(t,["description"]);a!=null&&g(e,["description"],a);const l=p(t,["version"]);l!=null&&g(e,["version"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],cE(c));const f=p(t,["inputTokenLimit"]);f!=null&&g(e,["inputTokenLimit"],f);const h=p(t,["outputTokenLimit"]);h!=null&&g(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const y=p(t,["temperature"]);y!=null&&g(e,["temperature"],y);const w=p(t,["maxTemperature"]);w!=null&&g(e,["maxTemperature"],w);const E=p(t,["topP"]);E!=null&&g(e,["topP"],E);const S=p(t,["topK"]);S!=null&&g(e,["topK"],S);const U=p(t,["thinking"]);return U!=null&&g(e,["thinking"],U),e}function Tp(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const a=p(t,["description"]);a!=null&&g(e,["description"],a);const l=p(t,["versionId"]);l!=null&&g(e,["version"],l);const c=p(t,["deployedModels"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(E=>sA(E))),g(e,["endpoints"],w)}const f=p(t,["labels"]);f!=null&&g(e,["labels"],f);const h=p(t,["_self"]);h!=null&&g(e,["tunedModelInfo"],fE(h));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const y=p(t,["checkpoints"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>E)),g(e,["checkpoints"],w)}return e}function KA(t){const e={},i=p(t,["mediaResolution"]);i!=null&&g(e,["mediaResolution"],i);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&g(e,["executableCode"],a);const l=p(t,["fileData"]);l!=null&&g(e,["fileData"],lA(l));const c=p(t,["functionCall"]);c!=null&&g(e,["functionCall"],uA(c));const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],D4(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const y=p(t,["thought"]);y!=null&&g(e,["thought"],y);const w=p(t,["thoughtSignature"]);w!=null&&g(e,["thoughtSignature"],w);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function $A(t){const e={},i=p(t,["productImage"]);return i!=null&&g(e,["image"],ya(i)),e}function XA(t,e){const i={},o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const a=p(t,["baseSteps"]);e!==void 0&&a!=null&&g(e,["parameters","baseSteps"],a);const l=p(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&g(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const S=p(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),i}function ZA(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["source"]);a!=null&&eE(a,i);const l=p(e,["config"]);return l!=null&&XA(l,i),i}function QA(t){const e={},i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>bd(a))),g(e,["generatedImages"],o)}return e}function eE(t,e){const i={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const a=p(t,["personImage"]);e!==void 0&&a!=null&&g(e,["instances[0]","personImage","image"],ya(a));const l=p(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>$A(f))),g(e,["instances[0]","productImages"],c)}return i}function tE(t){const e={},i=p(t,["referenceImage"]);i!=null&&g(e,["referenceImage"],ya(i));const o=p(t,["referenceId"]);o!=null&&g(e,["referenceId"],o);const a=p(t,["referenceType"]);a!=null&&g(e,["referenceType"],a);const l=p(t,["maskImageConfig"]);l!=null&&g(e,["maskImageConfig"],WA(l));const c=p(t,["controlImageConfig"]);c!=null&&g(e,["controlImageConfig"],z4(c));const f=p(t,["styleImageConfig"]);f!=null&&g(e,["styleImageConfig"],f);const h=p(t,["subjectImageConfig"]);return h!=null&&g(e,["subjectImageConfig"],h),e}function E5(t){const e={},i=p(t,["safetyAttributes","categories"]);i!=null&&g(e,["categories"],i);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const a=p(t,["contentType"]);return a!=null&&g(e,["contentType"],a),e}function C5(t){const e={},i=p(t,["safetyAttributes","categories"]);i!=null&&g(e,["categories"],i);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const a=p(t,["contentType"]);return a!=null&&g(e,["contentType"],a),e}function nE(t){const e={},i=p(t,["category"]);if(i!=null&&g(e,["category"],i),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function iE(t){const e={},i=p(t,["image"]);return i!=null&&g(e,["image"],ya(i)),e}function rE(t,e){const i={},o=p(t,["mode"]);e!==void 0&&o!=null&&g(e,["parameters","mode"],o);const a=p(t,["maxPredictions"]);e!==void 0&&a!=null&&g(e,["parameters","maxPredictions"],a);const l=p(t,["confidenceThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","confidenceThreshold"],l);const c=p(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const f=p(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&g(e,["parameters","binaryColorThreshold"],f);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),i}function oE(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["source"]);a!=null&&sE(a,i);const l=p(e,["config"]);return l!=null&&rE(l,i),i}function aE(t){const e={},i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>LA(a))),g(e,["generatedMasks"],o)}return e}function sE(t,e){const i={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const a=p(t,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],ya(a));const l=p(t,["scribbleImage"]);return e!==void 0&&l!=null&&g(e,["instances[0]","scribble"],iE(l)),i}function T5(t){const e={},i=p(t,["languageCode"]);i!=null&&g(e,["languageCode"],i);const o=p(t,["voiceConfig"]);if(o!=null&&g(e,["voiceConfig"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function lE(t){const e={},i=p(t,["functionCallingConfig"]);i!=null&&g(e,["functionCallingConfig"],cA(i));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function uE(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(w=>w)),g(e,["functionDeclarations"],y)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);a!=null&&g(e,["computerUse"],a);const l=p(t,["fileSearch"]);l!=null&&g(e,["fileSearch"],l);const c=p(t,["codeExecution"]);if(c!=null&&g(e,["codeExecution"],c),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],FA(f));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],BA(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function N5(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let w=i;Array.isArray(w)&&(w=w.map(E=>fA(E))),g(e,["functionDeclarations"],w)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],a);const l=p(t,["computerUse"]);if(l!=null&&g(e,["computerUse"],l),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=p(t,["codeExecution"]);c!=null&&g(e,["codeExecution"],c);const f=p(t,["enterpriseWebSearch"]);f!=null&&g(e,["enterpriseWebSearch"],f);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const y=p(t,["urlContext"]);return y!=null&&g(e,["urlContext"],y),e}function cE(t){const e={},i=p(t,["baseModel"]);i!=null&&g(e,["baseModel"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const a=p(t,["updateTime"]);return a!=null&&g(e,["updateTime"],a),e}function fE(t){const e={},i=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(e,["baseModel"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const a=p(t,["updateTime"]);return a!=null&&g(e,["updateTime"],a),e}function dE(t,e){const i={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),i}function hE(t,e){const i={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),i}function pE(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","name"],Dn(t,o));const a=p(e,["config"]);return a!=null&&dE(a,i),i}function mE(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["config"]);return a!=null&&hE(a,i),i}function gE(t,e){const i={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const y=p(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const E=p(t,["numberOfImages"]);e!==void 0&&E!=null&&g(e,["parameters","sampleCount"],E);const S=p(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),i}function yE(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["_url","model"],Dn(t,o));const a=p(e,["image"]);a!=null&&g(i,["instances[0]","image"],ya(a));const l=p(e,["upscaleFactor"]);l!=null&&g(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=p(e,["config"]);return c!=null&&gE(c,i),i}function vE(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>bd(l))),g(e,["generatedImages"],a)}return e}function xE(t){const e={},i=p(t,["uri"]);i!=null&&g(e,["uri"],i);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],ol(o));const a=p(t,["encoding"]);return a!=null&&g(e,["mimeType"],a),e}function bE(t){const e={},i=p(t,["gcsUri"]);i!=null&&g(e,["uri"],i);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],ol(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["mimeType"],a),e}function wE(t){const e={},i=p(t,["image"]);i!=null&&g(e,["_self"],ya(i));const o=p(t,["maskMode"]);return o!=null&&g(e,["maskMode"],o),e}function SE(t){const e={},i=p(t,["image"]);i!=null&&g(e,["image"],wd(i));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function _E(t){const e={},i=p(t,["image"]);i!=null&&g(e,["image"],ya(i));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function M5(t){const e={},i=p(t,["uri"]);i!=null&&g(e,["uri"],i);const o=p(t,["videoBytes"]);o!=null&&g(e,["encodedVideo"],ol(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["encoding"],a),e}function k5(t){const e={},i=p(t,["uri"]);i!=null&&g(e,["gcsUri"],i);const o=p(t,["videoBytes"]);o!=null&&g(e,["bytesBase64Encoded"],ol(o));const a=p(t,["mimeType"]);return a!=null&&g(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AE="Content-Type",EE="X-Server-Timeout",CE="User-Agent",Np="x-goog-api-client",TE="1.30.0",NE=`google-genai-sdk/${TE}`,ME="v1beta1",kE="v1beta",ny=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class LE{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ME,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:kE,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?o[a]=Object.assign(Object.assign({},o[a]),l):l!==void 0&&(o[a]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&RE(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await iy(a),new _p(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await iy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return $u(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:f,value:h}=yield si(a.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(h,{stream:!0});try{const w=JSON.parse(d);if("error"in w){const E=JSON.parse(JSON.stringify(w.error)),S=E.status,U=E.code,N=`got status: ${S}. ${JSON.stringify(w)}`;if(U>=400&&U<600)throw new vd({message:N,status:U})}}catch(w){if(w.name==="ApiError")throw w}c+=d;let y=c.match(ny);for(;y;){const w=y[1];try{const E=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield si(new _p(E)),c=c.slice(y[0].length),y=c.match(ny)}catch(E){throw new Error(`exception parsing stream chunk ${w}. ${E}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=NE+" "+this.clientOptions.userAgentExtra;return e[CE]=i,e[Np]=i,e[AE]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))o.append(a,l);e.timeout&&e.timeout>0&&o.append(EE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const f=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const h={file:a},d=this.getFileName(e),y=xt("upload/v1beta/files",h._url),w=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,d,h,i==null?void 0:i.httpOptions);return l.upload(e,w,this)}async uploadFileToFileSearchStore(e,i,o){var a;const l=this.clientOptions.uploader,c=await l.stat(i),f=String(c.size),h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),w={};o!=null&&o.customMetadata&&(w.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(w.chunkingConfig=o.chunkingConfig);const E=await this.fetchUploadUrl(d,f,h,y,w,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,l,c){var f;let h={};c?h=c:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const d=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:h});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=d==null?void 0:d.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function iy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new vd({message:a,status:i}):new Error(a)}}function RE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const f=Object.assign({},l);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const d=c[h],y=f[h];d&&typeof d=="object"&&!Array.isArray(d)&&y&&typeof y=="object"&&!Array.isArray(y)?f[h]=o(y,d):(y&&d&&typeof y!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof y}, New type: ${typeof d}. Overwriting.`),f[h]=d)}return f}const a=o(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IE="mcp_used/unknown";let DE=!1;function L5(t){for(const e of t)if(PE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return DE}function R5(t){var e;const i=(e=t[Np])!==null&&e!==void 0?e:"";t[Np]=(i+` ${IE}`).trimStart()}function PE(t){return t!==null&&typeof t=="object"&&t instanceof Gp}function UE(t,e=100){return $u(this,arguments,function*(){let o,a=0;for(;a<e;){const l=yield si(t.listTools({cursor:o}));for(const c of l.tools)yield yield si(c),a++;if(!l.nextCursor)break;o=l.nextCursor}})}class Gp{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Gp(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var f=!0,h=(i=void 0,Yc(UE(y))),d;d=await h.next(),e=d.done,!e;f=!0){a=d.value,f=!1;const w=a;c.push(w);const E=w.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=y}}catch(w){i={error:w}}finally{try{!f&&!e&&(o=h.return)&&await o.call(h)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),NS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FE(t,e,i){const o=new bS;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class BE{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=zE(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),h=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let d=()=>{};const y=new Promise(D=>{d=D}),w=e.callbacks,E=function(){d({})},S=this.apiClient,U={onopen:E,onmessage:D=>{FE(S,w.onmessage,D)},onerror:(i=w==null?void 0:w.onerror)!==null&&i!==void 0?i:function(D){},onclose:(o=w==null?void 0:w.onclose)!==null&&o!==void 0?o:function(D){}},N=this.webSocketFactory.create(h,OE(c),U);N.connect(),await y;const R={setup:{model:Dn(this.apiClient,e.model)}};return N.send(JSON.stringify(R)),new qE(N,this.apiClient)}}class qE{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=E4(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=A4(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Vu.PLAY)}pause(){this.sendPlaybackControl(Vu.PAUSE)}stop(){this.sendPlaybackControl(Vu.STOP)}resetContext(){this.sendPlaybackControl(Vu.RESET_CONTEXT)}close(){this.conn.close()}}function OE(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function zE(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GE(t,e,i){const o=new xS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(t.isVertexAI()){const c=N4(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class VE{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new BE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let y;const w=this.apiClient.getHeaders();e.config&&e.config.tools&&L5(e.config.tools)&&R5(w);const E=WE(w);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const K=this.apiClient.getApiKey();let X="BidiGenerateContent",F="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",F="access_token"),y=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${X}?${F}=${K}`}let S=()=>{};const U=new Promise(K=>{S=K}),N=e.callbacks,B=function(){var K;(K=N==null?void 0:N.onopen)===null||K===void 0||K.call(N),S({})},L=this.apiClient,R={onopen:B,onmessage:K=>{GE(L,N.onmessage,K)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(K){},onclose:(o=N==null?void 0:N.onclose)!==null&&o!==void 0?o:function(K){}},D=this.webSocketFactory.create(y,JE(E),R);D.connect(),await U;let J=Dn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const K=this.apiClient.getProject(),X=this.apiClient.getLocation();J=`projects/${K}/locations/${X}/`+J}let le={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[dd.AUDIO]}:e.config.responseModalities=[dd.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const pe=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],ue=[];for(const K of pe)if(this.isCallableTool(K)){const X=K;ue.push(await X.tool())}else ue.push(K);ue.length>0&&(e.config.tools=ue);const se={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?le=_4(this.apiClient,se):le=S4(this.apiClient,se),delete le.config,D.send(JSON.stringify(le)),new YE(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jE={turnComplete:!0};class YE{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Uo(i.turns),e.isVertexAI()||(o=o.map(a=>xd(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(HE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},jE),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:T4(e)}:i={realtimeInput:C4(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function JE(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function WE(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ry=10;function oy(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Xu(c)){a=!0;break}if(!a)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Xu(t){return"callTool"in t&&typeof t.callTool=="function"}function KE(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Xu(a)))!==null&&o!==void 0?o:!1}function ay(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,a)=>{if(Xu(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function sy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $E extends vs{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,l,c,f;const h=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!KE(i)||oy(i.config))return await this.generateContentInternal(h);const d=ay(i);if(d.length>0){const N=d.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let y,w;const E=Uo(h.contents),S=(l=(a=(o=h.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:ry;let U=0;for(;U<S&&(y=await this.generateContentInternal(h),!(!y.functionCalls||y.functionCalls.length===0));){const N=y.candidates[0].content,B=[];for(const L of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(Xu(L)){const D=await L.callTool(y.functionCalls);B.push(...D)}U++,w={role:"user",parts:B},h.contents=Uo(h.contents),h.contents.push(N),h.contents.push(w),sy(h.config)&&(E.push(N),E.push(w))}return sy(h.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async i=>{var o,a,l,c,f;if(this.maybeMoveToResponseJsonSchem(i),oy(i.config)){const w=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(w)}const h=ay(i);if(h.length>0){const w=h.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${w}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(l=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(d&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let l;const c=[];if(o!=null&&o.generatedImages)for(const h of o.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((a=h==null?void 0:h.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:c.push(h);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},f}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Yl(ys.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,l,c,f,h;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((h=(f=i.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async h=>Xu(h)?await h.tool():h)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&L5(e.config.tools)){const h=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),R5(d),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return f}async initAfcToolsMap(e){var i,o,a;const l=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Xu(c)){const f=c,h=await f.tool();for(const d of(a=h.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,f)}}return l}async processAfcStream(e){var i,o,a;const l=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:ry;let c=!1,f=0;const h=await this.initAfcToolsMap(e);return(function(d,y,w){var E,S;return $u(this,arguments,function*(){for(var U,N,B,L;f<l;){c&&(f++,c=!1);const le=yield si(d.processParamsMaybeAddMcpUsage(w)),pe=yield si(d.generateContentStreamInternal(le)),ue=[],se=[];try{for(var R=!0,D=(N=void 0,Yc(pe)),J;J=yield si(D.next()),U=J.done,!U;R=!0){L=J.value,R=!1;const K=L;if(yield yield si(K),K.candidates&&(!((E=K.candidates[0])===null||E===void 0)&&E.content)){se.push(K.candidates[0].content);for(const X of(S=K.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(f<l&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(X.functionCall.name)){const F=yield si(y.get(X.functionCall.name).callTool([X.functionCall]));ue.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(K){N={error:K}}finally{try{!R&&!U&&(B=D.return)&&(yield si(B.call(D)))}finally{if(N)throw N.error}}if(ue.length>0){c=!0;const K=new Gc;K.candidates=[{content:{role:"user",parts:ue}}],yield yield si(K);const X=[];X.push(...se),X.push({role:"user",parts:ue});const F=Uo(w.contents).concat(X);w.contents=F}else break}})})(this,h,e)}async generateContentInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=Qg(this.apiClient,e);return f=xt("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=ty(y),E=new Gc;return Object.assign(E,w),E})}else{const d=Zg(this.apiClient,e);return f=xt("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=ey(y),E=new Gc;return Object.assign(E,w),E})}}async generateContentStreamInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=Qg(this.apiClient,e);return f=xt("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(w){return $u(this,arguments,function*(){var E,S,U,N;try{for(var B=!0,L=Yc(w),R;R=yield si(L.next()),E=R.done,!E;B=!0){N=R.value,B=!1;const D=N,J=ty(yield si(D.json()));J.sdkHttpResponse={headers:D.headers};const le=new Gc;Object.assign(le,J),yield yield si(le)}}catch(D){S={error:D}}finally{try{!B&&!E&&(U=L.return)&&(yield si(U.call(L)))}finally{if(S)throw S.error}}})})}else{const d=Zg(this.apiClient,e);return f=xt("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(w){return $u(this,arguments,function*(){var E,S,U,N;try{for(var B=!0,L=Yc(w),R;R=yield si(L.next()),E=R.done,!E;B=!0){N=R.value,B=!1;const D=N,J=ey(yield si(D.json()));J.sdkHttpResponse={headers:D.headers};const le=new Gc;Object.assign(le,J),yield yield si(le)}}catch(D){S={error:D}}finally{try{!B&&!E&&(U=L.return)&&(yield si(U.call(L)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=rA(this.apiClient,e);return f=xt("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=aA(y),E=new Ug;return Object.assign(E,w),E})}else{const d=iA(this.apiClient,e);return f=xt("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=oA(y),E=new Ug;return Object.assign(E,w),E})}}async generateImagesInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=yA(this.apiClient,e);return f=xt("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=xA(y),E=new Fg;return Object.assign(E,w),E})}else{const d=gA(this.apiClient,e);return f=xt("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=vA(y),E=new Fg;return Object.assign(E,w),E})}}async editImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Q4(this.apiClient,e);return l=xt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const d=eA(h),y=new lS;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=yE(this.apiClient,e);return l=xt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const d=vE(h),y=new uS;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=ZA(this.apiClient,e);return l=xt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=QA(h),y=new cS;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=oE(this.apiClient,e);return l=xt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=aE(h),y=new fS;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=UA(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Tp(y))}else{const d=PA(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cp(y))}}async listInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=jA(this.apiClient,e);return f=xt("{models_url}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=JA(y),E=new Bg;return Object.assign(E,w),E})}else{const d=VA(this.apiClient,e);return f=xt("{models_url}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=YA(y),E=new Bg;return Object.assign(E,w),E})}}async update(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=mE(this.apiClient,e);return f=xt("{model}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Tp(y))}else{const d=pE(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Cp(y))}}async delete(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=K4(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=X4(y),E=new qg;return Object.assign(E,w),E})}else{const d=W4(this.apiClient,e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=$4(y),E=new qg;return Object.assign(E,w),E})}}async countTokens(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=j4(this.apiClient,e);return f=xt("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=J4(y),E=new Og;return Object.assign(E,w),E})}else{const d=V4(this.apiClient,e);return f=xt("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=Y4(y),E=new Og;return Object.assign(E,w),E})}}async computeTokens(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=F4(this.apiClient,e);return l=xt("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const d=B4(h),y=new dS;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=EA(this.apiClient,e);return f=xt("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>{const w=_A(y),E=new hd;return Object.assign(E,w),E})}else{const d=AA(this.apiClient,e);return f=xt("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const w=SA(y),E=new hd;return Object.assign(E,w),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XE extends vs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=nS(e);return f=xt("{operationName}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c}else{const d=tS(e);return f=xt("{operationName}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=W3(e);return l=xt("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(t){const e={},i=p(t,["data"]);if(i!=null&&g(e,["data"],i),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function QE(t){const e={},i=p(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>lC(l))),g(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function eC(t,e,i){const o={},a=p(e,["expireTime"]);i!==void 0&&a!=null&&g(i,["expireTime"],a);const l=p(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&g(i,["newSessionExpireTime"],l);const c=p(e,["uses"]);i!==void 0&&c!=null&&g(i,["uses"],c);const f=p(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&g(i,["bidiGenerateContentSetup"],sC(t,f));const h=p(e,["lockAdditionalFields"]);return i!==void 0&&h!=null&&g(i,["fieldMask"],h),o}function tC(t,e){const i={},o=p(e,["config"]);return o!=null&&g(i,["config"],eC(t,o,i)),i}function nC(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["fileUri"]);i!=null&&g(e,["fileUri"],i);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function iC(t){const e={},i=p(t,["id"]);i!=null&&g(e,["id"],i);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const a=p(t,["name"]);if(a!=null&&g(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rC(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(t,["enableWidget"]);return i!=null&&g(e,["enableWidget"],i),e}function oC(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(t,["timeRangeFilter"]);return i!=null&&g(e,["timeRangeFilter"],i),e}function aC(t,e){const i={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","responseModalities"],a);const l=p(t,["temperature"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","temperature"],l);const c=p(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const f=p(t,["topK"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","topK"],f);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const y=p(t,["seed"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","seed"],y);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","speechConfig"],Hp(w));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const U=p(t,["systemInstruction"]);e!==void 0&&U!=null&&g(e,["setup","systemInstruction"],QE(Mr(U)));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let pe=tc(N);Array.isArray(pe)&&(pe=pe.map(ue=>cC(ec(ue)))),g(e,["setup","tools"],pe)}const B=p(t,["sessionResumption"]);e!==void 0&&B!=null&&g(e,["setup","sessionResumption"],uC(B));const L=p(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","outputAudioTranscription"],R);const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const J=p(t,["contextWindowCompression"]);e!==void 0&&J!=null&&g(e,["setup","contextWindowCompression"],J);const le=p(t,["proactivity"]);return e!==void 0&&le!=null&&g(e,["setup","proactivity"],le),i}function sC(t,e){const i={},o=p(e,["model"]);o!=null&&g(i,["setup","model"],Dn(t,o));const a=p(e,["config"]);return a!=null&&g(i,["config"],aC(a,i)),i}function lC(t){const e={},i=p(t,["mediaResolution"]);i!=null&&g(e,["mediaResolution"],i);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&g(e,["executableCode"],a);const l=p(t,["fileData"]);l!=null&&g(e,["fileData"],nC(l));const c=p(t,["functionCall"]);c!=null&&g(e,["functionCall"],iC(c));const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],ZE(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const y=p(t,["thought"]);y!=null&&g(e,["thought"],y);const w=p(t,["thoughtSignature"]);w!=null&&g(e,["thoughtSignature"],w);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function uC(t){const e={},i=p(t,["handle"]);if(i!=null&&g(e,["handle"],i),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cC(t){const e={},i=p(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(w=>w)),g(e,["functionDeclarations"],y)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);a!=null&&g(e,["computerUse"],a);const l=p(t,["fileSearch"]);l!=null&&g(e,["fileSearch"],l);const c=p(t,["codeExecution"]);if(c!=null&&g(e,["codeExecution"],c),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=p(t,["googleMaps"]);f!=null&&g(e,["googleMaps"],rC(f));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],oC(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function dC(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const l=fC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(d=>c.includes(d)?`generationConfig.${d}`:d));const h=[];l&&h.push(l),f.length>0&&h.push(...f),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class hC extends vs{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=tC(this.apiClient,e);l=xt("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=dC(f,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(t,e){const i={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["displayName"],o),i}function mC(t){const e={},i=p(t,["config"]);return i!=null&&pC(i,e),e}function gC(t,e){const i={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),i}function yC(t){const e={},i=p(t,["name"]);i!=null&&g(e,["_url","name"],i);const o=p(t,["config"]);return o!=null&&gC(o,e),e}function vC(t){const e={},i=p(t,["name"]);return i!=null&&g(e,["_url","name"],i),e}function xC(t,e){const i={},o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&g(e,["chunkingConfig"],a),i}function bC(t){const e={},i=p(t,["name"]);i!=null&&g(e,["name"],i);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const a=p(t,["done"]);a!=null&&g(e,["done"],a);const l=p(t,["error"]);l!=null&&g(e,["error"],l);const c=p(t,["response"]);return c!=null&&g(e,["response"],SC(c)),e}function wC(t){const e={},i=p(t,["fileSearchStoreName"]);i!=null&&g(e,["_url","file_search_store_name"],i);const o=p(t,["fileName"]);o!=null&&g(e,["fileName"],o);const a=p(t,["config"]);return a!=null&&xC(a,e),e}function SC(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&g(e,["documentName"],a),e}function _C(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),i}function AC(t){const e={},i=p(t,["config"]);return i!=null&&_C(i,e),e}function EC(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["fileSearchStores"],l)}return e}function CC(t,e){const i={},o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["mimeType"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const l=p(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["customMetadata"],f)}const c=p(t,["chunkingConfig"]);return e!==void 0&&c!=null&&g(e,["chunkingConfig"],c),i}function TC(t){const e={},i=p(t,["fileSearchStoreName"]);i!=null&&g(e,["_url","file_search_store_name"],i);const o=p(t,["config"]);return o!=null&&CC(o,e),e}function NC(t){const e={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(t,e){const i={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),i}function kC(t){const e={},i=p(t,["name"]);i!=null&&g(e,["_url","name"],i);const o=p(t,["config"]);return o!=null&&MC(o,e),e}function LC(t){const e={},i=p(t,["name"]);return i!=null&&g(e,["_url","name"],i),e}function RC(t,e){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&g(e,["_query","pageToken"],a),i}function IC(t){const e={},i=p(t,["parent"]);i!=null&&g(e,["_url","parent"],i);const o=p(t,["config"]);return o!=null&&RC(o,e),e}function DC(t){const e={},i=p(t,["sdkHttpResponse"]);i!=null&&g(e,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const a=p(t,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends vs{constructor(e){super(),this.apiClient=e,this.list=async i=>new Yl(ys.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=LC(e);return l=xt("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kC(e);a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=IC(e);return l=xt("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=DC(h),y=new hS;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends vs{constructor(e,i=new PC(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new Yl(ys.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mC(e);return l=xt("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vC(e);return l=xt("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var i,o;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yC(e);a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=AC(e);return l=xt("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=EC(h),y=new pS;return Object.assign(y,d),y})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=TC(e);return l=xt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=NC(h),y=new mS;return Object.assign(y,d),y})}}async importFile(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=wC(e);return l=xt("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const d=bC(h),y=new Fp;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(t,e){const i={},o=p(t,["name"]);return o!=null&&g(i,["_url","name"],o),i}function BC(t,e){const i={},o=p(t,["name"]);return o!=null&&g(i,["_url","name"],o),i}function qC(t,e,i){const o={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=p(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&g(e,["displayName"],a),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=p(t,["epochCount"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","epochCount"],l);const c=p(t,["learningRateMultiplier"]);if(c!=null&&g(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=p(t,["batchSize"]);e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","batchSize"],f);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&g(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function OC(t,e,i){const o={};let a=p(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec"],ly(S))}else if(a==="PREFERENCE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec"],ly(S))}const l=p(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&g(e,["tunedModelDisplayName"],l);const c=p(t,["description"]);e!==void 0&&c!=null&&g(e,["description"],c);let f=p(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(f==="PREFERENCE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let h=p(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(h==="PREFERENCE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let d=p(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(d==="PREFERENCE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let y=p(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(y==="PREFERENCE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const E=p(t,["beta"]);return e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function zC(t,e){const i={},o=p(t,["baseModel"]);o!=null&&g(i,["baseModel"],o);const a=p(t,["preTunedModel"]);a!=null&&g(i,["preTunedModel"],a);const l=p(t,["trainingDataset"]);l!=null&&ZC(l);const c=p(t,["config"]);return c!=null&&qC(c,i),i}function HC(t,e){const i={},o=p(t,["baseModel"]);o!=null&&g(i,["baseModel"],o);const a=p(t,["preTunedModel"]);a!=null&&g(i,["preTunedModel"],a);const l=p(t,["trainingDataset"]);l!=null&&QC(l,i,e);const c=p(t,["config"]);return c!=null&&OC(c,i,e),i}function GC(t,e){const i={},o=p(t,["name"]);return o!=null&&g(i,["_url","name"],o),i}function VC(t,e){const i={},o=p(t,["name"]);return o!=null&&g(i,["_url","name"],o),i}function jC(t,e,i){const o={},a=p(t,["pageSize"]);e!==void 0&&a!=null&&g(e,["_query","pageSize"],a);const l=p(t,["pageToken"]);e!==void 0&&l!=null&&g(e,["_query","pageToken"],l);const c=p(t,["filter"]);return e!==void 0&&c!=null&&g(e,["_query","filter"],c),o}function YC(t,e,i){const o={},a=p(t,["pageSize"]);e!==void 0&&a!=null&&g(e,["_query","pageSize"],a);const l=p(t,["pageToken"]);e!==void 0&&l!=null&&g(e,["_query","pageToken"],l);const c=p(t,["filter"]);return e!==void 0&&c!=null&&g(e,["_query","filter"],c),o}function JC(t,e){const i={},o=p(t,["config"]);return o!=null&&jC(o,i),i}function WC(t,e){const i={},o=p(t,["config"]);return o!=null&&YC(o,i),i}function KC(t,e){const i={},o=p(t,["sdkHttpResponse"]);o!=null&&g(i,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&g(i,["nextPageToken"],a);const l=p(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>I5(f))),g(i,["tuningJobs"],c)}return i}function $C(t,e){const i={},o=p(t,["sdkHttpResponse"]);o!=null&&g(i,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&g(i,["nextPageToken"],a);const l=p(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Mp(f))),g(i,["tuningJobs"],c)}return i}function XC(t,e){const i={},o=p(t,["name"]);o!=null&&g(i,["model"],o);const a=p(t,["name"]);return a!=null&&g(i,["endpoint"],a),i}function ZC(t,e){const i={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=p(t,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(i,["examples","examples"],a)}return i}function QC(t,e,i){const o={};let a=p(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=p(t,["gcsUri"]);e!==void 0&&c!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=p(t,["gcsUri"]);e!==void 0&&c!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=p(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=p(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=p(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function I5(t,e){const i={},o=p(t,["sdkHttpResponse"]);o!=null&&g(i,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&g(i,["name"],a);const l=p(t,["state"]);l!=null&&g(i,["state"],p5(l));const c=p(t,["createTime"]);c!=null&&g(i,["createTime"],c);const f=p(t,["tuningTask","startTime"]);f!=null&&g(i,["startTime"],f);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(i,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(i,["updateTime"],d);const y=p(t,["description"]);y!=null&&g(i,["description"],y);const w=p(t,["baseModel"]);w!=null&&g(i,["baseModel"],w);const E=p(t,["_self"]);return E!=null&&g(i,["tunedModel"],XC(E)),i}function Mp(t,e){const i={},o=p(t,["sdkHttpResponse"]);o!=null&&g(i,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&g(i,["name"],a);const l=p(t,["state"]);l!=null&&g(i,["state"],p5(l));const c=p(t,["createTime"]);c!=null&&g(i,["createTime"],c);const f=p(t,["startTime"]);f!=null&&g(i,["startTime"],f);const h=p(t,["endTime"]);h!=null&&g(i,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(i,["updateTime"],d);const y=p(t,["error"]);y!=null&&g(i,["error"],y);const w=p(t,["description"]);w!=null&&g(i,["description"],w);const E=p(t,["baseModel"]);E!=null&&g(i,["baseModel"],E);const S=p(t,["tunedModel"]);S!=null&&g(i,["tunedModel"],S);const U=p(t,["preTunedModel"]);U!=null&&g(i,["preTunedModel"],U);const N=p(t,["supervisedTuningSpec"]);N!=null&&g(i,["supervisedTuningSpec"],N);const B=p(t,["preferenceOptimizationSpec"]);B!=null&&g(i,["preferenceOptimizationSpec"],B);const L=p(t,["tuningDataStats"]);L!=null&&g(i,["tuningDataStats"],L);const R=p(t,["encryptionSpec"]);R!=null&&g(i,["encryptionSpec"],R);const D=p(t,["partnerModelTuningSpec"]);D!=null&&g(i,["partnerModelTuningSpec"],D);const J=p(t,["customBaseModel"]);J!=null&&g(i,["customBaseModel"],J);const le=p(t,["experiment"]);le!=null&&g(i,["experiment"],le);const pe=p(t,["labels"]);pe!=null&&g(i,["labels"],pe);const ue=p(t,["outputUri"]);ue!=null&&g(i,["outputUri"],ue);const se=p(t,["pipelineJob"]);se!=null&&g(i,["pipelineJob"],se);const K=p(t,["serviceAccount"]);K!=null&&g(i,["serviceAccount"],K);const X=p(t,["tunedModelDisplayName"]);X!=null&&g(i,["tunedModelDisplayName"],X);const F=p(t,["veoTuningSpec"]);return F!=null&&g(i,["veoTuningSpec"],F),i}function e6(t,e){const i={},o=p(t,["sdkHttpResponse"]);o!=null&&g(i,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&g(i,["name"],a);const l=p(t,["metadata"]);l!=null&&g(i,["metadata"],l);const c=p(t,["done"]);c!=null&&g(i,["done"],c);const f=p(t,["error"]);return f!=null&&g(i,["error"],f),i}function ly(t,e){const i={},o=p(t,["gcsUri"]);o!=null&&g(i,["validationDatasetUri"],o);const a=p(t,["vertexDatasetResource"]);return a!=null&&g(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t6 extends vs{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Yl(ys.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Sp.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=VC(e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>Mp(y))}else{const d=GC(e);return f=xt("{name}",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>I5(y))}}async listInternal(e){var i,o,a,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const d=WC(e);return f=xt("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=$C(y),E=new zg;return Object.assign(E,w),E})}else{const d=JC(e);return f=xt("tunedModels",d._url),h=d._query,delete d._url,delete d._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(w=>{const E=w;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const w=KC(y),E=new zg;return Object.assign(E,w),E})}}async cancel(e){var i,o,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const h=BC(e);c=xt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const h=FC(e);c=xt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=HC(e,e);return l=xt("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>Mp(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=zC(e);return l=xt("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>e6(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n6{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const i6=1024*1024*8,r6=3,o6=1e3,a6=2,md="x-goog-upload-status";async function s6(t,e,i){var o;const a=await D5(t,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[md])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function l6(t,e,i){var o;const a=await D5(t,e,i),l=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[md])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=l5(l),f=new Bp;return Object.assign(f,c),f}async function D5(t,e,i){var o,a;let l=0,c=0,f=new _p(new Response),h="upload";for(l=t.size;c<l;){const d=Math.min(i6,l-c),y=t.slice(c,c+d);c+d>=l&&(h+=", finalize");let w=0,E=o6;for(;w<r6&&(f=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(c),"Content-Length":String(d)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[md]));)w++,await c6(E),E=E*a6;if(c+=d,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[md])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function u6(t){return{size:t.size,type:t.type}}function c6(t){return new Promise(e=>setTimeout(e,t))}class f6{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await s6(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await l6(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await u6(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d6{create(e,i,o){return new h6(e,i,o)}}class h6{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uy="x-goog-api-key";class p6{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(uy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(uy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m6="gl-node/";class g6{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=Y3(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new p6(this.apiKey);this.apiClient=new LE({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:m6+"web",uploader:new f6,downloader:new n6}),this.models=new $E(this.apiClient),this.live=new VE(this.apiClient,a,new d6),this.batches=new w_(this.apiClient),this.chats=new n4(this.models,this.apiClient),this.caches=new Q_(this.apiClient),this.files=new d4(this.apiClient),this.operations=new XE(this.apiClient),this.authTokens=new hC(this.apiClient),this.tunings=new t6(this.apiClient),this.fileSearchStores=new UC(this.apiClient)}}const y6="PLACEHOLDER_API_KEY",v6=new g6({apiKey:y6}),x6={type:xn.OBJECT,properties:{type:{type:xn.STRING,enum:["line","rectangle","circle","text","symbol"],description:"The type of the shape to draw."},p1:{type:xn.OBJECT,properties:{x:{type:xn.NUMBER},y:{type:xn.NUMBER}},description:"Start point for lines or dimension lines."},p2:{type:xn.OBJECT,properties:{x:{type:xn.NUMBER},y:{type:xn.NUMBER}},description:"End point for lines or dimension lines."},x:{type:xn.NUMBER,description:"Top-left X for rect/text/symbol."},y:{type:xn.NUMBER,description:"Top-left Y for rect/text/symbol."},width:{type:xn.NUMBER,description:"Width for rectangle."},height:{type:xn.NUMBER,description:"Height for rectangle."},cx:{type:xn.NUMBER,description:"Center X for circle."},cy:{type:xn.NUMBER,description:"Center Y for circle."},r:{type:xn.NUMBER,description:"Radius for circle."},startAngle:{type:xn.NUMBER,description:"Start angle for arcs (degrees)."},endAngle:{type:xn.NUMBER,description:"End angle for arcs (degrees)."},content:{type:xn.STRING,description:"Content for text shape."},fontSize:{type:xn.NUMBER,description:"Font size for text."},name:{type:xn.STRING,enum:["door","window","arrow","warning","extinguisher","emergency_exit","first_aid","restroom","trailer","hydrant","forklift","pallet","rack","conveyor","container"],description:"Name of the symbol icon. Use door/window for architecture."},size:{type:xn.NUMBER,description:"Size of the symbol."},rotation:{type:xn.NUMBER,description:"Rotation in degrees."},properties:{type:xn.OBJECT,properties:{color:{type:xn.STRING,description:"Stroke color (hex code)."},fill:{type:xn.STRING,description:"Fill color (hex code or transparent)."},strokeWidth:{type:xn.NUMBER,description:"Stroke width in pixels."},lineType:{type:xn.STRING,enum:["solid","dashed","dotted","dash-dot"],description:"Line style (solid, dashed, dotted, dash-dot)"}}}},required:["type"]},b6=async t=>{try{const i=(await v6.models.generateContent({model:"gemini-2.5-flash",config:{systemInstruction:`You are an expert CAD assistant capable of generating 2D geometric shapes based on natural language descriptions.
                
                Coordinate System Rules:
                - Origin (0,0) is top-left.
                - X increases to the right.
                - Y increases downwards.
                - Assume 1 unit = 1 mm (unless specified otherwise).
                - Typically, a standard room might be 4000x3000 units.
                
                Task:
                - Analyze the user's request.
                - Generate a list of geometric shapes (lines, rectangles, circles, text, symbols) to fulfill the request.
                - For walls, use rectangles with thin width or double lines.
                - For doors and windows, use the 'symbol' type with name 'door' or 'window'.
                - For arcs, use 'circle' type and specify startAngle and endAngle.
                - For logistics, use symbols like 'forklift', 'pallet', 'rack', 'conveyor'.
                - If the user requests dashed or dotted lines (e.g. for projections, hidden lines), use the lineType property.
                - Default stroke color: #FFFFFF.
                - Default stroke width: 1 or 2.
                - If not specified, assume a central starting position around (0,0) or (2000, 2000).
                
                Output:
                - Return ONLY a JSON array of shape objects.
                `,responseMimeType:"application/json",responseSchema:{type:xn.ARRAY,items:x6}},contents:t})).text;if(!i)return[];const o=JSON.parse(i);return Array.isArray(o)?o:[]}catch(e){throw console.error("Error generating CAD data:",e),e}},w6=()=>{const{addShapes:t,createNewDrawing:e}=il(),[i,o]=gt.useState(!1),[a,l]=gt.useState(""),[c,f]=gt.useState(!1),[h,d]=gt.useState([{id:"1",role:"assistant",content:'Hola, soy tu asistente de CAD impulsado por Gemini. Qu te gustara dibujar hoy? (Ej: "Dibuja una planta de casa simple con dos habitaciones")'}]),y=gt.useRef(null);gt.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[h,i]);const w=async()=>{if(!a.trim()||c)return;const S={id:Date.now().toString(),role:"user",content:a};d(U=>[...U,S]),l(""),f(!0);try{(a.toLowerCase().includes("nuevo dibujo")||a.toLowerCase().includes("borrar todo"))&&e();const U=await b6(a);if(U&&U.length>0){const N=U.map(B=>(B.properties||(B.properties={color:"#FFFFFF",fill:"transparent",strokeWidth:1}),B.type==="text"&&!B.fontSize&&(B.fontSize=12),B.type==="symbol"&&!B.size&&(B.size=24),B));t(N),d(B=>[...B,{id:(Date.now()+1).toString(),role:"assistant",content:`Listo! He generado ${N.length} elementos basados en tu descripcin.`}])}else d(N=>[...N,{id:(Date.now()+1).toString(),role:"assistant",content:"Entend tu solicitud, pero no pude generar formas vlidas. Intenta ser ms especfico con las dimensiones o formas."}])}catch(U){console.error(U),d(N=>[...N,{id:(Date.now()+1).toString(),role:"assistant",content:"Lo siento, hubo un error al conectar con Gemini. Verifica tu API Key.",isError:!0}])}finally{f(!1)}},E=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),w())};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>o(!i),className:`fixed bottom-6 right-6 z-[60] p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-105 ${i?"bg-secondary text-white rotate-90":"bg-primary text-white hover:bg-primary-focus"}`,"aria-label":"Toggle AI Assistant",children:i?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):_.jsx(m2,{className:"w-6 h-6"})}),i&&_.jsxs("div",{className:"fixed bottom-24 right-6 z-[60] w-96 max-w-[calc(100vw-3rem)] h-[500px] max-h-[calc(100vh-8rem)] bg-base-100 dark:bg-dark-base-200 border border-base-300 dark:border-dark-base-300 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in slide-in-from-bottom-10 duration-200",children:[_.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-focus p-4 flex items-center gap-2 text-primary-content",children:[_.jsx(m2,{className:"w-5 h-5"}),_.jsx("h3",{className:"font-bold",children:"PMC CAD Assistant"})]}),_.jsxs("div",{ref:y,className:"flex-grow overflow-y-auto p-4 space-y-4 bg-base-100 dark:bg-dark-base-100",children:[h.map(S=>_.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm ${S.role==="user"?"bg-primary text-primary-content rounded-br-none":S.isError?"bg-red-100 text-red-800 border border-red-200 rounded-bl-none":"bg-base-200 dark:bg-dark-base-300 text-base-content dark:text-dark-base-content rounded-bl-none"}`,children:S.content})},S.id)),c&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-base-200 dark:bg-dark-base-300 p-3 rounded-2xl rounded-bl-none flex gap-2 items-center",children:[_.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),_.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),_.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),_.jsxs("div",{className:"p-4 bg-base-100 dark:bg-dark-base-200 border-t border-base-300 dark:border-dark-base-300",children:[_.jsxs("div",{className:"relative flex items-end gap-2",children:[_.jsx("textarea",{value:a,onChange:S=>l(S.target.value),onKeyDown:E,placeholder:"Describe qu dibujar...",className:"w-full resize-none max-h-32 min-h-[44px] bg-base-200 dark:bg-dark-base-300 text-base-content dark:text-dark-base-content rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary",rows:1}),_.jsx("button",{onClick:w,disabled:c||!a.trim(),className:"p-3 bg-primary hover:bg-primary-focus text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors mb-[1px]",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]}),_.jsx("div",{className:"text-xs text-center mt-2 text-base-content/40 dark:text-dark-base-content/40",children:"Impulsado por Google Gemini 2.5 Flash"})]})]})]})},S6=()=>_.jsxs("div",{className:"flex flex-col h-screen bg-base-100 dark:bg-dark-base-100 text-base-content dark:text-dark-base-content font-sans overflow-hidden",children:[_.jsx(I3,{}),_.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[_.jsx(D3,{}),_.jsx("main",{className:"flex-grow flex flex-col relative",children:_.jsx(H3,{})}),_.jsx("aside",{className:"w-72 bg-base-100 dark:bg-dark-base-100 border-l border-base-300 dark:border-dark-base-300 flex flex-col flex-shrink-0 overflow-y-auto",children:_.jsx(U3,{})})]}),_.jsx(w6,{})]}),_6=()=>_.jsx(ix,{children:_.jsx(S6,{})}),P5=document.getElementById("root");if(!P5)throw new Error("Could not find root element to mount to");const A6=tx.createRoot(P5);A6.render(_.jsx(fy.StrictMode,{children:_.jsx(_6,{})}));export{Hn as _,C6 as c,cy as g};
